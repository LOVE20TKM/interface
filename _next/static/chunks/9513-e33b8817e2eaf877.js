"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9513],{19591:(e,t,n)=>{n.d(t,{n3:()=>l,vC:()=>m,CF:()=>c,Lg:()=>k,Zh:()=>v,Fd:()=>T,S1:()=>A});var i=n(16927),a=n(4902),s=n(75569),u=n(14232),r=n(38967),d=n(92165),o=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"PROMISED_WAITING_PHASES_MAX",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PROMISED_WAITING_PHASES_MIN",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"accountStakeStatus",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"tuple",internalType:"struct AccountStakeStatus",components:[{name:"slAmount",type:"uint256",internalType:"uint256"},{name:"stAmount",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"requestedUnstakeRound",type:"uint256",internalType:"uint256"},{name:"govVotes",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"caculateGovVotes",inputs:[{name:"slAmount",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"cumulatedTokenAmount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"tokenAmount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"cumulatedTokenAmountByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"tokenAmount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"govVotesNum",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialStakeRound",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"promisedWaitingPhasesMin",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhasesMax",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeLiquidity",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmountForLP",type:"uint256",internalType:"uint256"},{name:"parentTokenAmountForLP",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"},{name:"slAmountAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"stakeToken",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmount",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"stakeTokenUpdatedRoundsAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeTokenUpdatedRoundsByAccountAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeTokenUpdatedRoundsByAccountCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeTokenUpdatedRoundsCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"unstake",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validGovVotes",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"StakeLiquidity",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmountForLP",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountForLP",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotesAdded",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotes",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmountAdded",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeToken",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotesAdded",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotes",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unstake",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotes",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"tokenAmountForLp",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountForLp",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AlreadyUnstaked",inputs:[]},{type:"error",name:"InvalidToAddress",inputs:[]},{type:"error",name:"NoStakedLiquidity",inputs:[]},{type:"error",name:"NotAllowedToStakeAtRoundZero",inputs:[]},{type:"error",name:"NotEnoughWaitingBlocks",inputs:[]},{type:"error",name:"PromisedWaitingPhasesMustBeGreaterOrEqualThanBefore",inputs:[]},{type:"error",name:"PromisedWaitingPhasesOutOfRange",inputs:[]},{type:"error",name:"RoundHasNotStartedYet",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]},{type:"error",name:"StakeAmountMustBeSet",inputs:[]},{type:"error",name:"UnstakeAlreadyRequested",inputs:[]},{type:"error",name:"UnstakeNotRequested",inputs:[]}],p=n(65575),y="0x928cc255e6ACa047d7094c75C00a59A6E4bB11ba",l=(e,t)=>{var n=(0,s.Q)({address:y,abi:o,functionName:"accountStakeStatus",args:[e,t],query:{enabled:!!e&&!!t}}),i=n.data,a=n.isPending,u=n.error;return{slAmount:(null==i?void 0:i.slAmount)?(0,p.oQ)(i.slAmount):void 0,stAmount:(null==i?void 0:i.stAmount)?(0,p.oQ)(i.stAmount):void 0,promisedWaitingPhases:(null==i?void 0:i.promisedWaitingPhases)?(0,p.oQ)(i.promisedWaitingPhases):0n,requestedUnstakeRound:(null==i?void 0:i.requestedUnstakeRound)?(0,p.oQ)(i.requestedUnstakeRound):void 0,govVotes:(null==i?void 0:i.govVotes)?(0,p.oQ)(i.govVotes):void 0,isPending:a,error:u}},m=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,s.Q)({address:y,abi:o,functionName:"currentRound",args:[],query:{enabled:e}}),n=t.data,i=t.isPending,a=t.error;return{currentRound:(0,p.oQ)(n),isPending:i,error:a}},c=e=>{var t=(0,s.Q)({address:y,abi:o,functionName:"initialStakeRound",args:[e],query:{enabled:!!e}}),n=t.data,i=t.isPending,a=t.error;return{initialStakeRound:n?(0,p.oQ)(n):void 0,isPending:i,error:a}},T=(e,t)=>{var n=(0,s.Q)({address:y,abi:o,functionName:"validGovVotes",args:[e,t],query:{enabled:!!e&&!!t}}),i=n.data,a=n.isPending,u=n.error;return{validGovVotes:(0,p.oQ)(i),isPending:a,error:u}},k=()=>{var e=(0,r.VR)(o,y,"stakeToken"),t=e.execute,n=e.isPending,s=e.isConfirming,p=e.isConfirmed,l=e.error,m=e.hash,c=e.isTukeMode;return(0,u.useEffect)(()=>{m&&console.log("stakeToken tx hash:",m),l&&(console.log("提交stakeToken交易错误:"),(0,d.YN)(l),(0,d.vV)(l))},[m,l]),{stakeToken:(e,n,s,u)=>(0,i._)(function(){return(0,a.YH)(this,function(i){switch(i.label){case 0:return console.log("提交stakeToken交易:",{tokenAddress:e,tokenAmount:n,promisedWaitingPhases:s,to:u,isTukeMode:c}),[4,t([e,n,s,u])];case 1:return[2,i.sent()]}})})(),isPending:n,isConfirming:s,writeError:l,isConfirmed:p,hash:m,isTukeMode:c}},v=()=>{var e=(0,r.VR)(o,y,"unstake"),t=e.execute,n=e.isPending,s=e.isConfirming,p=e.isConfirmed,l=e.error,m=e.hash,c=e.isTukeMode;return(0,u.useEffect)(()=>{m&&console.log("unstake tx hash:",m),l&&(console.log("提交unstake交易错误:"),(0,d.YN)(l),(0,d.vV)(l))},[m,l]),{unstake:e=>(0,i._)(function(){return(0,a.YH)(this,function(n){switch(n.label){case 0:return console.log("提交unstake交易:",{tokenAddress:e,isTukeMode:c}),[4,t([e])];case 1:return[2,n.sent()]}})})(),writeData:m,isWriting:n,writeError:l,isConfirming:s,isConfirmed:p,hash:m,isTukeMode:c}},A=()=>{var e=(0,r.VR)(o,y,"withdraw"),t=e.execute,n=e.isPending,s=e.isConfirming,p=e.isConfirmed,l=e.error,m=e.hash,c=e.isTukeMode;return(0,u.useEffect)(()=>{m&&console.log("withdraw tx hash:",m),l&&(console.log("提交withdraw交易错误:"),(0,d.YN)(l),(0,d.vV)(l))},[m,l]),{withdraw:e=>(0,i._)(function(){return(0,a.YH)(this,function(n){switch(n.label){case 0:return console.log("提交withdraw交易:",{tokenAddress:e,isTukeMode:c}),[4,t([e])];case 1:return[2,n.sent()]}})})(),writeData:m,isWriting:n,writeError:l,isConfirming:s,isConfirmed:p,hash:m,isTukeMode:c}}},42038:(e,t,n)=>{n.d(t,{C:()=>a});var i=n(97685),a=e=>!!e||(i.oR.error("请先将钱包链接 ".concat("thinkium70001")),!1)},99574:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(37876),a=n(14232),s=n(7446);let u=e=>{var t=e.isLoading,n=e.text;return((0,a.useEffect)(()=>{if(t){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[t]),t)?(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 touch-none overscroll-none",onTouchMove:e=>{e.preventDefault()},onTouchStart:e=>{e.preventDefault()},style:{touchAction:"none"},children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(s.A,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,i.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:void 0===n?"Loading":n})]})}):null}}}]);