try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="09746888-9421-4825-bad3-b009f08499ea",e._sentryDebugIdIdentifier="sentry-dbid-09746888-9421-4825-bad3-b009f08499ea")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{53696:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(11010),r=t(91309),i=t(97582),s=t(85893),u=t(67294),o=t(23432),p=(0,t(31134).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),d=t(42130),y=t(30246),l=t(86501),c=t(55612);function m(e){var n,t=e.tokenAddress,m=e.tokenSymbol,b=e.tokenDecimals,f=e.tokenImage,T=(0,r._)((0,u.useState)(!1),2),g=T[0],v=T[1],h=(0,d.m)().isConnected,M=(0,y.p)().data,w=(n=(0,a._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:if(!h)return alert("请先连接你的钱包"),[2];v(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!M)return alert("无法获取钱包客户端"),[2];return[4,M.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:m,decimals:b,image:f}}})];case 2:return e.sent()?l.ZP.success("代币已成功添加到 MetaMask 钱包"):l.ZP.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),l.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return v(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return m.length>11||(0,c.ON)()?null:(0,s.jsx)("button",{onClick:w,disabled:g,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:g?(0,s.jsx)(o.Z,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(p,{className:"h-4 w-4 text-greyscale-500"})})}},77156:function(e,n,t){t.d(n,{yA:function(){return l},hS:function(){return y}});var a=t(11010),r=t(97582),i=t(67294),s=t(71104),u=[{type:"constructor",inputs:[{name:"minter_",type:"address",internalType:"address"},{name:"tokenAddress_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"decreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"subtractedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"increaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"addedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"mint",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"minter",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"reserve",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenBurn",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenMint",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AmountIsGreaterThanReserve",inputs:[]},{type:"error",name:"InvalidAddress",inputs:[]},{type:"error",name:"NotMinter",inputs:[]}],o=t(37742),p=t(37474),d=t(84689),y=function(e,n){var t=(0,s.u)({address:e,abi:u,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n}}),a=t.data,r=t.isPending,i=t.error;return{balance:a?(0,o.Zu)(a):void 0,isPending:r,error:i}};function l(e){var n,t=(0,p.e9)(u,e,"approve"),s=t.execute,o=t.isPending,y=t.isConfirming,l=t.isConfirmed,c=t.error,m=t.hash,b=t.isTukeMode,f=(n=(0,a._)(function(n,t){return(0,r.Jh)(this,function(a){switch(a.label){case 0:return console.log("提交approve交易:",{address:e,spender:n,value:t,isTukeMode:b}),[4,s([n,t])];case 1:return[2,a.sent()]}})}),function(e,t){return n.apply(this,arguments)});return(0,i.useEffect)(function(){m&&console.log("approve tx hash:",m),c&&(console.log("提交approve交易错误:"),(0,d.Vh)(c),(0,d.H)(c))},[m,c]),{approve:f,isPending:o,isConfirming:y,writeError:c,isConfirmed:l,hash:m,isTukeMode:b}}},99958:function(e,n,t){t.d(n,{Cn:function(){return u},IS:function(){return i},Tn:function(){return s},iF:function(){return o}});var a=t(26858),r=t(37742),i=function(e,n,t){if(!e||!n)return"0%";var i=31536e6/Number("2868"),s=(0,r.Zu)("30126");if(0===i||s===BigInt(0))return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME_MS 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var u=(n*BigInt(2)||BigInt(0))+(t||BigInt(0));if(u===BigInt(0))return"0%";var o=Number(e)/Number(u)/(Number(s)/i)*100;return(0,a.rl)(o)},s=function(e,n){if(!e||!n||n===BigInt(0))return"∞";var t=31536e6/Number("2868"),i=(0,r.Zu)("30126");if(0===t||i===BigInt(0))return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var s=Number(e)/Number(n)/(Number(i)/t)*100;return(0,a.rl)(s)},u=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Number("30126")||0,r=Number("2868")||0,i=e*a,s=Math.ceil(i*r/1e3);n=s>=86400?"".concat(Math.round(s/86400),"天"):s>=3600?"".concat(Math.ceil(s/3600),"小时"):"".concat(Math.ceil(s/60),"分钟");var u="".concat(i.toLocaleString(),"区块，约").concat(n);return t||(u="".concat(e,"个阶段（").concat(u,")")),u},o=function(e,n){if(!e)return BigInt(0);var t=BigInt(1e3)-(0,r.Zu)("1")-(0,r.Zu)("1");return BigInt(0),n<=BigInt(1)?e*(0,r.Zu)("1")/BigInt(1e3):e*t*(0,r.Zu)("1")/BigInt(1e6)}}}]);