try{!function(){var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new n.Error).stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="76338e20-aa59-4ff3-be61-69420b157dd0",n._sentryDebugIdIdentifier="sentry-dbid-76338e20-aa59-4ff3-be61-69420b157dd0")}()}catch(n){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6268],{18790:function(n,e,t){t.d(e,{H:function(){return i}});var i=[{type:"constructor",inputs:[{name:"factory_",type:"address",internalType:"address"},{name:"tokenAddress_",type:"address",internalType:"address"},{name:"joinTokenAddress_",type:"address",internalType:"address"},{name:"govRatioMultiplier_",type:"uint256",internalType:"uint256"},{name:"minGovRatio_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"DEFAULT_WAITING_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"FACTORY_ADDRESS",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"GOV_RATIO_MULTIPLIER",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"JOIN_TOKEN_ADDRESS",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"MIN_GOV_RATIO",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"TOKEN_ADDRESS",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"WAITING_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionId",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"burnInfo",inputs:[{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"burnAmount",type:"uint256",internalType:"uint256"},{name:"burned",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"burnRewardIfNeeded",inputs:[{name:"round",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimReward",inputs:[{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"mintReward",type:"uint256",internalType:"uint256"},{name:"burnReward",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"claimRewards",inputs:[{name:"rounds",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"claimedRounds",type:"uint256[]",internalType:"uint256[]"},{name:"mintRewards",type:"uint256[]",internalType:"uint256[]"},{name:"burnRewards",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"nonpayable"},{type:"function",name:"deduction",inputs:[{name:"round",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"deduction_",type:"uint256",internalType:"uint256"},{name:"joinBlocks_",type:"uint256[]",internalType:"uint256[]"},{name:"joinAmounts_",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"exit",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"govRatio",inputs:[{name:"round",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"ratio",type:"uint256",internalType:"uint256"},{name:"claimed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"initializeIfNeeded",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"join",inputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"verificationInfos",type:"string[]",internalType:"string[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"joinInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"joinedRound",type:"uint256",internalType:"uint256"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"lastJoinedBlock",type:"uint256",internalType:"uint256"},{name:"exitableBlock",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"joinedAmount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"joinedAmountByAccount",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"joinedAmountByAccountByRound",inputs:[{name:"account",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"joinedAmountByRound",inputs:[{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"joinedAmountTokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"reward",inputs:[{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"rewardByAccount",inputs:[{name:"round",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"mintReward",type:"uint256",internalType:"uint256"},{name:"burnReward",type:"uint256",internalType:"uint256"},{name:"claimed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"totalDeduction",inputs:[{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"BurnReward",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClaimReward",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"mintAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"burnAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Exit",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialize",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Join",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ActionIdNotFound",inputs:[]},{type:"error",name:"AlreadyClaimed",inputs:[]},{type:"error",name:"InsufficientGovRatio",inputs:[]},{type:"error",name:"InvalidJoinTokenAddress",inputs:[]},{type:"error",name:"InvalidRound",inputs:[]},{type:"error",name:"InvalidTokenAddress",inputs:[]},{type:"error",name:"JoinAmountZero",inputs:[]},{type:"error",name:"MultipleActionIdsFound",inputs:[]},{type:"error",name:"NotEnoughWaitingBlocks",inputs:[{name:"currentBlock",type:"uint256",internalType:"uint256"},{name:"exitableBlock",type:"uint256",internalType:"uint256"}]},{type:"error",name:"NotJoined",inputs:[]},{type:"error",name:"RoundNotFinished",inputs:[{name:"currentRound",type:"uint256",internalType:"uint256"}]}]},86171:function(n,e,t){t.d(e,{K:function(){return i}});var i=[{type:"constructor",inputs:[{name:"_feeToSetter",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"allPairs",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"allPairsLength",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"createPair",inputs:[{name:"tokenA",type:"address",internalType:"address"},{name:"tokenB",type:"address",internalType:"address"}],outputs:[{name:"pair",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"feeTo",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"feeToSetter",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPair",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"setFeeTo",inputs:[{name:"_feeTo",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setFeeToSetter",inputs:[{name:"_feeToSetter",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"PairCreated",inputs:[{name:"token0",type:"address",indexed:!0,internalType:"address"},{name:"token1",type:"address",indexed:!0,internalType:"address"},{name:"pair",type:"address",indexed:!1,internalType:"address"},{name:"",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}]},36268:function(n,e,t){t.d(e,{dB:function(){return N},bX:function(){return B},Us:function(){return A.U},kz:function(){return i.kz},VW:function(){return b}});var i=t(92112),r=t(67294),o=t(67516),u=t(18790),a=t(37742),s=t(91309),d=t(86171),l=t(18456),p="0x0ce7Aa2069d92De630AFf1B6b512f5E47af6Ffc8";function c(n){if(n)return"0x0000000000000000000000000000000000000000"===n?void 0:n}function y(n){return{convertedAmount:n,isSuccess:!0,isPending:!1,error:null}}function m(n,e,t,i,r){if(!t.reserves||!t.token0||!t.token1||void 0===t.totalSupply)return{convertedAmount:BigInt(0),isSuccess:!1,isPending:i,error:r};var o=t.reserves,u=t.token0,a=(t.token1,t.totalSupply);if(a===BigInt(0))return{convertedAmount:BigInt(0),isSuccess:!1,isPending:!1,error:null};var d=(0,s._)(o,2),l=d[0],p=d[1];return{convertedAmount:(u.toLowerCase()===e.toLowerCase()?l:p)*n*BigInt(2)/a,isSuccess:!0,isPending:!1,error:null}}function f(n,e,t,i,r,o,u,a,d){if(!i)return{convertedAmount:BigInt(0),isSuccess:!1,isPending:o,error:u};if(!r.reserves||!r.token0)return{convertedAmount:BigInt(0),isSuccess:!1,isPending:a,error:d};var l=r.reserves,p=r.token0;if(!l||!p)return{convertedAmount:BigInt(0),isSuccess:!1,isPending:!1,error:null};var c=(0,s._)(l,2),y=c[0],m=c[1];if(y===BigInt(0)||m===BigInt(0))return{convertedAmount:BigInt(0),isSuccess:!1,isPending:!1,error:null};var f=n.toLowerCase()===p.toLowerCase();return{convertedAmount:t*(f?m:y)/(f?y:m),isSuccess:!0,isPending:!1,error:null}}var v=function(n){var e=n.fromToken,t=n.isFromTokenLP,i=n.fromAmount,u=n.toToken,s=(0,r.useMemo)(function(){return e===u||t?[]:[{address:p,abi:d.K,functionName:"getPair",args:[e,u]}]},[e,u,t]),v=(0,o.N)({contracts:s,query:{enabled:s.length>0}}),T=v.data,g=v.isPending,b=v.error,A=(0,r.useMemo)(function(){if(null==T?void 0:null===(n=T[0])||void 0===n?void 0:n.result){var n;return c(T[0].result)}},[T]),I=(0,r.useMemo)(function(){if(e===u)return[];var n=t?e:A;if(!n)return[];var i=[{address:n,abi:l.y,functionName:"getReserves",args:[]},{address:n,abi:l.y,functionName:"token0",args:[]},{address:n,abi:l.y,functionName:"token1",args:[]}];return t&&i.push({address:n,abi:l.y,functionName:"totalSupply",args:[]}),i},[e,u,t,A]),k=(0,o.N)({contracts:I,query:{enabled:I.length>0}}),h=k.data,M=k.isPending,x=k.error;return(0,r.useMemo)(function(){if(e===u)return y(i);if(t){var n,r,o,s,d,l;return m(i,u,{reserves:null==h?void 0:null===(o=h[0])||void 0===o?void 0:o.result,token0:null==h?void 0:null===(s=h[1])||void 0===s?void 0:s.result,token1:null==h?void 0:null===(d=h[2])||void 0===d?void 0:d.result,totalSupply:(0,a.Zu)(null==h?void 0:null===(l=h[3])||void 0===l?void 0:l.result)},M,x)}return f(e,u,i,A,{reserves:null==h?void 0:null===(n=h[0])||void 0===n?void 0:n.result,token0:null==h?void 0:null===(r=h[1])||void 0===r?void 0:r.result},g,b,M,x)},[e,u,t,i,A,h,M,x,g,b])},T=function(n){var e=n.conversions,t=(0,r.useMemo)(function(){if(!e||0===e.length)return[];var n=[];return e.forEach(function(e,t){var i=e.fromToken,r=e.toToken,o=e.isFromTokenLP;i===r||o||n.push({address:p,abi:d.K,functionName:"getPair",args:[i,r],conversionIndex:t})}),n},[e]),i=(0,o.N)({contracts:t,query:{enabled:t.length>0}}),u=i.data,s=i.isPending,v=i.error,T=(0,r.useMemo)(function(){if(!u||0===u.length)return new Map;var n=new Map;return t.forEach(function(e,t){var i=u[t];if(null==i?void 0:i.result){var r=i.result;n.set(e.conversionIndex,c(r))}else n.set(e.conversionIndex,void 0)}),n},[u,t]),g=(0,r.useMemo)(function(){if(!e||0===e.length)return[];var n=[];return e.forEach(function(e,t){var i=e.fromToken,r=e.toToken,o=e.isFromTokenLP;if(i!==r){var u=T.get(t),a=o?i:u;a&&(n.push({address:a,abi:l.y,functionName:"getReserves",args:[],conversionIndex:t,contractType:"getReserves"},{address:a,abi:l.y,functionName:"token0",args:[],conversionIndex:t,contractType:"token0"},{address:a,abi:l.y,functionName:"token1",args:[],conversionIndex:t,contractType:"token1"}),o&&n.push({address:a,abi:l.y,functionName:"totalSupply",args:[],conversionIndex:t,contractType:"totalSupply"}))}}),n},[e,T]),b=(0,o.N)({contracts:g,query:{enabled:g.length>0}}),A=b.data,I=b.isPending,k=b.error,h=(0,r.useMemo)(function(){if(!A||0===A.length)return new Map;var n=new Map;return g.forEach(function(e,t){var i=A[t],r=e.conversionIndex,o=e.contractType;n.has(r)||n.set(r,{});var u=n.get(r);(null==i?void 0:i.result)&&("getReserves"===o?u.reserves=i.result:"token0"===o?u.token0=i.result:"token1"===o?u.token1=i.result:"totalSupply"===o&&(u.totalSupply=(0,a.Zu)(i.result)))}),n},[A,g]);return{results:(0,r.useMemo)(function(){return e&&0!==e.length?e.map(function(n,e){var t=n.fromToken,i=n.toToken,r=n.isFromTokenLP,o=n.fromAmount;if(t===i)return y(o);if(r){var u=h.get(e);return u?m(o,i,u,I,k):{convertedAmount:BigInt(0),isSuccess:!1,isPending:I,error:k}}return f(t,i,o,T.get(e),h.get(e)||{},s,v,I,k)}):[]},[e,T,h,I,k,s,v]),isPending:(0,r.useMemo)(function(){return!!e&&0!==e.length&&(t.length>0&&s||g.length>0&&I)},[e,t.length,g.length,s,I]),error:(0,r.useMemo)(function(){return v||k},[v,k])}};function g(n,e){return e.findIndex(function(e){return e===n})}var b=function(n){var e=n.tokenAddress,t=n.actionInfos,s=(0,i.YS)({tokenAddress:e,actionInfos:t}),d=s.contractInfos,l=s.isPending,p=s.error,c=(0,r.useMemo)(function(){if(!e||0===t.length||0===d.length)return[];var n=[],i=!0,r=!1,o=void 0;try{for(var u,a=d[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var s=u.value;s.isExtension&&s.extension&&n.push(s.extension)}}catch(n){r=!0,o=n}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n},[e,t,d]),y=(0,r.useMemo)(function(){if(0===c.length)return[];var n=[],e=!0,t=!1,i=void 0;try{for(var r,o=c[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;n.push({address:a,abi:u.H,functionName:"accountsCount",args:[]}),n.push({address:a,abi:u.H,functionName:"joinedAmount",args:[]})}}catch(n){t=!0,i=n}finally{try{e||null==o.return||o.return()}finally{if(t)throw i}}return n},[c]),m=(0,o.N)({contracts:y,query:{enabled:y.length>0}}),f=m.data,v=m.isPending,b=m.error,A=(0,r.useMemo)(function(){if(!e||0===c.length||!f)return{conversions:[],conversionMappings:[]};var n=[],i=[],r=!0,o=!1,u=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)!function(){var t,r=s.value.head.id,o=d.find(function(n){return n.actionId===r});if(!!(null==o?void 0:o.isExtension)&&!!o.extension){var u=g(o.extension,c);if(-1!==u){var l=f[2*u+1];if(null==l?void 0:l.result){var p=(0,a.Zu)(l.result),y=o.joinedAmountTokenAddress,m=null!==(t=o.joinedAmountTokenIsLP)&&void 0!==t&&t;y&&y!==e&&(n.push({fromToken:y,isFromTokenLP:m,fromAmount:p,toToken:e}),i.push({actionId:r,extensionIndex:u,conversionIndex:n.length-1}))}}}}()}catch(n){o=!0,u=n}finally{try{r||null==l.return||l.return()}finally{if(o)throw u}}return{conversions:n,conversionMappings:i}},[e,t,d,c,f]),I=A.conversions,k=A.conversionMappings,h=T({conversions:I}),M=h.results,x=h.isPending,w=h.error;return{baseData:(0,r.useMemo)(function(){var n=[],e=!0,i=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(e=(o=u.next()).done);e=!0)!function(){var e=o.value.head.id,t=d.find(function(n){return n.actionId===e});if(!(null==t?void 0:t.isExtension)||!t.extension)return n.push({actionId:e,isExtension:!1});var i=g(t.extension,c);if(-1!==i&&f){var r=f[2*i],u=f[2*i+1],s=(0,a.Zu)(null==r?void 0:r.result),l=(0,a.Zu)(null==u?void 0:u.result),p=k.find(function(n){return n.actionId===e}),y=void 0,m=void 0;if(void 0!==p){var v=null==M?void 0:M[p.conversionIndex];(null==v?void 0:v.isSuccess)?(y=v.convertedAmount,m=!0):x||(console.warn("⚠️ ActionId ".concat(e," 的代币转换失败，使用原始金额. ")+"Error: ".concat(null==v?void 0:v.error)),y=l,m=!1)}else y=l,m=!1;n.push({actionId:e,isExtension:!0,extension:t.extension,accountsCount:s,joinedAmount:l,convertedJoinedValue:y,isConvertedJoinedValueSuccess:m})}else n.push({actionId:e,isExtension:!0,extension:t.extension})}()}catch(n){i=!0,r=n}finally{try{e||null==u.return||u.return()}finally{if(i)throw r}}return n},[t,d,c,f,k,M,x]),isPending:l||y.length>0&&v||I.length>0&&x,error:p||b||w}};t(8926);var A=t(15298);t(5563);var I=t(72253),k=t(14932),h=t(58494),M=t(67959),x=t(58149),w="0x37Ddf561323b823144BaE33264f9C5461714846e",P="0x37Ddf561323b823144BaE33264f9C5461714846e";function N(n){var e=n.tokenAddress,t=n.actionId,i=n.account,u=n.verificationKeys,a=(0,r.useMemo)(function(){return u&&0!==u.length?u.map(function(n){return{address:P,abi:M.z,functionName:"verificationInfo",args:e&&void 0!==t&&i&&n?[e,t,i,n]:void 0}}):[]},[P,e,t,i,u]),s=(0,o.N)({contracts:a,query:{enabled:!!P&&!!e&&void 0!==t&&!!i&&!!u&&u.length>0}}),d=s.data,l=s.isPending,p=s.error;return{verificationInfos:(0,r.useMemo)(function(){return u&&0!==u.length?d?u.map(function(n,e){var t=d[e];if((null==t?void 0:t.status)==="success")return t.result}):Array(u.length).fill(void 0):[]},[d,u]),isPending:l,error:p||null}}function B(n,e,t,u){var s,d,l,p,c,y,m,f,T,g,b,A,P,N,B,S,R,C,V,_,j,E,L,F,D,J,O,U,q,Z=(0,i.kz)({tokenAddress:n,actionInfo:e}),z=Z.contractInfo,G=Z.isPending,K=(0,r.useMemo)(function(){var n;return null!==(n=null==z?void 0:z.isExtension)&&void 0!==n&&n},[z]),W=(0,r.useMemo)(function(){return null==z?void 0:z.extension},[z]),H=(0,r.useMemo)(function(){var n;return null==e?void 0:null===(n=e.head)||void 0===n?void 0:n.id},[e]),Y=(s=K?W:void 0,l=(d=(0,x.I)({tokenAddress:n,actionIds:void 0!==H?[H]:[],enabled:!!n&&void 0!==H})).actionInfos,p=d.isPending,c=(0,r.useMemo)(function(){if(0!==l.length){var n=l[0];return{head:n.head,body:(0,k._)((0,I._)({},n.body),{verificationRule:""})}}},[l]),m=(y=(0,i.kz)({tokenAddress:n,actionInfo:c})).contractInfo,f=y.isPending,T=y.error,b=(g=(0,r.useMemo)(function(){var e=[],i={accountsCount:-1,joinedAmount:-1,isAccountJoined:-1};return n&&void 0!==H&&(i.accountsCount=e.length,e.push({address:w,abi:M.z,functionName:"accountsCount",args:[n,H]})),s&&(i.joinedAmount=e.length,e.push({address:s,abi:h.U,functionName:"joinedAmount"})),n&&void 0!==H&&t&&(i.isAccountJoined=e.length,e.push({address:w,abi:M.z,functionName:"isAccountJoined",args:[n,H,t]})),{contracts:e,contractIndex:i,isContractsEnabled:e.length>0}},[n,H,s,t])).contracts,A=g.contractIndex,P=g.isContractsEnabled,B=(N=(0,o.N)({contracts:b,query:{enabled:P}})).data,S=N.isPending,R=N.error,C=(0,r.useMemo)(function(){var n,e=A.accountsCount;if(!(e<0))return(null==B?void 0:null===(n=B[e])||void 0===n?void 0:n.status)==="success"?(0,a.Zu)(B[e].result):void 0},[B,A.accountsCount]),V=(0,r.useMemo)(function(){var n,e=A.joinedAmount;if(!(e<0))return(null==B?void 0:null===(n=B[e])||void 0===n?void 0:n.status)==="success"?(0,a.Zu)(B[e].result):void 0},[B,A.joinedAmount]),_=(0,r.useMemo)(function(){var n,e=A.isAccountJoined;return!(e<0)&&(null==B?void 0:null===(n=B[e])||void 0===n?void 0:n.status)==="success"&&B[e].result},[B,A.isAccountJoined]),j=(0,r.useMemo)(function(){return V},[V]),E=(0,r.useMemo)(function(){return(null==m?void 0:m.joinedAmountTokenAddress)||n},[null==m?void 0:m.joinedAmountTokenAddress,n]),L=(0,r.useMemo)(function(){var n;return null!==(n=null==m?void 0:m.joinedAmountTokenIsLP)&&void 0!==n&&n},[null==m?void 0:m.joinedAmountTokenIsLP]),F=(0,r.useMemo)(function(){return null==m?void 0:m.joinedAmountTokenSymbol},[null==m?void 0:m.joinedAmountTokenSymbol]),D=(0,r.useMemo)(function(){return void 0!==j&&j>BigInt(0)&&void 0!==E&&void 0!==n&&E.toLowerCase()!==n.toLowerCase()},[j,E,n]),J="0x0000000000000000000000000000000000000000",U=(O=v({fromToken:E||n||J,isFromTokenLP:L,fromAmount:j||BigInt(0),toToken:n||J})).convertedAmount,q=O.isSuccess,{participantCount:C,totalAmount:j,convertedTotalAmount:(0,r.useMemo)(function(){if(D&&q)return U},[D,q,U]),joinedAmountTokenAddress:E,joinedAmountTokenSymbol:F,joinedAmountTokenIsLP:L,isJoined:_,isPending:(0,r.useMemo)(function(){return p||f||S},[p,f,S]),error:(0,r.useMemo)(function(){return R||T||null},[R,T])});return(0,r.useMemo)(function(){var e;return{isExtensionAction:K,extensionAddress:K?W:void 0,factory:K?null==z?void 0:z.factory:void 0,participantCount:K?Y.participantCount:null==u?void 0:u.participantCount,totalAmount:K?Y.totalAmount:null==u?void 0:u.totalAmount,convertedTotalAmount:K?Y.convertedTotalAmount:void 0,joinedAmountTokenAddress:K?Y.joinedAmountTokenAddress:n,joinedAmountTokenSymbol:K?Y.joinedAmountTokenSymbol:void 0,joinedAmountTokenIsLP:!!K&&Y.joinedAmountTokenIsLP,isJoined:K?Y.isJoined:null!==(e=null==u?void 0:u.isJoined)&&void 0!==e&&e,isPending:G||K&&Y.isPending,error:K?Y.error:null}},[K,W,z,Y,u,G,n])}t(62719),t(22403),t(15206)},62719:function(n,e,t){t.d(e,{x:function(){return a}});var i=t(67294),r=t(67516),o=t(67959),u=t(80332);function a(n){var e=n.tokenAddress,t=n.actionId,a=n.round,s=(0,u.nd)(e||"0x0",t||BigInt(0),a||BigInt(0)),d=s.count,l=s.isPending,p=s.error,c=(0,i.useMemo)(function(){return d&&d!==BigInt(0)?Array.from({length:Number(d)},function(n,i){return{address:"0x37Ddf561323b823144BaE33264f9C5461714846e",abi:o.z,functionName:"accountsByRoundAtIndex",args:e&&void 0!==t&&a?[e,t,BigInt(i),a]:void 0}}):[]},[d,e,t,a]),y=(0,r.N)({contracts:c,query:{enabled:!!d&&d>BigInt(0)&&c.length>0}}),m=y.data,f=y.isPending,v=y.error;return{accounts:(0,i.useMemo)(function(){if(!m||!d||d===BigInt(0))return[];for(var n=[],e=0;e<m.length;e++){var t=m[e];(null==t?void 0:t.status)==="success"&&n.push(t.result)}return n},[m,d]),count:d,isPending:void 0===d||d===BigInt(0)?l:l||f,error:p||v||null}}},5563:function(n,e,t){t.d(e,{t:function(){return d}});var i=t(91309),r=t(67294),o=t(42130),u=t(67516),a=t(4502),s=t(37742),d=function(n){var e=n.extensionAddress,t=n.startRound,d=n.endRound,l=n.enabled,p=(0,o.m)().address,c=(0,r.useMemo)(function(){if(!e||!p||!l||d<t)return[];for(var n=[],i=t;i<=d;i++)n.push({address:e,abi:a.q,functionName:"rewardByAccount",args:[i,p]});return n},[e,p,l,t,d]),y=(0,u.N)({contracts:c,query:{enabled:c.length>0}}),m=y.data,f=y.isPending,v=y.error,T=y.refetch;return{rewards:(0,r.useMemo)(function(){if(!m||0===m.length)return[];for(var n=[],e=0;e<m.length;e++){var r=m[e];if(null==r?void 0:r.result){var o=(0,i._)(r.result,3),u=o[0],a=o[1],d=o[2],l=t+BigInt(e);n.push({round:l,mintReward:(0,s.Zu)(u),burnReward:(0,s.Zu)(a),claimed:d})}}return n.sort(function(n,e){return n.round>e.round?-1:1})},[m,t]),isPending:c.length>0&&f,error:v,refetch:T||function(){}}}},22403:function(n,e,t){t.d(e,{_:function(){return a}});var i=t(67516),r=t(50095),o=t(37742),u="0xA0a5BB442214988D0c6e707d825640C026fB1d04";function a(n){var e,t,a=n.groupName,s=n.maxGroupNameLength,d=n.enabled,l=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!n)return{isValid:!1,error:"群名称不能为空"};var t=new TextEncoder().encode(n),i=t.length;if(0===i||i>e)return{isValid:!1,error:"群名称长度必须在 1-".concat(e," 字节之间")};for(var r=0;r<i;){var o=t[r];if(o<=32)return{isValid:!1,error:"群名称不能包含控制字符或空格"};if(127===o)return{isValid:!1,error:"群名称不能包含 DEL 字符"};if(o<128){r++;continue}var u=0;if(o>=194&&o<=223)u=2;else if(o>=224&&o<=239)u=3;else{if(!(o>=240)||!(o<=244))return{isValid:!1,error:"群名称包含无效的 UTF-8 字符"};u=4}if(r+u>i)return{isValid:!1,error:"群名称包含不完整的 UTF-8 字符"};for(var a=1;a<u;a++){var s=t[r+a];if(s<128||s>191)return{isValid:!1,error:"群名称包含无效的 UTF-8 延续字节"}}if(2===u){var d=t[r],l=t[r+1];if(194===d&&160===l)return{isValid:!1,error:"群名称不能包含不间断空格"};if(194===d&&173===l)return{isValid:!1,error:"群名称不能包含软连字符"};if(194===d&&l>=128&&l<=159)return{isValid:!1,error:"群名称不能包含 C1 控制字符"};if(205===d&&143===l)return{isValid:!1,error:"群名称不能包含组合字形连接符"};if(216===d&&156===l)return{isValid:!1,error:"群名称不能包含阿拉伯字母标记"}}if(3===u){var p=t[r],c=t[r+1],y=t[r+2];if(225===p&&154===c&&128===y)return{isValid:!1,error:"群名称不能包含特殊空格字符"};if(226===p&&128===c&&y>=128&&y<=143)return{isValid:!1,error:"群名称不能包含特殊空格或零宽字符"};if(226===p&&128===c&&168===y)return{isValid:!1,error:"群名称不能包含行分隔符"};if(226===p&&128===c&&169===y)return{isValid:!1,error:"群名称不能包含段落分隔符"};if(226===p&&128===c&&y>=170&&y<=174)return{isValid:!1,error:"群名称不能包含方向格式化字符"};if(226===p&&128===c&&175===y)return{isValid:!1,error:"群名称不能包含窄不间断空格"};if(226===p&&129===c&&159===y)return{isValid:!1,error:"群名称不能包含特殊数学空格"};if(226===p&&129===c&&160===y)return{isValid:!1,error:"群名称不能包含单词连接符"};if(227===p&&128===c&&128===y)return{isValid:!1,error:"群名称不能包含全角空格"};if(239===p&&187===c&&191===y)return{isValid:!1,error:"群名称不能包含 BOM 字符"};if(224===p&&c<160)return{isValid:!1,error:"群名称包含过长的 UTF-8 编码"};if(237===p&&c>=160)return{isValid:!1,error:"群名称包含无效的 UTF-16 代理对"}}if(4===u){var m=t[r],f=t[r+1];if(240===m&&f<144)return{isValid:!1,error:"群名称包含过长的 UTF-8 编码"};if(244===m&&f>=144)return{isValid:!1,error:"群名称包含超出范围的 Unicode 字符"}}r+=u}return{isValid:!0}}(a,void 0===s?100:s),p=(void 0===d||d)&&!!a&&l.isValid,c=(0,i.N)({contracts:[{address:u,abi:r.s,functionName:"isGroupNameUsed",args:[a]},{address:u,abi:r.s,functionName:"calculateMintCost",args:[a]}],query:{enabled:p}}),y=c.data,m=c.isPending,f=c.error,v=null==y?void 0:null===(e=y[0])||void 0===e?void 0:e.result,T=(null==y?void 0:null===(t=y[1])||void 0===t?void 0:t.result)?(0,o.Zu)(y[1].result):void 0,g=l.isValid&&!v,b=l.error;return l.isValid&&v&&(b="该群名称已被使用"),{isValid:g,validationError:b,isGroupNameUsed:v,mintCost:T,isPending:!!p&&m,error:f}}},15206:function(n,e,t){t.d(e,{k:function(){return s}});var i=t(67516),r=t(50095),o=t(8300),u=t(37742),a="0xA0a5BB442214988D0c6e707d825640C026fB1d04";function s(n){for(var e=!!n,t=(0,o.hS)(n||"0x0000000000000000000000000000000000000000",e),s=t.balance,d=t.isPending,l=t.error,p=e&&void 0!==s?Number(s):0,c=[],y=0;y<p;y++)c.push({address:a,abi:r.s,functionName:"tokenOfOwnerByIndex",args:[n,BigInt(y)]});var m=(0,i.N)({contracts:c,query:{enabled:e&&p>0}}),f=m.data,v=m.isPending,T=m.error,g=null==f?void 0:f.map(function(n){return n.result?(0,u.Zu)(n.result):void 0}).filter(Boolean),b=(null==g?void 0:g.map(function(n){return{address:a,abi:r.s,functionName:"groupNameOf",args:[n]}}))||[],A=(0,i.N)({contracts:b,query:{enabled:e&&g&&g.length>0}}),I=A.data,k=A.isPending,h=A.error,M=e&&g?g.map(function(n,e){var t;return{tokenId:n,groupName:(null==I?void 0:null===(t=I[e])||void 0===t?void 0:t.result)||""}}):[],x=!!e&&(d||p>0&&(v||k)),w=e?l||T||h:void 0;return{myGroups:M,balance:e&&void 0!==s?s:BigInt(0),isPending:x,error:w}}}}]);