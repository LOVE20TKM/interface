"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4571],{18456:(e,t,a)=>{a.d(t,{k:()=>c});var n=a(66320),r=a(49154),s=a(16006),i=a(58547),o=a(73550);async function c(e,t){async function a(t){if(t.endsWith(o.vB.slice(2))){let a=(0,r.B)((0,n.iN)(t,-64,-32)),i=(0,n.iN)(t,0,-64).slice(2).match(/.{1,64}/g),c=await Promise.all(i.map(t=>o.BH.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),u=c.some(e=>null===e)?100:c.every(e=>e?.status==="0x1")?200:c.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,s.ME)(a),receipts:c.filter(Boolean),status:u,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:c=!1,chainId:u,receipts:d,version:l="2.0.0",...h}=await a(t.id),[m,p]=(()=>{let e=h.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...h,atomic:c,chainId:u?(0,s.ME)(u):void 0,receipts:d?.map(e=>({...e,blockNumber:(0,s.uU)(e.blockNumber),gasUsed:(0,s.uU)(e.gasUsed),status:i.Lj[e.status]}))??[],statusCode:p,status:m,version:l}}},21842:(e,t,a)=>{a.d(t,{w:()=>n});async function n(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}},23272:(e,t,a)=>{a.d(t,{c:()=>u});var n=a(76200),r=a(71503),s=a(92108),i=a(3190),o=a(40474),c=a(18456);async function u(e,t){let a,{id:n,pollingInterval:u=e.pollingInterval,status:l=({statusCode:e})=>e>=200,timeout:h=6e4}=t,m=(0,o.A)(["waitForCallsStatus",e.uid,n]),{promise:p,resolve:f,reject:w}=(0,i.Y)(),y=(0,r.lB)(m,{resolve:f,reject:w},t=>{let r=(0,s.w)(async()=>{let s=e=>{clearTimeout(a),r(),e(),y()};try{let a=await (0,c.k)(e,{id:n});if(!l(a))return;s(()=>t.resolve(a))}catch(e){s(()=>t.reject(e))}},{interval:u,emitOnBegin:!0});return r});return a=h?setTimeout(()=>{y(),clearTimeout(a),w(new d({id:n}))},h):void 0,await p}class d extends n.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}},44571:(e,t,a)=>{a.d(t,{G:()=>W});var n=a(63127),r=a(83607),s=a(81645);async function i(e,{chain:t}){let{id:a,name:n,nativeCurrency:r,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,s.cK)(a),chainName:n,nativeCurrency:r,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}var o=a(72422),c=a(32544);async function u(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,c.o)(e))}var d=a(18456),l=a(75687);async function h(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var m=a(57616),p=a(34472),f=a(96268),w=a(8481),y=a(53422);async function g(e,t){let{account:a=e.account,chainId:n,nonce:s}=t;if(!a)throw new p.T({docsPath:"/docs/eip7702/prepareAuthorization"});let i=(0,m.J)(a),o=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,m.J)(t.executor)})(),c={address:t.contractAddress??t.address,chainId:n,nonce:s};return void 0===c.chainId&&(c.chainId=e.chain?.id??await (0,w.T)(e,r.T,"getChainId")({})),void 0===c.nonce&&(c.nonce=await (0,w.T)(e,y.y,"getTransactionCount")({address:i.address,blockTag:"pending"}),("self"===o||o?.address&&(0,f.h)(o.address,i.address))&&(c.nonce+=1)),c}var v=a(93666);async function C(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,c.b)(e))}async function b(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var T=a(73550),I=a(5579),P=a(81035),E=a(72105);async function q(e,t){let{account:a=e.account}=t;if(!a)throw new p.T({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,m.J)(a);if(!n.signAuthorization)throw new p.Z({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let r=await g(e,t);return n.signAuthorization(r)}var N=a(84957),_=a(84663),A=a(94770),S=a(20547);async function M(e,t){let{account:a=e.account,chain:n=e.chain,...i}=t;if(!a)throw new p.T({docsPath:"/docs/actions/wallet/signTransaction"});let o=(0,m.J)(a);(0,S.c)({account:o,...t});let c=await (0,w.T)(e,r.T,"getChainId")({});null!==n&&(0,_.v)({currentChainId:c,chain:n});let u=n?.formatters||e.chain?.formatters,d=u?.transactionRequest?.format||A.Bv;return o.signTransaction?o.signTransaction({...i,chainId:c},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...d(i),chainId:(0,s.cK)(c),from:o.address}]},{retryCount:0})}var x=a(85450);async function z(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.cK)(t)}]},{retryCount:0})}var k=a(23272),D=a(21842),j=a(95216);function B(e){return{addChain:t=>i(e,t),deployContract:t=>(0,o.c)(e,t),getAddresses:()=>u(e),getCallsStatus:t=>(0,d.k)(e,t),getCapabilities:t=>(0,l.F)(e,t),getChainId:()=>(0,r.T)(e),getPermissions:()=>h(e),prepareAuthorization:t=>g(e,t),prepareTransactionRequest:t=>(0,v.ft)(e,t),requestAddresses:()=>C(e),requestPermissions:t=>b(e,t),sendCalls:t=>(0,T.yM)(e,t),sendRawTransaction:t=>(0,I.L)(e,t),sendTransaction:t=>(0,P.v)(e,t),showCallsStatus:t=>(0,E.J)(e,t),signAuthorization:t=>q(e,t),signMessage:t=>(0,N.l)(e,t),signTransaction:t=>M(e,t),signTypedData:t=>(0,x.C)(e,t),switchChain:t=>z(e,t),waitForCallsStatus:t=>(0,k.c)(e,t),watchAsset:t=>(0,D.w)(e,t),writeContract:t=>(0,j.E)(e,t)}}var J=a(90203);async function K(e,t={}){return(await (0,J.r)(e,t)).extend(B)}var O=a(24751),U=a(14232),F=a(25503),L=a(8047),R=a(1081),$=a(43387);function W(e={}){let{query:t={},...a}=e,r=(0,$.U)(a),s=(0,n.jE)(),{address:i,connector:o,status:c}=(0,L.F)({config:r}),u=(0,R.i)({config:r}),d=e.connector??o,{queryKey:l,...h}=function(e,t={}){return{gcTime:0,async queryFn({queryKey:a}){let{connector:n}=t,{connectorUid:r,scopeKey:s,...i}=a[1];return K(e,{...i,connector:n})},queryKey:function(e={}){let{connector:t,...a}=e;return["walletClient",{...(0,O.xO)(a),connectorUid:t?.uid}]}(t)}}(r,{...e,chainId:e.chainId??u,connector:e.connector??o}),m=!!(("connected"===c||"reconnecting"===c&&d?.getProvider)&&(t.enabled??!0)),p=(0,U.useRef)(i);return(0,U.useEffect)(()=>{let e=p.current;!i&&e?(s.removeQueries({queryKey:l}),p.current=void 0):i!==e&&(s.invalidateQueries({queryKey:l}),p.current=i)},[i,s]),(0,F.IT)({...t,...h,queryKey:l,enabled:m,staleTime:Number.POSITIVE_INFINITY})}},72105:(e,t,a)=>{a.d(t,{J:()=>n});async function n(e,t){let{id:a}=t;await e.request({method:"wallet_showCallsStatus",params:[a]})}},72422:(e,t,a)=>{a.d(t,{c:()=>s});var n=a(13003),r=a(81035);function s(e,t){let{abi:a,args:s,bytecode:i,...o}=t,c=(0,n.m)({abi:a,args:s,bytecode:i});return(0,r.v)(e,{...o,...o.authorizationList?{to:null}:{},data:c})}},73550:(e,t,a)=>{a.d(t,{BH:()=>m,vB:()=>h,yM:()=>p});var n=a(57616),r=a(76200),s=a(18912),i=a(14237),o=a(58798),c=a(16006),u=a(81645),d=a(46263),l=a(81035);let h="0x5792579257925792579257925792579257925792579257925792579257925792",m=(0,u.cK)(0,{size:32});async function p(e,t){let{account:a=e.account,capabilities:p,chain:f=e.chain,experimental_fallback:w,experimental_fallbackDelay:y=32,forceAtomic:g=!1,id:v,version:C="2.0.0"}=t,b=a?(0,n.J)(a):null,T=t.calls.map(e=>({data:e.abi?(0,i.p)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data,to:e.to,value:e.value?(0,u.cK)(e.value):void 0}));try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:g,calls:T,capabilities:p,chainId:(0,u.cK)(f.id),from:b?.address,id:v,version:C}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(a){if(w&&("MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name||a.details.toLowerCase().includes("does not exist / is not available")||a.details.toLowerCase().includes("missing or invalid. request()")||a.details.toLowerCase().includes("did not match any variant of untagged enum"))){if(p&&Object.values(p).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.L5(new r.C(e,{details:e}))}if(g&&T.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.jz(new r.C(e,{details:e}))}let t=[];for(let a of T){let n=(0,l.v)(e,{account:b,chain:f,data:a.data,to:a.to,value:a.value?(0,c.uU)(a.value):void 0});t.push(n),y>0&&await new Promise(e=>setTimeout(e,y))}let a=await Promise.allSettled(t);if(a.every(e=>"rejected"===e.status))throw a[0].reason;let n=a.map(e=>"fulfilled"===e.status?e.value:m);return{id:(0,o.xW)([...n,(0,u.cK)(f.id,{size:32}),h])}}throw(0,d.p)(a,{...t,account:b,chain:t.chain})}}},75687:(e,t,a)=>{a.d(t,{F:()=>s});var n=a(57616),r=a(81645);async function s(e,t={}){let{account:a=e.account,chainId:i}=t,o=a?(0,n.J)(a):void 0,c=i?[o?.address,[(0,r.cK)(i)]]:[o?.address],u=await e.request({method:"wallet_getCapabilities",params:c}),d={};for(let[e,t]of Object.entries(u))for(let[a,n]of(d[Number(e)]={},Object.entries(t)))"addSubAccount"===a&&(a="unstable_addSubAccount"),d[Number(e)][a]=n;return"number"==typeof i?d[i]:d}},78393:(e,t,a)=>{a.d(t,{H4:()=>w,v8:()=>p,$$:()=>f});var n=a(79313),r=a(45755),s=a(40474),i=a(76200);class o extends i.C{constructor({domain:e}){super(`Invalid domain "${(0,s.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c extends i.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class u extends i.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var d=a(57512),l=a(38047),h=a(81645),m=a(3796);function p(e){let{domain:t,message:a,primaryType:n,types:r}=e,i=(e,t)=>{let a={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(a[e]=a[e].toLowerCase())}return a},o=r.EIP712Domain&&t?i(r.EIP712Domain,t):{},c=(()=>{if("EIP712Domain"!==n)return i(r[n],a)})();return(0,s.A)({domain:o,message:c,primaryType:n,types:r})}function f(e){let{domain:t,message:a,primaryType:s,types:i}=e,p=(e,t)=>{for(let a of e){let{name:e,type:s}=a,o=t[e],c=s.match(m.Ge);if(c&&("number"==typeof o||"bigint"==typeof o)){let[e,t,a]=c;(0,h.cK)(o,{signed:"int"===t,size:Number.parseInt(a)/8})}if("address"===s&&"string"==typeof o&&!(0,d.P)(o))throw new r.M({address:o});let f=s.match(m.BD);if(f){let[e,t]=f;if(t&&(0,l.E)(o)!==Number.parseInt(t))throw new n.BI({expectedSize:Number.parseInt(t),givenSize:(0,l.E)(o)})}let w=i[s];w&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new u({type:e})}(s),p(w,o))}};if(i.EIP712Domain&&t){if("object"!=typeof t)throw new o({domain:t});p(i.EIP712Domain,t)}if("EIP712Domain"!==s)if(i[s])p(i[s],a);else throw new c({primaryType:s,types:i})}function w({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}},84957:(e,t,a)=>{a.d(t,{l:()=>i});var n=a(57616),r=a(34472),s=a(81645);async function i(e,{account:t=e.account,message:a}){if(!t)throw new r.T({docsPath:"/docs/actions/wallet/signMessage"});let i=(0,n.J)(t);if(i.signMessage)return i.signMessage({message:a});let o="string"==typeof a?(0,s.i3)(a):a.raw instanceof Uint8Array?(0,s.nj)(a.raw):a.raw;return e.request({method:"personal_sign",params:[o,i.address]},{retryCount:0})}},85450:(e,t,a)=>{a.d(t,{C:()=>i});var n=a(57616),r=a(34472),s=a(78393);async function i(e,t){let{account:a=e.account,domain:i,message:o,primaryType:c}=t;if(!a)throw new r.T({docsPath:"/docs/actions/wallet/signTypedData"});let u=(0,n.J)(a),d={EIP712Domain:(0,s.H4)({domain:i}),...t.types};if((0,s.$$)({domain:i,message:o,primaryType:c,types:d}),u.signTypedData)return u.signTypedData({domain:i,message:o,primaryType:c,types:d});let l=(0,s.v8)({domain:i,message:o,primaryType:c,types:d});return e.request({method:"eth_signTypedData_v4",params:[u.address,l]},{retryCount:0})}},96268:(e,t,a)=>{a.d(t,{h:()=>s});var n=a(45755),r=a(57512);function s(e,t){if(!(0,r.P)(e,{strict:!1}))throw new n.M({address:e});if(!(0,r.P)(t,{strict:!1}))throw new n.M({address:t});return e.toLowerCase()===t.toLowerCase()}}}]);