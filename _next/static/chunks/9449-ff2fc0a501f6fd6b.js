try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="2dee3e54-c7c4-4361-b53c-8d26f17622bf",e._sentryDebugIdIdentifier="sentry-dbid-2dee3e54-c7c4-4361-b53c-8d26f17622bf")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9449],{36127:function(e,s,a){a.d(s,{Z:function(){return n}});var n=(0,a(31134).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},29449:function(e,s,a){a.d(s,{Z:function(){return L}});var n=a(72253),t=a(14932),r=a(91309),i=a(85893),l=a(67294),d=a(63448),c=a(56312),o=a(87536),m=a(36127),x=a(27245),u=a(21774),h=a(34680),j=a(88659),p=a(74193),g=a(91529),y=a(60696),f=a(34049),b=function(e){var s=e.baseToken,a=e.targetToken,r=e.queryAddress,i=(0,y.N)(s.address,(null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",!!a&&!!r),d=i.pairAddress,c=i.isLoading,o=(0,f.bQ)(d,r),m=o.lpBalance,x=o.isLoading,u=(0,f.QX)(d),h=u.reserve0,j=u.reserve1,p=u.isLoading,g=(0,f.A5)(d),b=g.totalSupply,N=g.isLoading,v=(0,f.Oc)(d),T=v.token0,B=v.isLoading,I=(0,f.$C)(d),k=I.token1,L=I.isLoading,w=(0,l.useMemo)(function(){if(!d||!h||!j||!b||!T||!k||!a||!(h>BigInt(0)&&j>BigInt(0)))return{pairExists:!1,userLPBalance:BigInt(0),userBaseTokenAmount:BigInt(0),userTargetTokenAmount:BigInt(0),lpSharePercentage:0,baseTokenIsToken0:!1};var e=s.address.toLowerCase()===T.toLowerCase(),n=e?h:j,t=e?j:h,r=m||BigInt(0),i=b>BigInt(0)?Number(r)/Number(b)*100:0,l=b>BigInt(0)?r*n/b:BigInt(0),c=b>BigInt(0)?r*t/b:BigInt(0);return{pairExists:!0,userLPBalance:r,userBaseTokenAmount:l,userTargetTokenAmount:c,lpSharePercentage:i,baseTokenIsToken0:e,poolBaseReserve:n,poolTargetReserve:t,poolTotalSupply:b}},[d,m,h,j,b,T,k,s.address,a]);return(0,t._)((0,n._)({pairAddress:d},w),{isLoading:c||x||p||N||B||L,hasValidInput:!!r&&!!a})},N=function(e){var s=e.baseToken,a=e.targetToken,r=(0,y.N)(s.address,(null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",!!a),i=r.pairAddress,d=r.isLoading,c=(0,f.QX)(i),o=c.reserve0,m=c.reserve1,x=c.isLoading,u=(0,f.A5)(i),h=u.totalSupply,j=u.isLoading,p=(0,f.Oc)(i),g=p.token0,b=p.isLoading,N=(0,f.$C)(i),v=N.token1,T=N.isLoading,B=(0,l.useMemo)(function(){if(!i||!o||!m||!h||!g||!v||!a||!(o>BigInt(0)&&m>BigInt(0)))return{pairExists:!1,poolTotalSupply:BigInt(0),poolBaseReserve:BigInt(0),poolTargetReserve:BigInt(0),baseTokenIsToken0:!1,baseToTargetPrice:BigInt(0),targetToBasePrice:BigInt(0)};var e=s.address.toLowerCase()===g.toLowerCase(),n=e?o:m,t=e?m:o,r=n>BigInt(0)?t*BigInt(1e18)/n:BigInt(0),l=t>BigInt(0)?n*BigInt(1e18)/t:BigInt(0);return{pairExists:!0,poolTotalSupply:h,poolBaseReserve:n,poolTargetReserve:t,baseTokenIsToken0:e,baseToTargetPrice:r,targetToBasePrice:l}},[i,o,m,h,g,v,s.address,a]);return(0,t._)((0,n._)({pairAddress:i},B),{isLoading:d||x||j||b||T,hasValidTokens:!!a})},v=a(43032),T=a(64777),B=a(42083),I=function(){var e=[],s="TUSDT",a="0x47Ba4471046fC0442078CF1519924cb205F02c7a";s&&a&&e.push({symbol:s,address:a,decimals:18,isNative:!1});var n="TKM20",t="0xc3Da46ED14dBd79922027031BB5D688A81139e01";return n&&t&&e.push({symbol:n,address:t,decimals:18,isNative:!1}),e},k=d.Ry({queryAddress:d.Z_().min(1,"请输入查询地址").regex(/^0x[a-fA-F0-9]{40}$/,"请输入有效的以太坊地址"),baseTokenAddress:d.Z_().min(1,"请选择基础代币")}),L=function(){var e=(0,v.Z)().token,s=(0,r._)((0,l.useState)(!1),2),a=s[0],d=s[1],y=(0,l.useMemo)(function(){return I()},[]),f=(0,r._)((0,l.useState)(function(){return y.find(function(e){return"TUSDT"===e.symbol})||{symbol:"TKM20",address:"0xc3Da46ED14dBd79922027031BB5D688A81139e01",decimals:18,isNative:!1}}),2),L=f[0],w=f[1],A=(0,l.useMemo)(function(){return e?{symbol:e.symbol,address:e.address,decimals:18,isNative:!1}:null},[e]),_=(0,o.cI)({resolver:(0,c.F)(k),defaultValues:{queryAddress:"",baseTokenAddress:L.address},mode:"onChange"}),S=_.watch("baseTokenAddress"),Z=_.watch("queryAddress");(0,l.useMemo)(function(){var e=y.find(function(e){return e.address===S});e&&w(e)},[S,y]);var P=(0,l.useMemo)(function(){if(a&&Z&&Z.match(/^0x[a-fA-F0-9]{40}$/))return Z},[Z,a]),C=N({baseToken:L,targetToken:A}),D=C.pairExists,E=C.poolTotalSupply,H=C.poolBaseReserve,R=C.poolTargetReserve,q=C.baseToTargetPrice,M=C.targetToBasePrice,Y=C.isLoading,V=b({baseToken:L,targetToken:A,queryAddress:P}),F=V.pairExists,X=V.userLPBalance,Q=V.userBaseTokenAmount,$=V.userTargetTokenAmount,z=V.lpSharePercentage,J=V.poolBaseReserve,G=V.poolTargetReserve,K=V.poolTotalSupply,O=V.isLoading,U=V.hasValidInput,W=_.handleSubmit(function(){d(!0)});if(!e||!A)return(0,i.jsx)(B.Z,{});var ee=a&&U,es=ee&&F&&X>BigInt(0);return(0,i.jsxs)("div",{className:"py-6 px-2",children:[(0,i.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,i.jsx)(T.Z,{title:"流动性查询"})}),(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsx)(p.l0,(0,t._)((0,n._)({},_),{children:(0,i.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,i.jsx)(h.Zb,{children:(0,i.jsx)(h.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"选择交易对"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsx)(p.Wi,{control:_.control,name:"baseTokenAddress",render:function(e){var s=e.field;return(0,i.jsxs)(p.xJ,{children:[(0,i.jsx)(p.lX,{className:"text-xs text-gray-500",children:"基础代币"}),(0,i.jsx)(p.NI,{children:(0,i.jsxs)(j.Ph,{onValueChange:s.onChange,value:s.value,children:[(0,i.jsx)(j.i4,{className:"w-full",children:(0,i.jsx)(j.ki,{placeholder:"选择代币"})}),(0,i.jsx)(j.Bw,{children:y.map(function(e){return(0,i.jsx)(j.Ql,{value:e.address,children:e.symbol},e.address)})})]})}),(0,i.jsx)(p.zG,{})]})}}),(0,i.jsxs)(p.xJ,{children:[(0,i.jsx)(p.lX,{className:"text-xs text-gray-500",children:"目标代币"}),(0,i.jsx)("div",{className:"h-10 px-3 py-2 border border-gray-200 rounded-md bg-gray-50 flex items-center text-sm text-gray-700",children:A.symbol})]})]})]})})}),A&&(0,i.jsx)(h.Zb,{children:(0,i.jsxs)(h.aY,{className:"p-4",children:[(0,i.jsxs)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:[L.symbol,"-",A.symbol," 交易对统计"]}),Y?(0,i.jsxs)("div",{className:"text-center py-4",children:[(0,i.jsx)(B.Z,{}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"加载中..."})]}):D?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"LP总数量："}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.LH)(E)})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[L.symbol," 总数量："]}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.LH)(H)})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[A.symbol," 总数量："]}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.LH)(R)})]})]}),(0,i.jsxs)("div",{className:"border-t pt-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-1",children:"当前兑换价格"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["1 ",L.symbol," ="]}),(0,i.jsxs)("span",{className:"font-medium",children:[(0,g.LH)(q)," ",A.symbol]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["1 ",A.symbol," ="]}),(0,i.jsxs)("span",{className:"font-medium",children:[(0,g.LH)(M,5)," ",L.symbol]})]})]})]})]}):(0,i.jsx)("div",{className:"text-center py-4",children:(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"交易对不存在"})})]})}),(0,i.jsx)(h.Zb,{children:(0,i.jsx)(h.aY,{className:"p-4",children:(0,i.jsx)(p.Wi,{control:_.control,name:"queryAddress",render:function(e){var s=e.field;return(0,i.jsxs)(p.xJ,{children:[(0,i.jsx)(p.lX,{children:"查询地址"}),(0,i.jsx)(p.NI,{children:(0,i.jsx)(u.I,(0,t._)((0,n._)({placeholder:"请输入要查询的地址 (0x...)"},s),{className:"font-mono text-sm"}))}),(0,i.jsx)(p.zG,{})]})}})})}),(0,i.jsxs)(x.z,{type:"submit",className:"w-full",disabled:!_.formState.isValid,children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"查询流动性"]})]})})),ee&&(0,i.jsx)("div",{className:"mt-6",children:O?(0,i.jsx)(h.Zb,{children:(0,i.jsxs)(h.aY,{className:"p-6 text-center",children:[(0,i.jsx)(B.Z,{}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"查询中..."})]})}):F?es?(0,i.jsx)(h.Zb,{children:(0,i.jsx)(h.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"text-lg font-semibold text-gray-800 mb-4",children:"该地址情况："}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"LP代币数量"}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.LH)(X)})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"所占份额"}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.rl)(z)})]})]}),(0,i.jsxs)("div",{className:"border-t pt-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"可兑换代币数量"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:L.symbol}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.LH)(Q)})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:A.symbol}),(0,i.jsx)("span",{className:"font-medium",children:(0,g.LH)($)})]})]})]}),(0,i.jsxs)("div",{className:"border-t pt-4",children:[(0,i.jsx)("div",{className:"text-lg font-medium text-gray-700 mb-3",children:"底池信息"}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"总LP供应量"}),(0,i.jsx)("span",{children:(0,g.LH)(K||BigInt(0))})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{children:["总",L.symbol,"储备"]}),(0,i.jsx)("span",{children:(0,g.LH)(J||BigInt(0))})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{children:["总",A.symbol,"储备"]}),(0,i.jsx)("span",{children:(0,g.LH)(G||BigInt(0))})]})]})]})]})})}):(0,i.jsx)(h.Zb,{children:(0,i.jsx)(h.aY,{className:"p-6 text-center",children:(0,i.jsx)("div",{className:"text-gray-500",children:(0,i.jsx)("p",{className:"text-sm mt-1",children:"该地址在此交易对中，没有LP代币"})})})}):(0,i.jsx)(h.Zb,{children:(0,i.jsx)(h.aY,{className:"p-6 text-center",children:(0,i.jsxs)("div",{className:"text-gray-500",children:[(0,i.jsx)("p",{className:"font-medium",children:"未找到流动性池"}),(0,i.jsxs)("p",{className:"text-sm mt-1",children:[L.symbol,"-",A.symbol," 交易对不存在"]})]})})})})]})]})}}}]);