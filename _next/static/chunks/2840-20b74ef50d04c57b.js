"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2840],{20442:(e,n,t)=>{t.d(n,{$w:()=>s,Ee:()=>T,Js:()=>p,LP:()=>m,NJ:()=>o,W_:()=>r,XS:()=>u,Xo:()=>d,lM:()=>l,mW:()=>y});var i=t(18449),a=t(32602),r=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",s=e=>{var n=Number(p(e));return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(n)},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t=Number(p(e));if(e<10n)return"0";if(4!==n)return new Intl.NumberFormat("en-US",{maximumFractionDigits:n}).format(t);if(t>=1e3)return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t);if(t>=10)return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(t);if(t>=1||t>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:4}).format(t);if(0===t)return"0";var i=t.toFixed(14),a=i.split(".");if(a.length<2)return i;var r=a[1],s=0,o=!0,u=!1,y=void 0;try{for(var d,m=r[Symbol.iterator]();!(o=(d=m.next()).done);o=!0){var l=d.value;if("0"===l)s++;else break}}catch(e){u=!0,y=e}finally{try{o||null==m.return||m.return()}finally{if(u)throw y}}var c=r.slice(s,s+4);return"0.0{".concat(s,"}").concat(c)},u=e=>{var n=parseInt("18",10);try{var t=e.replace(/,/g,"");return(0,i.X)(t,n)}catch(e){return console.error("parseUnits error:",e),0n}},p=e=>{var n=parseInt("18",10);return(0,a.J)(e,n)},y=e=>e.includes(".")?parseFloat(e.replace(/,/g,"")).toString():e,d=e=>e>86400?"".concat(Math.floor(e/86400),"天").concat(Math.floor(e%86400/3600),"小时").concat(Math.floor(e%3600/60),"分"):e>3600?"".concat(Math.floor(e/3600),"小时").concat(Math.floor(e%3600/60),"分"):"".concat(Math.floor(e/60),"分").concat(e%60,"秒"),m=(e,n)=>e&&n?e-BigInt(n.initialStakeRound)+1n:0n,l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=Number(e);if(i>=1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:n}).format(i);if(i>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:t+1}).format(i);if(0===i)return"0";var a=i.toFixed(t+10),r=a.split(".");if(r.length<2)return a;var s=r[1],o=0,u=!0,p=!1,y=void 0;try{for(var d,m=s[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){var l=d.value;if("0"===l)o++;else break}}catch(e){p=!0,y=e}finally{try{u||null==m.return||m.return()}finally{if(p)throw y}}var c=s.slice(o);return"0.0{".concat(o,"}").concat(c)},c=(e,n)=>e.toFixed(n).replace(/\.?0+$/,""),T=e=>{var n="string"==typeof e?parseFloat(e):e,t=Math.abs(n);return 0===t?"0%":t>=100?n.toLocaleString(void 0,{maximumFractionDigits:0})+"%":t>=10?c(n,1)+"%":t>=1?c(n,2)+"%":t>=.1?c(n,3)+"%":t>=.01?c(n,4)+"%":n.toExponential(4)+"%"}},64115:(e,n,t)=>{t.d(n,{Y4:()=>y,ui:()=>d,Vg:()=>m,VD:()=>l,vC:()=>c,of:()=>T,SU:()=>f});var i=t(16927),a=t(4902),r=t(75569),s=t(59493),o=t(40162),u=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"SUBMIT_MIN_PER_THOUSAND",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionIdsByAuthor",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"author",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"actionInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct ActionInfo",components:[{name:"head",type:"tuple",internalType:"struct ActionHead",components:[{name:"id",type:"uint256",internalType:"uint256"},{name:"author",type:"address",internalType:"address"},{name:"createAtBlock",type:"uint256",internalType:"uint256"}]},{name:"body",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteList",type:"address[]",internalType:"address[]"},{name:"action",type:"string",internalType:"string"},{name:"consensus",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}]}],stateMutability:"view"},{type:"function",name:"actionInfosByIds",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionIds",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"tuple[]",internalType:"struct ActionInfo[]",components:[{name:"head",type:"tuple",internalType:"struct ActionHead",components:[{name:"id",type:"uint256",internalType:"uint256"},{name:"author",type:"address",internalType:"address"},{name:"createAtBlock",type:"uint256",internalType:"uint256"}]},{name:"body",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteList",type:"address[]",internalType:"address[]"},{name:"action",type:"string",internalType:"string"},{name:"consensus",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}]}],stateMutability:"view"},{type:"function",name:"actionInfosByPage",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"tuple[]",internalType:"struct ActionInfo[]",components:[{name:"head",type:"tuple",internalType:"struct ActionHead",components:[{name:"id",type:"uint256",internalType:"uint256"},{name:"author",type:"address",internalType:"address"},{name:"createAtBlock",type:"uint256",internalType:"uint256"}]},{name:"body",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteList",type:"address[]",internalType:"address[]"},{name:"action",type:"string",internalType:"string"},{name:"consensus",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}]}],stateMutability:"view"},{type:"function",name:"actionNum",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionSubmits",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple[]",internalType:"struct ActionSubmitInfo[]",components:[{name:"submitter",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"canSubmit",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"accountAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"stakeAddress_",type:"address",internalType:"address"},{name:"submitMinPerThousand",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isInWhiteList",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isSubmitted",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"submit",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"submitNewAction",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionBody",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteList",type:"address[]",internalType:"address[]"},{name:"action",type:"string",internalType:"string"},{name:"consensus",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}],outputs:[{name:"actionId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"ActionCreate",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"author",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionBody",type:"tuple",indexed:!1,internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteList",type:"address[]",internalType:"address[]"},{name:"action",type:"string",internalType:"string"},{name:"consensus",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}],anonymous:!1},{type:"event",name:"ActionSubmit",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"submitter",type:"address",indexed:!1,internalType:"address"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ActionIdNotExist",inputs:[]},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AlreadySubmitted",inputs:[]},{type:"error",name:"CannotSubmitAction",inputs:[]},{type:"error",name:"MaxRandomAccountsZero",inputs:[]},{type:"error",name:"MinStakeZero",inputs:[]},{type:"error",name:"OnlyOneSubmitPerRound",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]},{type:"error",name:"StartGreaterThanEnd",inputs:[]}],p="0x50894a15d1b0A6D6223924a2ecE38f6e72d6ADFE",y=(e,n)=>{var t=(0,r.Q)({address:p,abi:u,functionName:"actionInfo",args:[e,n||0n],query:{enabled:!!e&&void 0!==n}}),i=t.data;return{actionInfo:i,isPending:t.isPending,error:t.error}},d=(e,n)=>{var t=(0,r.Q)({address:p,abi:u,functionName:"actionInfosByIds",args:[e,n],query:{enabled:!!e&&n.length>0}}),i=t.data;return{actionInfos:i,isPending:t.isPending,error:t.error}},m=(e,n,t,i)=>{var a=(0,r.Q)({address:p,abi:u,functionName:"actionInfosByPage",args:[e,n,t,i],query:{enabled:!!e}}),s=a.data;return{actionInfos:s,isPending:a.isPending,error:a.error}},l=(e,n)=>{var t=(0,r.Q)({address:p,abi:u,functionName:"actionSubmits",args:[e,n],query:{enabled:!!e&&!!n}}),i=t.data;return{actionSubmits:i,isPending:t.isPending,error:t.error}},c=()=>{var e=(0,r.Q)({address:p,abi:u,functionName:"currentRound",args:[]}),n=e.data;return{currentRound:n,isPending:e.isPending,error:e.error}};function T(){var e,n=(0,s.x)(),t=n.writeContract,r=n.isPending,y=n.data,d=n.error,m=(e=(0,i._)(function(e,n){return(0,a.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t({address:p,abi:u,functionName:"submit",args:[e,n]})];case 1:return i.sent(),[3,3];case 2:return console.error("Submit failed:",i.sent()),[3,3];case 3:return[2]}})}),function(n,t){return e.apply(this,arguments)}),l=(0,o.g)({hash:y});return{submit:m,writeData:y,isWriting:r,writeError:d,isConfirming:l.isLoading,isConfirmed:l.isSuccess}}function f(){var e,n=(0,s.x)(),t=n.writeContract,r=n.isPending,y=n.data,d=n.error,m=(e=(0,i._)(function(e,n){return(0,a.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t({address:p,abi:u,functionName:"submitNewAction",args:[e,n]})];case 1:return[2,i.sent()];case 2:return console.error("Submit New Action failed:",i.sent()),[3,3];case 3:return[2]}})}),function(n,t){return e.apply(this,arguments)}),l=(0,o.g)({hash:y});return{submitNewAction:m,writeData:y,isWriting:r,writeError:d,isConfirming:l.isLoading,isConfirmed:l.isSuccess}}}}]);