(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9586],{7446:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});var t=(0,n(11713).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},18449:(e,r,n)=>{"use strict";n.d(r,{X:()=>s});var t=n(76200);class a extends t.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function s(e,r){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new a({value:e});let[n,t="0"]=e.split("."),s=n.startsWith("-");if(s&&(n=n.slice(1)),t=t.replace(/(0+)$/,""),0===r)1===Math.round(Number(`.${t}`))&&(n=`${BigInt(n)+1n}`),t="";else if(t.length>r){let[e,a,s]=[t.slice(0,r-1),t.slice(r-1,r),t.slice(r)],i=Math.round(Number(`${a}.${s}`));(t=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>r&&(t=t.slice(1),n=`${BigInt(n)+1n}`),t=t.slice(0,r)}else t=t.padEnd(r,"0");return BigInt(`${s?"-":""}${n}${t}`)}},20442:(e,r,n)=>{"use strict";n.d(r,{$w:()=>i,Ee:()=>h,Js:()=>l,LP:()=>m,NJ:()=>o,W_:()=>s,XS:()=>c,Xo:()=>d,lM:()=>f,mW:()=>u});var t=n(18449),a=n(32602),s=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",i=e=>{var r=Number(l(e));return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(r)},o=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=Number(l(e));if(e<10n)return"0";if(4!==r)return new Intl.NumberFormat("en-US",{maximumFractionDigits:r}).format(n);if(n>=1e3)return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(n);if(n>=10)return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(n);if(n>=1||n>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:4}).format(n);if(0===n)return"0";var t=n.toFixed(14),a=t.split(".");if(a.length<2)return t;var s=a[1],i=0,o=!0,c=!1,u=void 0;try{for(var d,m=s[Symbol.iterator]();!(o=(d=m.next()).done);o=!0){var f=d.value;if("0"===f)i++;else break}}catch(e){c=!0,u=e}finally{try{o||null==m.return||m.return()}finally{if(c)throw u}}var v=s.slice(i,i+4);return"0.0{".concat(i,"}").concat(v)},c=e=>{var r=parseInt("18",10);try{var n=e.replace(/,/g,"");return(0,t.X)(n,r)}catch(e){return console.error("parseUnits error:",e),0n}},l=e=>{var r=parseInt("18",10);return(0,a.J)(e,r)},u=e=>e.includes(".")?parseFloat(e.replace(/,/g,"")).toString():e,d=e=>e>86400?"".concat(Math.floor(e/86400),"天").concat(Math.floor(e%86400/3600),"小时").concat(Math.floor(e%3600/60),"分"):e>3600?"".concat(Math.floor(e/3600),"小时").concat(Math.floor(e%3600/60),"分"):"".concat(Math.floor(e/60),"分").concat(e%60,"秒"),m=(e,r)=>e&&r?e-BigInt(r.initialStakeRound)+1n:0n,f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,t=Number(e);if(t>=1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:r}).format(t);if(t>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:n+1}).format(t);if(0===t)return"0";var a=t.toFixed(n+10),s=a.split(".");if(s.length<2)return a;var i=s[1],o=0,c=!0,l=!1,u=void 0;try{for(var d,m=i[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var f=d.value;if("0"===f)o++;else break}}catch(e){l=!0,u=e}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}var v=i.slice(o);return"0.0{".concat(o,"}").concat(v)},v=(e,r)=>e.toFixed(r).replace(/\.?0+$/,""),h=e=>{var r="string"==typeof e?parseFloat(e):e,n=Math.abs(r);return 0===n?"0%":n>=100?r.toLocaleString(void 0,{maximumFractionDigits:0})+"%":n>=10?v(r,1)+"%":n>=1?v(r,2)+"%":n>=.1?v(r,3)+"%":n>=.01?v(r,4)+"%":v(r,6)+"%"}},28638:(e,r,n)=>{"use strict";n.d(r,{BT:()=>d,Wu:()=>m,ZB:()=>u,Zp:()=>c,aR:()=>l,wL:()=>f});var t=n(3576),a=n(65699),s=n(37876),i=n(14232),o=n(30684),c=i.forwardRef((e,r)=>{var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n)},i))});c.displayName="Card";var l=i.forwardRef((e,r)=>{var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n)},i))});l.displayName="CardHeader";var u=i.forwardRef((e,r)=>{var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",n)},i))});u.displayName="CardTitle";var d=i.forwardRef((e,r)=>{var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("text-sm text-muted-foreground",n)},i))});d.displayName="CardDescription";var m=i.forwardRef((e,r)=>{var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("p-6 pt-0",n)},i))});m.displayName="CardContent";var f=i.forwardRef((e,r)=>{var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",n)},i))});f.displayName="CardFooter"},29852:(e,r,n)=>{"use strict";n.d(r,{A:()=>g});var t=n(40854),a=n(37876),s=n(14232),i=n(6960),o=n(96108),c=n(28638),l=n(97685),u=n(89099),d=n(52372),m=n(40752),f=n(20451),v=n(20442),h=n(83416),p=n(12293);function g(e){var r=e.parentTokenAddress,n=(0,u.useRouter)(),g=(0,s.useContext)(h.N)||{},x=g.token,b=g.setToken,N=(0,t._)((0,s.useState)(0n),2),y=N[0],k=N[1],w=(0,t._)((0,s.useState)(BigInt(10)),2),T=w[0],F=w[1],S=(0,t._)((0,s.useState)([]),2),A=S[0],j=S[1];(0,s.useEffect)(()=>{j([]),k(0n),F(BigInt(10))},[r]);var E=r?(0,m.sA)(r,y,T,!0):(0,m.qQ)(y,T,!0),R="childTokens"in E?E.childTokens:E.tokens,C=E.isPending,I=E.error,_=(0,d.XV)(R||[]),$=_.tokens,B=_.launchInfos,M=_.isPending,D=_.error;(0,s.useEffect)(()=>{if(R&&$&&B){console.log("=== 调试发射进度数据 ==="),B.forEach((e,r)=>{var n;console.log("Token ".concat(r,":"),{symbol:null==(n=$[r])?void 0:n.symbol,launchAmount:e.launchAmount.toString(),parentTokenFundraisingGoal:e.parentTokenFundraisingGoal.toString(),totalContributed:e.totalContributed.toString(),hasEnded:e.hasEnded,correctRatio:Number(e.totalContributed)/Number(e.parentTokenFundraisingGoal),wrongRatio:Number(e.launchAmount)/Number(e.parentTokenFundraisingGoal)})});var e=$.map((e,r)=>{var n;return{name:e.name,symbol:e.symbol,address:R[r],decimals:Number(e.decimals),parentTokenAddress:B[r].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,initialStakeRound:Number(e.initialStakeRound),hasEnded:B[r].hasEnded,voteOriginBlocks:null!=(n=null==x?void 0:x.voteOriginBlocks)?n:0,totalContributed:B[r].totalContributed,parentTokenFundraisingGoal:B[r].parentTokenFundraisingGoal}});j(r=>{var n=new Set(r.map(e=>e.symbol));return[...r,...e.filter(e=>!n.has(e.symbol))]})}},[$,B]);var G=(0,s.useCallback)(()=>{!C&&$&&$.length>0&&(k(T),F(T+BigInt(10)))},[C,$,T]),U=function(e,r,n){var t=this,a=(0,s.useRef)(null),i=(0,s.useRef)(0),o=(0,s.useRef)(null),c=(0,s.useRef)([]),l=(0,s.useRef)(),u=(0,s.useRef)(),d=(0,s.useRef)(e),m=(0,s.useRef)(!0);d.current=e;var f="undefined"!=typeof window,v=!r&&0!==r&&f;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var h=!!(n=n||{}).leading,p=!("trailing"in n)||!!n.trailing,g="maxWait"in n,x="debounceOnServer"in n&&!!n.debounceOnServer,b=g?Math.max(+n.maxWait||0,r):null;return(0,s.useEffect)(function(){return m.current=!0,function(){m.current=!1}},[]),(0,s.useMemo)(function(){var e=function(e){var r=c.current,n=l.current;return c.current=l.current=null,i.current=e,u.current=d.current.apply(n,r)},n=function(e,r){v&&cancelAnimationFrame(o.current),o.current=v?requestAnimationFrame(e):setTimeout(e,r)},s=function(e){if(!m.current)return!1;var n=e-a.current;return!a.current||n>=r||n<0||g&&e-i.current>=b},N=function(r){return o.current=null,p&&c.current?e(r):(c.current=l.current=null,u.current)},y=function e(){var t=Date.now();if(s(t))return N(t);if(m.current){var o=r-(t-a.current);n(e,g?Math.min(o,b-(t-i.current)):o)}},k=function(){if(f||x){var d=Date.now(),v=s(d);if(c.current=[].slice.call(arguments),l.current=t,a.current=d,v){if(!o.current&&m.current)return i.current=a.current,n(y,r),h?e(a.current):u.current;if(g)return n(y,r),e(a.current)}return o.current||n(y,r),u.current}};return k.cancel=function(){o.current&&(v?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,c.current=a.current=l.current=o.current=null},k.isPending=function(){return!!o.current},k.flush=function(){return o.current?N(Date.now()):u.current},k},[h,g,r,b,p,v,f,x])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&G()},200);(0,s.useEffect)(()=>(window.addEventListener("scroll",U),()=>{window.removeEventListener("scroll",U)}),[U]);var W=e=>{if(!b)return void l.oR.error("请先选择代币");b({name:e.name,symbol:e.symbol,address:e.address,decimals:e.decimals,hasEnded:e.hasEnded,parentTokenAddress:e.parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slTokenAddress,stTokenAddress:e.stTokenAddress,initialStakeRound:e.initialStakeRound,voteOriginBlocks:e.voteOriginBlocks}),e.hasEnded?n.push("/acting/?symbol=".concat(e.symbol)):n.push("/launch/?symbol=".concat(e.symbol))},L=(0,f.g)().handleContractError;return(0,s.useEffect)(()=>{I&&L(I,"launch"),D&&L(D,"dataViewer")},[I,D]),(0,a.jsxs)("div",{className:"space-y-4 m-4",children:[0!==A.length||C||M?A.map((e,r)=>(0,a.jsx)(c.Zp,{onClick:()=>W(e),children:(0,a.jsxs)(c.Wu,{className:"p-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"flex items-center",children:(0,a.jsx)("span",{className:"font-semibold",children:e.symbol})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,a.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:"发射中"}),(0,a.jsxs)("span",{className:"text-greyscale-500 pl-4",children:["(募资进度："," ",void 0!==e.totalContributed&&e.parentTokenFundraisingGoal?(0,v.Ee)(Number(e.totalContributed)/Number(e.parentTokenFundraisingGoal)*100):"...",")"]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,a.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]})]})},r)):(0,a.jsx)("div",{className:"text-center text-muted-foreground py-8",children:r?"暂无子币":"代币列表为空"}),(C||M)&&(0,a.jsx)(p.A,{})]})}},77328:(e,r,n)=>{e.exports=n(89836)},86739:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});var t=(0,n(11713).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},96108:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});var t=(0,n(11713).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}}]);