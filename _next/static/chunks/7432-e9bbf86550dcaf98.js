"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7432],{12293:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(37876),i=t(7446);let s=()=>(0,a.jsx)(i.A,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})},17660:(e,n,t)=>{t.d(n,{vC:()=>T,o9:()=>v,p9:()=>f,vx:()=>A,S1:()=>b});var a=t(16927),i=t(40854),s=t(4902),r=t(14232),d=t(75569),u=t(40162),p=t(81675),y=t(1160),o=t(99090),l=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"JOIN_END_PHASE_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"accountToIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccountAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccountCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByActionId",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByActionIdByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"indexToAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"submitAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"randomAddress_",type:"address",internalType:"address"},{name:"joinEndPhaseBlocks",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"join",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"additionalAmount",type:"uint256",internalType:"uint256"},{name:"verificationInfos_",type:"string[]",internalType:"string[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"numOfAccounts",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"prefixSum",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"prepareRandomAccountsIfNeeded",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"nonpayable"},{type:"function",name:"randomAccounts",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"randomAccountsByActionIdByRoundAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"randomAccountsByActionIdByRoundCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"randomAccountsByRandomSeed",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"randomSeed",type:"uint256",internalType:"uint256"},{name:"num",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"randomAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"updateVerificationInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"verificationKeys_",type:"string[]",internalType:"string[]"},{name:"verificationInfos_",type:"string[]",internalType:"string[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verificationInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"verificationKey",type:"string",internalType:"string"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"verificationInfoByRound",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"verificationKey",type:"string",internalType:"string"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"verificationInfoUpdateRoundsByAccountAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"verificationKey",type:"string",internalType:"string"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"verificationInfoUpdateRoundsByAccountCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"verificationKey",type:"string",internalType:"string"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"Join",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"currentRound",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"additionalStakeAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PrepareRandomAccounts",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"accounts",type:"address[]",indexed:!1,internalType:"address[]"}],anonymous:!1},{type:"event",name:"UpdateVerificationInfo",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"verificationKey",type:"string",indexed:!0,internalType:"string"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verificationInfo",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"currentRound",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ActionNotVoted",inputs:[]},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AmountIsZero",inputs:[]},{type:"error",name:"JoinAmountLessThanMinStake",inputs:[]},{type:"error",name:"JoinedAmountIsZero",inputs:[]},{type:"error",name:"LastBlocksOfPhaseCannotJoin",inputs:[]},{type:"error",name:"NotWhiteListAddress",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]}],c=t(65575),m="0xcEe483E0fd5543AEBA20AD55bB54bEB6A07569F9",T=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,d.Q)({address:m,abi:l,functionName:"currentRound",query:{enabled:e}}),t=n.data,a=n.isPending,i=n.error;return{currentRound:(0,c.oQ)(t),isPending:a,error:i}},f=(e,n)=>{var t=(0,d.Q)({address:m,abi:l,functionName:"amountByActionId",args:[e,n],query:{enabled:!!e&&void 0!==n}}),a=t.data,i=t.isPending,s=t.error;return{joinedAmountByActionId:a?(0,c.oQ)(a):void 0,isPending:i,error:s}},A=(e,n,t)=>{var a=(0,d.Q)({address:m,abi:l,functionName:"amountByActionIdByAccount",args:[e,n,t],query:{enabled:!!e&&!!t&&void 0!==n}}),i=a.data,s=a.isPending,r=a.error;return{joinedAmountByActionIdByAccount:i?(0,c.oQ)(i):void 0,isPending:s,error:r}};function v(){var e,n=(0,i._)((0,r.useState)(!1),2),t=n[0],d=n[1],c=(0,i._)((0,r.useState)(null),2),T=c[0],f=c[1],A=(0,i._)((0,r.useState)(),2),v=A[0],b=A[1],x=(e=(0,a._)(function(e,n,t,a){var i;return(0,s.YH)(this,function(s){switch(s.label){case 0:d(!0),f(null),s.label=1;case 1:return s.trys.push([1,4,5,6]),[4,(0,p.v)(o.$,{address:m,abi:l,functionName:"join",args:[e,n,t,a]})];case 2:return s.sent(),[4,(0,y.E)(o.$,{address:m,abi:l,functionName:"join",args:[e,n,t,a]})];case 3:return b(i=s.sent()),[2,i];case 4:return f(s.sent()),[3,6];case 5:return d(!1),[7];case 6:return[2]}})}),function(n,t,a,i){return e.apply(this,arguments)}),g=(0,u.g)({hash:v}),w=g.isLoading,I=g.isSuccess,k=g.error;return{join:x,isPending:t,isConfirming:w,writeError:null!=T?T:k,isConfirmed:I}}function b(){var e,n=(0,i._)((0,r.useState)(!1),2),t=n[0],d=n[1],c=(0,i._)((0,r.useState)(null),2),T=c[0],f=c[1],A=(0,i._)((0,r.useState)(),2),v=A[0],b=A[1],x=(e=(0,a._)(function(e,n){var t;return(0,s.YH)(this,function(a){switch(a.label){case 0:d(!0),f(null),a.label=1;case 1:return a.trys.push([1,4,5,6]),[4,(0,p.v)(o.$,{address:m,abi:l,functionName:"withdraw",args:[e,n]})];case 2:return a.sent(),[4,(0,y.E)(o.$,{address:m,abi:l,functionName:"withdraw",args:[e,n]})];case 3:return b(t=a.sent()),[2,t];case 4:return f(a.sent()),[3,6];case 5:return d(!1),[7];case 6:return[2]}})}),function(n,t){return e.apply(this,arguments)}),g=(0,u.g)({hash:v}),w=g.isLoading,I=g.isSuccess,k=g.error;return{withdraw:x,isPending:t,isConfirming:w,writeError:null!=T?T:k,isConfirmed:I}}},87577:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(40854),i=t(37876),s=t(14232),r=t(48447),d=t(33276),u=t(70801),p=t(97685),y=t(20442);let o=e=>{var n=e.address,t=e.word,o=e.showCopyButton,l=e.showAddress,c=void 0===l||l,m=e.colorClassName,T=void 0===m?"":m,f=e.colorClassName2,A=void 0===f?"":f,v=(0,a._)((0,s.useState)(!1),2),b=v[0],x=v[1];return(0,i.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,i.jsx)("span",{className:"text-xs",children:t}),c&&!A&&(0,i.jsx)("span",{className:"text-xs ".concat(null!=T?T:"text-greyscale-500"),children:(0,y.W_)(n)}),c&&A&&(0,i.jsxs)("span",{className:"text-[0px]",children:[(0,i.jsx)("span",{className:"text-xs ".concat(null!=T?T:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,i.jsx)("span",{className:"text-xs ".concat(A),children:"".concat(n.substring(n.length-4))})]}),(void 0===o||o)&&(0,i.jsx)(r.CopyToClipboard,{text:n,onCopy:(e,n)=>{n?x(!0):p.Ay.error("复制失败")},children:(0,i.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:b?(0,i.jsx)(d.A,{className:"h-4 w-4 ".concat(null!=T?T:"text-greyscale-500")}):(0,i.jsx)(u.A,{className:"h-4 w-4 ".concat(null!=T?T:"text-greyscale-500")})})})]})}}}]);