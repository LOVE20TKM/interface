try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0045dde0-3614-471e-966c-a89d71d3622e",e._sentryDebugIdIdentifier="sentry-dbid-0045dde0-3614-471e-966c-a89d71d3622e")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2494],{53696:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(11010),o=r(91309),i=r(97582),a=r(85893),u=r(67294),s=r(23432),c=(0,r(31134).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),d=r(42130),l=r(30246),f=r(86501),g=r(55612);function h(e){var n,r=e.tokenAddress,h=e.tokenSymbol,b=e.tokenDecimals,p=e.tokenImage,m=(0,o._)((0,u.useState)(!1),2),v=m[0],y=m[1],k=(0,d.m)().isConnected,C=(0,l.p)().data,P=(n=(0,t._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:if(!k)return alert("请先连接你的钱包"),[2];y(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!C)return alert("无法获取钱包客户端"),[2];return[4,C.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r,symbol:h,decimals:b,image:p}}})];case 2:return e.sent()?f.ZP.success("代币已成功添加到 MetaMask 钱包"):f.ZP.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),f.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return y(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return h.length>11||(0,g.ON)()?null:(0,a.jsx)("button",{onClick:P,disabled:v,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:v?(0,a.jsx)(s.Z,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(c,{className:"h-4 w-4 text-greyscale-500"})})}},85794:function(e,n,r){r.d(n,{A5:function(){return h},DA:function(){return m},hS:function(){return f},l3:function(){return p},yA:function(){return b},yG:function(){return l},z4:function(){return g}});var t=r(11010),o=r(97582),i=r(67294),a=r(71104),u=r(37541),s=r(37742),c=r(37474),d=r(84689),l=function(e,n,r){var t=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=(0,a.u)({address:e,abi:u.O,functionName:"allowance",args:[n,r],query:{enabled:!!e&&!!n&&!!r&&t}}),i=o.data,c=o.isPending,d=o.error,l=o.refetch;return{allowance:void 0!==i?(0,s.Z)(i):void 0,isPending:c,error:d,refetch:l}},f=function(e,n){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],t=(0,a.u)({address:e,abi:u.O,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n&&r}}),o=t.data,i=t.isPending,c=t.error,d=t.refetch;return{balance:void 0!==o?(0,s.Z)(o):void 0,isPending:i,error:c,refetch:d}},g=function(e){var n=(0,a.u)({address:e,abi:u.O,functionName:"symbol",args:[],query:{enabled:!!e}});return{symbol:n.data,isPending:n.isPending,error:n.error}},h=function(e){var n=(0,a.u)({address:e,abi:u.O,functionName:"totalSupply",args:[],query:{enabled:!!e}}),r=n.data,t=n.isPending,o=n.error;return{totalSupply:void 0!==r?(0,s.Z)(r):void 0,isPending:t,error:o}};function b(e){var n,r=(0,c.e9)(u.O,e,"approve"),a=r.execute,s=r.isPending,l=r.isConfirming,f=r.isConfirmed,g=r.error,h=r.hash,b=r.isTukeMode,p=(n=(0,t._)(function(n,r){return(0,o.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交approve交易:",{token:e,spender:n,value:r,isTukeMode:b}),[4,a([n,r])];case 1:return[2,t.sent()]}})}),function(e,r){return n.apply(this,arguments)});return(0,i.useEffect)(function(){h&&console.log("approve tx hash:",h),g&&(console.log("提交approve交易错误:"),(0,d.Vh)(g),(0,d.H)(g))},[h,g]),{approve:p,isPending:s,isConfirming:l,writeError:g,isConfirmed:f,hash:h,isTukeMode:b}}function p(e){var n,r=(0,c.e9)(u.O,e,"burnForParentToken"),a=r.execute,s=r.isPending,l=r.isConfirming,f=r.isConfirmed,g=r.error,h=r.hash,b=r.isTukeMode,p=(n=(0,t._)(function(n){return(0,o.Jh)(this,function(r){switch(r.label){case 0:return console.log("提交burnForParentToken交易:",{token:e,amount:n,isTukeMode:b}),[4,a([n])];case 1:return[2,r.sent()]}})}),function(e){return n.apply(this,arguments)});return(0,i.useEffect)(function(){h&&console.log("burnForParentToken tx hash:",h),g&&(console.log("提交burnForParentToken交易错误:"),(0,d.Vh)(g),(0,d.H)(g))},[h,g]),{burnForParentToken:p,isPending:s,isConfirming:l,writeError:g,isConfirmed:f,hash:h,isTukeMode:b}}function m(e){var n,r=(0,c.e9)(u.O,e,"transfer"),a=r.execute,s=r.isPending,l=r.isConfirming,f=r.isConfirmed,g=r.error,h=r.hash,b=r.isTukeMode,p=(n=(0,t._)(function(n,r){return(0,o.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交transfer交易:",{token:e,to:n,amount:r,isTukeMode:b}),[4,a([n,r])];case 1:return[2,t.sent()]}})}),function(e,r){return n.apply(this,arguments)});return(0,i.useEffect)(function(){h&&console.log("transfer tx hash:",h),g&&(console.log("提交transfer交易错误:"),(0,d.Vh)(g),(0,d.H)(g))},[h,g]),{transfer:p,isPending:s,isConfirming:l,writeError:g,isConfirmed:f,hash:h,isTukeMode:b}}},99958:function(e,n,r){r.d(n,{Cn:function(){return u},IS:function(){return i},Tn:function(){return a},iF:function(){return s}});var t=r(91529),o=r(37742),i=function(e,n,r){if(!e||!n)return"0%";var i=31536e6/Number("2868"),a=(0,o.Z)("30126");if(0===i||a===BigInt(0))return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME_MS 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var u=(n*BigInt(2)||BigInt(0))+(r||BigInt(0));if(u===BigInt(0))return"0%";var s=Number(e)/Number(u)/(Number(a)/i)*100;return(0,t.rl)(s)},a=function(e,n){if(!e||!n||n===BigInt(0))return"∞";var r=31536e6/Number("2868"),i=(0,o.Z)("30126");if(0===r||i===BigInt(0))return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var a=Number(e)/Number(n)/(Number(i)/r)*100;return(0,t.rl)(a)},u=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Number("30126")||0,o=Number("2868")||0,i=e*t,a=Math.ceil(i*o/1e3);n=a>=86400?"".concat(Math.round(a/86400),"天"):a>=3600?"".concat(Math.ceil(a/3600),"小时"):"".concat(Math.ceil(a/60),"分钟");var u="".concat(i.toLocaleString(),"区块，约").concat(n);return r||(u="".concat(e,"个阶段（").concat(u,")")),u},s=function(e,n){if(!e)return BigInt(0);var r=BigInt(1e3)-(0,o.Z)("1")-(0,o.Z)("1");return BigInt(0),n<=BigInt(1)?e*(0,o.Z)("1")/BigInt(1e3):e*r*(0,o.Z)("1")/BigInt(1e6)}}}]);