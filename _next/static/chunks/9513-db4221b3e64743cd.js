"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9513],{19591:(e,t,n)=>{n.d(t,{n3:()=>T,vC:()=>v,CF:()=>k,E_:()=>f,Lg:()=>b,Zh:()=>g,Fd:()=>A,S1:()=>h});var a=n(16927),i=n(40854),s=n(4902),u=n(75569),r=n(40162),d=n(1160),o=n(81675),p=n(14232),y=n(99090),l=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"PROMISED_WAITING_PHASES_MAX",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PROMISED_WAITING_PHASES_MIN",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"accountStakeStatus",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"tuple",internalType:"struct AccountStakeStatus",components:[{name:"slAmount",type:"uint256",internalType:"uint256"},{name:"stAmount",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"requestedUnstakeRound",type:"uint256",internalType:"uint256"},{name:"govVotes",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"caculateGovVotes",inputs:[{name:"slAmount",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"cumulatedTokenAmount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"tokenAmount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"cumulatedTokenAmountByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"tokenAmount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"govVotesNum",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialStakeRound",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"promisedWaitingPhasesMin",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhasesMax",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeLiquidity",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmountForLP",type:"uint256",internalType:"uint256"},{name:"parentTokenAmountForLP",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"},{name:"slAmountAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"stakeToken",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmount",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"stakeTokenUpdatedRoundsAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeTokenUpdatedRoundsByAccountAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeTokenUpdatedRoundsByAccountCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeTokenUpdatedRoundsCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"unstake",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validGovVotes",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"StakeLiquidity",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmountForLP",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountForLP",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotesAdded",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotes",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmountAdded",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeToken",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotesAdded",type:"uint256",indexed:!1,internalType:"uint256"},{name:"govVotes",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unstake",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"govVotes",type:"uint256",indexed:!1,internalType:"uint256"},{name:"slAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"slAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"tokenAmountForLp",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountForLp",type:"uint256",indexed:!1,internalType:"uint256"},{name:"stAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AlreadyUnstaked",inputs:[]},{type:"error",name:"InvalidToAddress",inputs:[]},{type:"error",name:"NoStakedLiquidity",inputs:[]},{type:"error",name:"NotAllowedToStakeAtRoundZero",inputs:[]},{type:"error",name:"NotEnoughWaitingBlocks",inputs:[]},{type:"error",name:"PromisedWaitingPhasesMustBeGreaterOrEqualThanBefore",inputs:[]},{type:"error",name:"PromisedWaitingPhasesOutOfRange",inputs:[]},{type:"error",name:"RoundHasNotStartedYet",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]},{type:"error",name:"StakeAmountMustBeSet",inputs:[]},{type:"error",name:"UnstakeAlreadyRequested",inputs:[]},{type:"error",name:"UnstakeNotRequested",inputs:[]}],m=n(65575),c="0xe5aF1b0f6cE14296039d9505d8A91c77be36A0FD",T=(e,t)=>{var n=(0,u.Q)({address:c,abi:l,functionName:"accountStakeStatus",args:[e,t],query:{enabled:!!e&&!!t}}),a=n.data,i=n.isPending,s=n.error;return{slAmount:(null==a?void 0:a.slAmount)?(0,m.oQ)(a.slAmount):void 0,stAmount:(null==a?void 0:a.stAmount)?(0,m.oQ)(a.stAmount):void 0,promisedWaitingPhases:(null==a?void 0:a.promisedWaitingPhases)?(0,m.oQ)(a.promisedWaitingPhases):0n,requestedUnstakeRound:(null==a?void 0:a.requestedUnstakeRound)?(0,m.oQ)(a.requestedUnstakeRound):void 0,govVotes:(null==a?void 0:a.govVotes)?(0,m.oQ)(a.govVotes):void 0,isPending:i,error:s}},v=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,u.Q)({address:c,abi:l,functionName:"currentRound",args:[],query:{enabled:e}}),n=t.data,a=t.isPending,i=t.error;return{currentRound:(0,m.oQ)(n),isPending:a,error:i}},k=e=>{var t=(0,u.Q)({address:c,abi:l,functionName:"initialStakeRound",args:[e],query:{enabled:!!e}}),n=t.data,a=t.isPending,i=t.error;return{initialStakeRound:n?(0,m.oQ)(n):void 0,isPending:a,error:i}},A=(e,t)=>{var n=(0,u.Q)({address:c,abi:l,functionName:"validGovVotes",args:[e,t],query:{enabled:!!e&&!!t}}),a=n.data,i=n.isPending,s=n.error;return{validGovVotes:(0,m.oQ)(a),isPending:i,error:s}},f=()=>{var e=(0,i._)((0,p.useState)(!1),2),t=e[0],n=e[1],u=(0,i._)((0,p.useState)(null),2),o=u[0],m=u[1],T=(0,i._)((0,p.useState)(),2),v=T[0],k=T[1],A=function(){var e=(0,a._)(function(e,t,a,i,u){var r;return(0,s.YH)(this,function(s){switch(s.label){case 0:n(!0),m(null),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,(0,d.E)(y.$,{abi:l,address:c,functionName:"stakeLiquidity",args:[e,t,a,i,u]})];case 2:return k(s.sent()),[3,5];case 3:throw m(r=s.sent()),r;case 4:return n(!1),[7];case 5:return[2]}})});return function(t,n,a,i,s){return e.apply(this,arguments)}}(),f=(0,r.g)({hash:v}),b=f.isLoading,g=f.isSuccess,h=f.error;return{stakeLiquidity:A,writeData:v,isWriting:t,writeError:null!=o?o:h,isConfirming:b,isConfirmed:g}},b=()=>{var e=(0,i._)((0,p.useState)(!1),2),t=e[0],n=e[1],u=(0,i._)((0,p.useState)(null),2),m=u[0],T=u[1],v=(0,i._)((0,p.useState)(),2),k=v[0],A=v[1],f=function(){var e=(0,a._)(function(e,t,a,i){var u;return(0,s.YH)(this,function(s){switch(s.label){case 0:n(!0),T(null),s.label=1;case 1:return s.trys.push([1,4,5,6]),[4,(0,o.v)(y.$,{abi:l,address:c,functionName:"stakeToken",args:[e,t,a,i]})];case 2:return s.sent(),[4,(0,d.E)(y.$,{abi:l,address:c,functionName:"stakeToken",args:[e,t,a,i]})];case 3:return A(s.sent()),[3,6];case 4:throw T(u=s.sent()),u;case 5:return n(!1),[7];case 6:return[2]}})});return function(t,n,a,i){return e.apply(this,arguments)}}(),b=(0,r.g)({hash:k}),g=b.isLoading,h=b.isSuccess,w=b.error;return{stakeToken:f,writeData:k,writeError:null!=m?m:w,isPending:t,isConfirming:g,isConfirmed:h}},g=()=>{var e=(0,i._)((0,p.useState)(!1),2),t=e[0],n=e[1],u=(0,i._)((0,p.useState)(null),2),m=u[0],T=u[1],v=(0,i._)((0,p.useState)(),2),k=v[0],A=v[1],f=function(){var e=(0,a._)(function(e){var t;return(0,s.YH)(this,function(a){switch(a.label){case 0:n(!0),T(null),a.label=1;case 1:return a.trys.push([1,4,5,6]),[4,(0,o.v)(y.$,{abi:l,address:c,functionName:"unstake",args:[e]})];case 2:return a.sent(),[4,(0,d.E)(y.$,{abi:l,address:c,functionName:"unstake",args:[e]})];case 3:return A(a.sent()),[3,6];case 4:throw T(t=a.sent()),t;case 5:return n(!1),[7];case 6:return[2]}})});return function(t){return e.apply(this,arguments)}}(),b=(0,r.g)({hash:k}),g=b.isLoading,h=b.isSuccess,w=b.error;return{unstake:f,writeData:k,isWriting:t,writeError:null!=m?m:w,isConfirming:g,isConfirmed:h}},h=()=>{var e=(0,i._)((0,p.useState)(!1),2),t=e[0],n=e[1],u=(0,i._)((0,p.useState)(null),2),m=u[0],T=u[1],v=(0,i._)((0,p.useState)(),2),k=v[0],A=v[1],f=function(){var e=(0,a._)(function(e){var t;return(0,s.YH)(this,function(a){switch(a.label){case 0:n(!0),T(null),a.label=1;case 1:return a.trys.push([1,4,5,6]),[4,(0,o.v)(y.$,{abi:l,address:c,functionName:"withdraw",args:[e]})];case 2:return a.sent(),[4,(0,d.E)(y.$,{abi:l,address:c,functionName:"withdraw",args:[e]})];case 3:return A(a.sent()),[3,6];case 4:throw T(t=a.sent()),t;case 5:return n(!1),[7];case 6:return[2]}})});return function(t){return e.apply(this,arguments)}}(),b=(0,r.g)({hash:k}),g=b.isLoading,h=b.isSuccess,w=b.error;return{withdraw:f,writeData:k,isWriting:t,writeError:null!=m?m:w,isConfirming:g,isConfirmed:h}}},42038:(e,t,n)=>{n.d(t,{C:()=>i});var a=n(97685),i=e=>!!e||(a.oR.error("请先将钱包链接 ".concat("thinkium70001")),!1)},99574:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(37876),i=n(14232),s=n(7446);let u=e=>{var t=e.isLoading,n=e.text;return((0,i.useEffect)(()=>{if(t){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[t]),t)?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 touch-none overscroll-none",onTouchMove:e=>{e.preventDefault()},onTouchStart:e=>{e.preventDefault()},style:{touchAction:"none"},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(s.A,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,a.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:void 0===n?"Loading":n})]})}):null}}}]);