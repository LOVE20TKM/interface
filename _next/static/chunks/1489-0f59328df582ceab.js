try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8b6ac96f-8bb9-4afd-a2db-c6b82624564c",e._sentryDebugIdIdentifier="sentry-dbid-8b6ac96f-8bb9-4afd-a2db-c6b82624564c")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1489],{42083:function(e,n,r){var t=r(85893),i=r(23432);n.Z=function(){return(0,t.jsx)(i.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},93566:function(e,n,r){r.d(n,{$A:function(){return h},Bk:function(){return g},Xo:function(){return b},dI:function(){return l},qd:function(){return m},sK:function(){return p}});var t=r(11010),i=r(97582),s=r(67294),o=r(71104),u=r(7724),a=r(37742),c=r(84689),d=r(37474),f="0xeBB295af1D4ee9ed92e55EFF4ca5Eb8D4AB81aCE",l=function(e,n){var r=(0,o.u)({address:f,abi:u.d,functionName:"actionInfo",args:[e,n||BigInt(0)],query:{enabled:!!e&&void 0!==n}});return{actionInfo:r.data,isPending:r.isPending,error:r.error}},g=function(){var e=(0,o.u)({address:f,abi:u.d,functionName:"currentRound",args:[]}),n=e.data,r=e.isPending,t=e.error;return{currentRound:(0,a.Zu)(n),isPending:r,error:t}},h=function(e,n,r){var t=(0,o.u)({address:f,abi:u.d,functionName:"isSubmitted",args:[e,n,r]});return{isSubmitted:t.data,isPending:t.isPending,error:t.error}},p=function(e,n,r){var t=(0,o.u)({address:f,abi:u.d,functionName:"submitInfo",args:[e,n,r],query:{enabled:!!e&&!!n}});return{submitInfo:t.data,isPending:t.isPending,error:t.error}};function m(){var e,n=(0,d.e9)(u.d,f,"submit"),r=n.execute,o=n.isPending,a=n.isConfirming,l=n.isConfirmed,g=n.error,h=n.hash,p=n.isTukeMode,m=(e=(0,t._)(function(e,n){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交submit交易:",{tokenAddress:e,actionId:n,isTukeMode:p}),[4,r([e,n])];case 1:return[2,t.sent()]}})}),function(n,r){return e.apply(this,arguments)});return(0,s.useEffect)(function(){h&&console.log("submit tx hash:",h),g&&(console.log("提交submit交易错误:"),(0,c.Vh)(g),(0,c.H)(g)),l&&console.log("submit tx confirmed")},[h,g,l]),{submit:m,isPending:o,isConfirming:a,writeError:g,isConfirmed:l,hash:h,isTukeMode:p}}function b(){var e,n=(0,d.e9)(u.d,f,"submitNewAction"),r=n.execute,o=n.isPending,a=n.isConfirming,l=n.isConfirmed,g=n.error,h=n.hash,p=n.isTukeMode,m=(e=(0,t._)(function(e,n){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交submitNewAction交易:",{tokenAddress:e,actionBody:n,isTukeMode:p}),[4,r([e,n])];case 1:return[2,t.sent()]}})}),function(n,r){return e.apply(this,arguments)});return(0,s.useEffect)(function(){h&&console.log("submitNewAction tx hash:",h),g&&(console.log("提交submitNewAction交易错误:"),(0,c.Vh)(g),(0,c.H)(g)),l&&console.log("submitNewAction tx confirmed")},[h,g,l]),{submitNewAction:m,isPending:o,isConfirming:a,writeError:g,isConfirmed:l,hash:h,isTukeMode:p}}},45655:function(e,n,r){r.d(n,{Hg:function(){return a},KL:function(){return o},lt:function(){return u},rJ:function(){return c}});var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};function i(e){return e?e.replace(/[&<>"'/]/g,function(e){return t[e]||e}):""}function s(e){if(!e)return"";var n=e.replace(/<[^>]*>/g,"");return i(n=(n=(n=n.replace(/javascript:/gi,"")).replace(/on\w+\s*=/gi,"")).replace(/data:[^;]*;base64,/gi,""))}function o(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";var r=/(https?:\/\/[^\s]+)/g;if(0===(e.match(r)||[]).length){var t=i(e);return n?t.replace(/\n/g,"<br>"):t}var s=e;return s=(s=(s=(s=s.replace(/<script[^>]*>.*?<\/script>/gi,"")).replace(/<[^>]*on\w+\s*=\s*[^>]*>/gi,"")).replace(/javascript:/gi,"")).split(r).map(function(e,n){return n%2==0?function(e){if(!e)return"";var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return e.replace(/[&<>"']/g,function(e){return n[e]||e})}(e):u(e)?e:i(e)}).join(""),n&&(s=s.replace(/\n/g,"<br>")),s}function u(e){if(!e)return!1;try{var n=new URL(e);if(!["https:","http:"].includes(n.protocol))return!1;var r=n.hostname.toLowerCase(),t=e.toLowerCase();if(t.includes("javascript:")||t.includes("data:")||t.includes("vbscript:")||t.includes("file:")||["phishing-site.com","fake-bank.com","malware-host.net"].some(function(e){return r===e||r.endsWith("."+e)})||["phishing","malware","trojan","keylogger","ransomware","exploit-kit"].some(function(e){return r.includes(e)})||/[\u0000-\u001f\u007f-\u009f]/.test(r)||!/^[a-zA-Z0-9.-]+$/.test(r))return!1;return/^\d+\.\d+\.\d+\.\d+$/.test(r),!0}catch(e){return!1}}function a(e){var n=[],r=e;if(!e||""===e.trim())return{isValid:!1,errors:["验证规则不能为空"],sanitizedRule:""};e.length>1e4&&n.push("验证规则不能超过10000字"),/<(?:script|iframe|object|embed|form|input|meta|link|style)[^>]*>/gi.test(e)&&(n.push("验证规则不能包含危险的HTML标签"),r=s(e)),RegExp("(?<!https?:\\/\\/[^\\s]*)(javascript:|onclick\\s*=|onerror\\s*=|onload\\s*=|<script)","gi").test(e)&&(n.push("验证规则不能包含可执行脚本代码"),r=s(e));var t=e.match(/(https?:\/\/[^\s]+)/g)||[];if(t.length>0){var i=t.filter(function(e){return!u(e)});i.length>0&&n.push("包含危险的链接，已被安全过滤器拦截: ".concat(i.join(", ")))}return{isValid:0===n.length,errors:n,sanitizedRule:r}}function c(e){var n=[];if(!e||""===e.trim())return{isValid:!1,errors:["验证名称不能为空"],sanitizedKey:""};var r=s(e);return r!==e&&n.push("验证名称包含不安全的内容"),{isValid:0===n.length,errors:n,sanitizedKey:r}}},72107:function(e,n,r){r.d(n,{L:function(){return u}});var t=r(85893);r(67294);var i=r(1938),s=r(45655),o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;var r=/(https?:\/\/[^\s]+)/g;if(!r.test(e)){var o=(0,s.KL)(e,n);return(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:o}})}var u=e.split(r),a=e.match(r)||[];return(0,t.jsx)(t.Fragment,{children:u.map(function(e,r){if(r%2==0){var o=(0,s.KL)(e,n);return(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:o}},r)}var u=a[(r-1)/2];return(0,s.lt)(u)?(0,t.jsx)("a",{href:u,onClick:function(e){return(e.preventDefault(),e.stopPropagation(),(0,s.lt)(u))?i.N.handleExternalLink(u):alert("链接安全检查失败: ".concat(u.substring(0,50),"...")),!1},className:"text-blue-500 underline hover:text-blue-700 break-words break-all whitespace-normal",title:"外部链接: ".concat(u),rel:"noopener noreferrer",target:"_self",children:u.length>32?"".concat(u.substring(0,29),"..."):u},r):(0,t.jsx)("span",{className:"text-red-500 font-semibold",children:"[危险链接已被拦截]"},r)})})},u=function(e){var n=e.text,r=e.preserveLineBreaks;return(0,t.jsx)(t.Fragment,{children:o(n,void 0!==r&&r)})}}}]);