"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{4066:(e,r,t)=>{t.d(r,{BN:()=>i,bD:()=>a,u$:()=>s,u3:()=>o});var n=t(20442),a=(e,r,t)=>{if(!e||!r)return"0%";var a=31536e5/Number("255"),i=BigInt("33784");if(0===a||0n===i)return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var s=e?99n*e*99n/2000000n:BigInt(0),o=(2n*r||BigInt(0))+(t||BigInt(0));if(o===BigInt(0))return"0%";var c=Number(s)/Number(o)/(Number(i)/a)*100;return(0,n.Ee)(c)},i=(e,r)=>{if(!e||!r||0n===r)return"0%";var t=31536e5/Number("255"),a=BigInt("33784");if(0===t||0n===a)return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var i=Number(e)/Number(r)/(Number(a)/t)*100;return(0,n.Ee)(i)},s=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Number("33784")||0,n=Number("255")||0,a=e*t,i=Math.ceil(Math.ceil(a*n/100)/86400),s="".concat(a.toLocaleString(),"区块，约").concat(i,"天");return r||(s="".concat(e,"个阶段（").concat(s,")")),s},o=(e,r)=>{if(!e)return BigInt(0);var t=100n-(BigInt("5")+BigInt("5"))/10n,n=BigInt(0);return r<=1n?e*BigInt("5")/1000n:e*t*BigInt("5")/100000n}},20442:(e,r,t)=>{t.d(r,{$w:()=>s,Ee:()=>f,Js:()=>l,LP:()=>m,NJ:()=>o,W_:()=>i,XS:()=>c,lM:()=>d,mW:()=>u});var n=t(18449),a=t(32602),i=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",s=e=>{var r=Number(l(e));return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(r)},o=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r=Number(l(e));if(e<10n)return"0";if(r>=1e3)return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(r);if(r>=100)return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(r);if(r>=1||r>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:4}).format(r);if(0===r)return"0";var t=r.toFixed(14),n=t.split(".");if(n.length<2)return t;var a=n[1],i=0,s=!0,o=!1,c=void 0;try{for(var u,m=a[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var d=u.value;if("0"===d)i++;else break}}catch(e){o=!0,c=e}finally{try{s||null==m.return||m.return()}finally{if(o)throw c}}var f=a.slice(i,i+4);return"0.0{".concat(i,"}").concat(f)},c=e=>{var r=parseInt("18",10);try{var t=e.replace(/,/g,"");return(0,n.X)(t,r)}catch(e){return console.error("parseUnits error:",e),0n}},l=e=>{var r=parseInt("18",10);return(0,a.J)(e,r)},u=e=>e.includes(".")?parseFloat(e.replace(/,/g,"")).toString():e,m=(e,r)=>e&&r?e-BigInt(r.initialStakeRound)+1n:0n,d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=Number(e);if(n>=1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:r}).format(n);if(n>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:t+1}).format(n);if(0===n)return"0";var a=n.toFixed(t+10),i=a.split(".");if(i.length<2)return a;var s=i[1],o=0,c=!0,l=!1,u=void 0;try{for(var m,d=s[Symbol.iterator]();!(c=(m=d.next()).done);c=!0){var f=m.value;if("0"===f)o++;else break}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}var g=s.slice(o);return"0.0{".concat(o,"}").concat(g)},f=e=>{var r="string"==typeof e?parseFloat(e):e,t=Math.abs(r);return 0===t?"0%":t>=100?r.toLocaleString(void 0,{maximumFractionDigits:0})+"%":t>=10?r.toFixed(1)+"%":t>=1?r.toFixed(2)+"%":t>=.1?r.toFixed(3)+"%":t>=.01?r.toFixed(4)+"%":r.toExponential(4)+"%"}},75695:(e,r,t)=>{t.d(r,{A:()=>f});var n=t(16927),a=t(40854),i=t(4902),s=t(37876),o=t(14232),c=t(7446),l=t(95167),u=t(8047),m=t(44571),d=t(97685);function f(e){var r,t=e.tokenAddress,f=e.tokenSymbol,g=e.tokenDecimals,x=e.tokenImage,v=(0,a._)((0,o.useState)(!1),2),b=v[0],h=v[1],N=(0,u.F)().isConnected,p=(0,m.G)().data,y=(r=(0,n._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:if(!N)return alert("请先连接你的钱包"),[2];h(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!p)return alert("无法获取钱包客户端"),[2];return[4,p.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:f,decimals:g,image:x}}})];case 2:return e.sent()?d.Ay.success("代币已成功添加到 MetaMask 钱包"):d.Ay.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),d.Ay.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return h(!1),[7];case 5:return[2]}})}),function(){return r.apply(this,arguments)});return(0,s.jsx)("button",{onClick:y,disabled:b,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:b?(0,s.jsx)(c.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(l.A,{className:"h-4 w-4 text-greyscale-500"})})}},87577:(e,r,t)=>{t.d(r,{A:()=>m});var n=t(40854),a=t(37876),i=t(14232),s=t(48447),o=t(33276),c=t(70801),l=t(97685),u=t(20442);let m=e=>{var r=e.address,t=e.word,m=e.showCopyButton,d=e.showAddress,f=void 0===d||d,g=e.colorClassName,x=void 0===g?"":g,v=e.colorClassName2,b=void 0===v?"":v,h=(0,n._)((0,i.useState)(!1),2),N=h[0],p=h[1];return(0,a.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,a.jsx)("span",{className:"text-xs",children:t}),f&&!b&&(0,a.jsx)("span",{className:"text-xs ".concat(null!=x?x:"text-greyscale-500"),children:(0,u.W_)(r)}),f&&b&&(0,a.jsxs)("span",{className:"text-[0px]",children:[(0,a.jsx)("span",{className:"text-xs ".concat(null!=x?x:"text-greyscale-500"),children:"".concat(r.substring(0,6),"...")}),(0,a.jsx)("span",{className:"text-xs ".concat(b),children:"".concat(r.substring(r.length-4))})]}),(void 0===m||m)&&(0,a.jsx)(s.CopyToClipboard,{text:r,onCopy:(e,r)=>{r?p(!0):l.Ay.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:N?(0,a.jsx)(o.A,{className:"h-4 w-4 ".concat(null!=x?x:"text-greyscale-500")}):(0,a.jsx)(c.A,{className:"h-4 w-4 ".concat(null!=x?x:"text-greyscale-500")})})})]})}}}]);