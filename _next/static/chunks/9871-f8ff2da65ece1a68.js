"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9871],{27460:function(e,n,t){var a=t(85893),i=t(67294),s=t(74855),r=t(78865),u=t(18289),d=t(86501),p=t(91529);n.Z=e=>{let{address:n,showCopyButton:t=!0,showAddress:o=!0,colorClassName:y=""}=e,[l,m]=(0,i.useState)(!1);return(0,a.jsxs)("span",{className:"flex items-center space-x-2",children:[o&&(0,a.jsx)("span",{className:"text-xs ".concat(null!=y?y:"text-greyscale-500"),children:(0,p.Vu)(n)}),t&&(0,a.jsx)(s.CopyToClipboard,{text:n,onCopy:(e,n)=>{n?m(!0):d.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:l?(0,a.jsx)(r.Z,{className:"h-4 w-4 ".concat(null!=y?y:"text-greyscale-500")}):(0,a.jsx)(u.Z,{className:"h-4 w-4 ".concat(null!=y?y:"text-greyscale-500")})})})]})}},5028:function(e,n,t){t.d(n,{Bk:function(){return d},z7:function(){return l},PL:function(){return p},X9:function(){return o},Mn:function(){return y},Qc:function(){return m}});var a=t(89810),i=t(71366),s=t(83540);let r=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"JOIN_END_PHASE_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"amountByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByActionId",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByActionIdByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"submitAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"randomAddress_",type:"address",internalType:"address"},{name:"joinEndPhaseBlocks",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"join",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"additionalAmount",type:"uint256",internalType:"uint256"},{name:"verificationInfos_",type:"string[]",internalType:"string[]"},{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"prepareRandomAccountsIfNeeded",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"randomAccounts",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"randomAccountsByRandomSeed",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"randomSeed",type:"uint256",internalType:"uint256"},{name:"num",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"randomAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"updateVerificationInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"verificationKeys_",type:"string[]",internalType:"string[]"},{name:"verificationInfos_",type:"string[]",internalType:"string[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verificationInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"accountAddress",type:"address",internalType:"address"},{name:"verificationKey",type:"string",internalType:"string"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"verificationInfos",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"string",internalType:"string"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"Join",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"currentRound",type:"uint256",indexed:!0,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!1,internalType:"address"},{name:"additionalStakeAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UpdateVerificationInfo",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"verificationKey",type:"string",indexed:!0,internalType:"string"},{name:"verificationInfo",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"currentRound",type:"uint256",indexed:!0,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!1,internalType:"address"},{name:"withdrawnAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ActionNotVoted",inputs:[]},{type:"error",name:"AddressCannotBeZero",inputs:[]},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AmountIsZero",inputs:[]},{type:"error",name:"CannotGenerateAtCurrentRound",inputs:[]},{type:"error",name:"InvalidToAddress",inputs:[]},{type:"error",name:"JoinAmountExceedsMaxStake",inputs:[]},{type:"error",name:"JoinedAmountIsZero",inputs:[]},{type:"error",name:"LastBlocksOfRoundCannotJoin",inputs:[]},{type:"error",name:"NotInWhiteList",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]}],u="0x738536dA6B704fD66742d5CF9025A5F50b69291e",d=()=>{let{data:e,isPending:n,error:t}=(0,a.u)({address:u,abi:r,functionName:"currentRound"});return{currentRound:e,isPending:n,error:t}},p=(e,n)=>{let{data:t,isPending:i,error:s}=(0,a.u)({address:u,abi:r,functionName:"amountByActionId",args:[e,n],query:{enabled:!!e&&void 0!==n}});return{joinedAmountByActionId:t,isPending:i,error:s}},o=(e,n,t)=>{let{data:i,isPending:s,error:d}=(0,a.u)({address:u,abi:r,functionName:"amountByActionIdByAccount",args:[e,n,t],query:{enabled:!!e&&!!t&&void 0!==n}});return{joinedAmountByActionIdByAccount:i,isPending:s,error:d}},y=(e,n)=>{let{data:t,isPending:i,error:s}=(0,a.u)({address:u,abi:r,functionName:"amountByAccount",args:[e,n],query:{enabled:!!e&&!!n}});return{stakedAmount:t,isPending:i,error:s}},l=()=>{let{writeContract:e,data:n,isPending:t,error:a}=(0,i.S)(),d=async(n,t,a,i,s)=>{try{await e({address:u,abi:r,functionName:"join",args:[n,t,a,i,s]})}catch(e){console.error("Join failed:",e)}},{isLoading:p,isSuccess:o}=(0,s.A)({hash:n});return{join:d,writeData:n,isPending:t,error:a,isConfirming:p,isConfirmed:o}},m=()=>{let{writeContract:e,data:n,isPending:t,error:a}=(0,i.S)(),d=async(n,t)=>{try{await e({address:u,abi:r,functionName:"withdraw",args:[n,t]})}catch(e){console.error("Withdraw failed:",e)}},{isLoading:p,isSuccess:o}=(0,s.A)({hash:n});return{withdraw:d,writeData:n,isPending:t,error:a,isConfirming:p,isConfirmed:o}}}}]);