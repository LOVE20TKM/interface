try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="753ae582-91a9-4a1d-a468-8465a16ccddc",e._sentryDebugIdIdentifier="sentry-dbid-753ae582-91a9-4a1d-a468-8465a16ccddc")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3439],{67997:function(e,n,t){t.d(n,{Z:function(){return i}});var i=(0,t(31134).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},31729:function(e,n,t){var i=t(11010),s=t(97582),r=t(85893),a=t(67294),o=t(42130),c=t(86501),l=t(27245),d=t(41664),u=t.n(d),m=t(11163),x=t(20442),f=t(90278),g=t(93566),h=t(72260),v=t(73591),y=t(93778),j=t(91529),b=t(42083),p=t(44576),I=t(72107),N=t(26952);n.Z=function(e){var n,t=e.actionId,d=e.actionInfo,B=e.onStakedAmountChange,w=e.showJoinButton,C=(0,o.m)().address,A=((0,a.useContext)(y.M)||{}).token,k=(0,m.useRouter)(),M=(0,x.Bk)(),_=M.currentRound,H=M.error,P=(0,g.$A)((null==A?void 0:A.address)||"",_,t),E=P.isSubmitted,J=P.error,L=P.isPending,S=(0,h.Dn)((null==A?void 0:A.address)||"",_,t),T=S.isActionIdVoted,R=S.error,O=S.isPending,Z=(0,x.X9)((null==A?void 0:A.address)||"",t,C||""),D=Z.joinedAmountByActionIdByAccount,V=Z.isPending,G=Z.error,z=(0,x.PL)((null==A?void 0:A.address)||"",t),q=z.joinedAmountByActionId,F=z.isPending,K=z.error,Q=D&&D>0&&q&&q>0,W=Q?Number(D)/Number(q)*100:0,X=(0,j.rl)(W),$=Q&&d?(0,N.cH)(D||BigInt(0),q||BigInt(0),Number(d.body.maxRandomAccounts||0)):0,U=(0,j.rl)($),Y=Q&&d?(0,N.CI)(D||BigInt(0),q||BigInt(0),Number(d.body.maxRandomAccounts||0)):BigInt(0),ee=(0,f.Cv)((null==A?void 0:A.address)||"",t,C||""),en=ee.verificationKeys,et=ee.verificationInfos,ei=ee.isPending,es=ee.error,er=(0,x.Qc)(),ea=er.withdraw,eo=er.isPending,ec=er.isConfirming,el=er.isConfirmed,ed=er.writeError,eu=(n=(0,i._)(function(){return(0,s.Jh)(this,function(e){switch(e.label){case 0:if(void 0!=D&&D<=BigInt(2))return c.Am.error("你还没有参与，无需取回"),[2];return[4,ea((null==A?void 0:A.address)||"",t)];case 1:return e.sent(),[2]}})}),function(){return n.apply(this,arguments)});(0,a.useEffect)(function(){el&&(c.Am.success("取回成功"),k.push("/my"))},[el,k]),(0,a.useEffect)(function(){V||null==B||B(D||BigInt(0))},[D,V]);var em=(0,v.S)().handleContractError;return((0,a.useEffect)(function(){G&&em(G,"join"),K&&em(K,"join"),es&&em(es,"join"),H&&em(H,"join"),ed&&em(ed,"join"),J&&em(J,"submit"),R&&em(R,"vote")},[G,K,es,H,ed,J,R]),V||F||L||O)?"":(0,r.jsxs)("div",{className:"flex flex-col items-center px-0 pt-1",children:[Q&&(0,r.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0 gap-4",children:[(0,r.jsxs)("div",{className:"stat place-items-center min-h-[120px] flex flex-col justify-center",children:[(0,r.jsx)("div",{className:"stat-title",children:"我的参与"}),(0,r.jsx)("div",{className:"stat-value text-2xl text-secondary",children:V?(0,r.jsx)(b.Z,{}):(0,j.LH)(D||BigInt(0),0)}),(0,r.jsxs)("div",{className:"stat-desc text-sm mt-2 whitespace-normal break-words text-center",children:[null==A?void 0:A.symbol,"数量"]})]}),(0,r.jsxs)("div",{className:"stat place-items-center min-h-[120px] flex flex-col justify-center p-0",children:[(0,r.jsx)("div",{className:"stat-title",children:"被抽中验证概率"}),(0,r.jsx)("div",{className:"stat-value text-2xl text-secondary",children:U}),(0,r.jsxs)("div",{className:"stat-desc text-sm mt-2 whitespace-normal break-words text-center",children:["我的占比：",X]})]})]}),$<100&&Y>BigInt(0)&&(0,r.jsxs)("div",{className:"text-sm mb-2 text-gray-500 whitespace-normal break-words text-center",children:["（要100%概率被抽中，至少还需"," ",(0,r.jsxs)("span",{className:"text-secondary",children:[" ",(0,j.LH)(Y,4,"ceil")]})," 代币）"]}),(void 0===w||w)&&(0,r.jsx)(r.Fragment,{children:Q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"w-full space-y-3 mt-2",children:[(0,r.jsxs)("div",{className:"flex justify-center space-x-2 w-full",children:[void 0!=D&&D<=BigInt(2)?(0,r.jsx)(l.z,{variant:"outline",className:"flex-1 text-secondary border-secondary",disabled:!0,children:"取回"}):(0,r.jsx)(l.z,{variant:"outline",className:"flex-1 text-secondary border-secondary",onClick:eu,disabled:eo||ec||el,children:eo?"提交中":ec?"确认中":el?"已取回":"退出并取回代币"}),T?(0,r.jsx)(l.z,{variant:"outline",className:"flex-1 text-secondary border-secondary",asChild:!0,children:(0,r.jsx)(u(),{href:"/acting/join?id=".concat(t,"&symbol=").concat(null==A?void 0:A.symbol),children:"增加参与代币"})}):(0,r.jsx)(l.z,{variant:"outline",className:"flex-1",disabled:!0,children:"增加参与代币"})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(u(),{href:"/my/rewardsofaction?id=".concat(t,"&symbol=").concat(null==A?void 0:A.symbol),className:"text-secondary hover:underline",children:"查看行动激励 >>"})})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-700 bg-gray-50 border border-gray-200 rounded px-2 py-3 mt-3 mb-3 w-full",children:[(0,r.jsx)("div",{className:"font-medium text-gray-600 mb-3",children:"\uD83D\uDCA1 小贴士："}),(0,r.jsx)("div",{className:"ml-4 text-gray-600 mb-2",children:"1. 要100%被抽中的代币数 = 总参与代币数 / 最大激励地址数。 所以，有其他人增加参与代币，就需要更多代币才能达到100%概率被抽中。"}),(0,r.jsx)("div",{className:"ml-4 text-gray-600",children:"2. 当前验证的是上一轮的行动结果，所以取回代币，不会影响正在进行的验证，也不会影响上一轮行动的激励。"})]}),(0,r.jsx)("div",{className:"flex flex-col items-start my-4 w-full",children:(0,r.jsxs)("div",{className:"text-sm text-greyscale-600 w-full",children:[ei&&"加载中...",void 0!=D&&D>BigInt(2)&&en&&en.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"我提供的验证信息："}),(0,r.jsx)("div",{className:"w-full bg-gray-50 rounded-lg p-4 border border-gray-100",children:(0,r.jsx)("div",{className:"w-full text-left",children:en.map(function(e,n){return(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-greyscale-600",children:e}),(0,r.jsx)("div",{className:"text-base",children:(0,r.jsx)(I.L,{text:et[n]})})]},n)})})})]})]})})]}):E&&(0,r.jsx)(l.z,{variant:"outline",className:"w-1/2 text-secondary border-secondary",asChild:!0,children:(0,r.jsx)(u(),{href:"/acting/join?id=".concat(t,"&symbol=").concat(null==A?void 0:A.symbol),children:"参与行动"})})}),(0,r.jsx)(p.Z,{isLoading:eo||ec,text:eo?"提交交易...":"确认交易..."})]})}},80302:function(e,n,t){var i=t(91309),s=t(85893),r=t(67294),a=t(42130),o=t(79995),c=t(93778),l=t(20442),d=t(8926),u=t(47714),m=t(48886),x=t(27966),f=t(91529),g=t(39241),h=t(42083),v=t(27245),y=t(26986),j=t(35810),b=t(27460);n.Z=function(e){var n,t=e.actionId,p=e.extensionAddress,I=e.groupId,N=(0,a.m)().address,B=((0,r.useContext)(c.M)||{}).token,w=(0,d.W)({token:(null==B?void 0:B.address)?B:{address:"0x0000000000000000000000000000000000000000"},actionIds:[t],enabled:!!B&&void 0!==t}),C=w.extensions,A=w.isPending,k=w.error,M=(null===(n=C[0])||void 0===n?void 0:n.joinedAmountTokenSymbol)||(null==B?void 0:B.symbol)||"",_=M.length>10?"text-xs":"text-sm",H=(0,l.Bk)().currentRound,P=(0,m.aB)(p,H||BigInt(0),N),E=P.amount,J=P.provider,L=P.isPending,S=P.error,T=(0,u.A)({extensionAddress:p,groupId:I,round:H}),R=T.groupDetail,O=T.isPending,Z=T.error,D=(0,r.useMemo)(function(){return R&&E?(0,g.g)(R,E):{amount:BigInt(0),reason:""}},[R,E]).amount,V=(0,o.Z)("(min-width: 768px)"),G=(0,i._)((0,r.useState)(!1),2),z=G[0],q=G[1],F=(0,x.b)().handleError;return((0,r.useEffect)(function(){S&&F(S),Z&&F(Z),k&&F(k)},[S,Z,k,F]),L||O||A)?(0,s.jsx)("div",{className:"w-full py-4",children:(0,s.jsx)(h.Z,{})}):R&&E?(0,s.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0 gap-4 mb-2",children:[(0,s.jsxs)("div",{className:"stat place-items-center flex flex-col justify-center",children:[(0,s.jsx)("div",{className:"stat-title",children:"我的参与"}),(0,s.jsxs)("div",{className:"stat-value text-2xl text-secondary flex items-center gap-2",children:[(0,f.LH)(E||BigInt(0)),J&&"0x0000000000000000000000000000000000000000"!==J&&(0,s.jsx)("span",{className:"text-xs px-2 py-1 bg-secondary/20 text-secondary rounded cursor-pointer hover:bg-secondary/30 transition-colors",onClick:function(){return q(!0)},children:"体验"})]}),(0,s.jsxs)("div",{className:"stat-desc text-sm mt-2 whitespace-normal break-words text-center",children:["占链群"," ",(null==R?void 0:R.totalJoinedAmount)&&R.totalJoinedAmount>BigInt(0)?(0,f.rl)(100*Number(E||BigInt(0))/Number(R.totalJoinedAmount)):"0.00%"]})]}),(0,s.jsxs)("div",{className:"stat place-items-center flex flex-col justify-center",children:[(0,s.jsx)("div",{className:"stat-title",children:"还可追加"}),(0,s.jsx)("div",{className:"stat-value text-2xl text-secondary",children:(0,f.LH)(D)}),(0,s.jsx)("div",{className:"stat-desc ".concat(_," mt-2 whitespace-normal break-words text-center"),children:M})]}),V&&(0,s.jsxs)(j.Vq,{open:z,onOpenChange:q,children:[(0,s.jsx)(j.hg,{children:" "}),(0,s.jsxs)(j.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(j.$N,{children:"体验模式"}),(0,s.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800",children:[(0,s.jsx)("p",{children:"当前行动参与模式为体验模式"}),(0,s.jsx)("p",{children:"- 可以铸造激励"}),(0,s.jsx)("p",{children:"- 无法追加参与数量"}),(0,s.jsxs)("p",{className:"mt-2",children:[(0,s.jsx)("span",{className:"font-bold text-sm",children:"添加人："}),J&&(0,s.jsx)(b.Z,{address:J,showCopyButton:!0})]})]})]})]}),!V&&(0,s.jsx)(y.dy,{open:z,onOpenChange:q,children:(0,s.jsxs)(y.sc,{children:[(0,s.jsxs)(y.OX,{children:[(0,s.jsx)(y.iI,{children:"体验模式"}),(0,s.jsx)(y.uh,{})]}),(0,s.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800 text-lg",children:[(0,s.jsx)("p",{children:"当前行动参与模式为体验模式"}),(0,s.jsx)("p",{children:"- 可以铸造激励"}),(0,s.jsx)("p",{children:"- 无法增加参与代币数量"}),(0,s.jsxs)("p",{className:"mt-2",children:[(0,s.jsx)("span",{className:"font-bold text-sm",children:"添加人："}),J&&(0,s.jsx)(b.Z,{address:J,showCopyButton:!0})]})]}),(0,s.jsx)(y.ze,{children:(0,s.jsx)(y.uh,{asChild:!0,children:(0,s.jsx)(v.z,{variant:"outline",className:"w-1/2 mx-auto text-secondary border-secondary",children:"关闭"})})})]})})]}):null}},30333:function(e,n,t){var i=t(85893);t(67294);var s=t(91529);n.Z=function(e){var n=e.stakedAmount,t=e.lpRatioStr,r=e.rewardRatio,a=e.userGovVotes,o=e.totalGovVotes,c=(0,s.rl)(100*r),l=BigInt(1e18),d=Number(o>BigInt(0)?a*l/o:BigInt(0))/Number(l)*100,u=(0,s.rl)(d);return(0,i.jsxs)("div",{className:"w-full space-y-3 bg-gray-50 rounded-lg p-2",children:[(0,i.jsxs)("div",{className:"w-full grid grid-cols-2 gap-0",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[100px] bg-white p-4",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"我加入的LP"}),(0,i.jsx)("div",{className:"text-2xl font-bold text-secondary",children:(0,s.LH)(n||BigInt(0),4)})]}),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[100px] bg-white p-4",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"当前激励占比"}),(0,i.jsx)("div",{className:"text-2xl font-bold text-secondary",children:c})]})]}),(0,i.jsx)("div",{className:"bg-gray-50 rounded-lg p-2",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-1 py-1",children:[(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"LP占比:"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-secondary pr-4",children:t})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between px-1 py-1",children:[(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"治理票占比:"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-secondary",children:u})]})]})})]})}},7855:function(e,n,t){t.d(n,{g:function(){return d}});var i=t(67294),s=t(88504),r=t(67516),a=t(18790),o=t(66889),c="0xb0d291C3B036860c8D5E2C681bFa391F787b26Cb",l=BigInt(1e18),d=function(e){var n=e.extensionAddress,t=e.tokenAddress,d=e.account,u=(0,s.O)({watch:!0}),m=u.data,x=u.isPending,f=(0,i.useMemo)(function(){return n&&t&&d?[{address:n,abi:a.H,functionName:"joinInfo",args:[d]},{address:n,abi:a.H,functionName:"joinedAmount",args:[]},{address:n,abi:a.H,functionName:"GOV_RATIO_MULTIPLIER",args:[]},{address:n,abi:a.H,functionName:"JOIN_TOKEN_ADDRESS",args:[]},{address:c,abi:o.B,functionName:"validGovVotes",args:[t,d]},{address:c,abi:o.B,functionName:"govVotesNum",args:[t]},{address:n,abi:a.H,functionName:"WAITING_BLOCKS",args:[]},{address:n,abi:a.H,functionName:"MIN_GOV_RATIO",args:[]}]:[]},[n,t,d]),g=(0,r.N)({contracts:f,query:{enabled:!!n&&!!t&&!!d&&f.length>0}}),h=g.data,v=g.isPending,y=g.error,j=(0,i.useMemo)(function(){var e;if(h&&(null===(e=h[3])||void 0===e?void 0:e.result))return h[3].result},[h]),b=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[0])||void 0===e?void 0:e.result)?h[0].result[1]:BigInt(0)},[h]),p=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[0])||void 0===e?void 0:e.result)?h[0].result[2]:BigInt(0)},[h]),I=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[6])||void 0===e?void 0:e.result)?BigInt(h[6].result.toString()):BigInt(0)},[h]),N=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[0])||void 0===e?void 0:e.result)?h[0].result[3]:BigInt(0)},[h]),B=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[1])||void 0===e?void 0:e.result)?BigInt(h[1].result.toString()):BigInt(0)},[h]),w=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[2])||void 0===e?void 0:e.result)?BigInt(h[2].result.toString()):BigInt(0)},[h]),C=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[4])||void 0===e?void 0:e.result)?BigInt(h[4].result.toString()):BigInt(0)},[h]),A=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[5])||void 0===e?void 0:e.result)?BigInt(h[5].result.toString()):BigInt(0)},[h]),k=(0,i.useMemo)(function(){var e;return h&&(null===(e=h[7])||void 0===e?void 0:e.result)?BigInt(h[7].result.toString()):BigInt(0)},[h]),M=(0,i.useMemo)(function(){return A&&A!==BigInt(0)?C*l/A:BigInt(0)},[C,A]),_=(0,i.useMemo)(function(){if(!b||b===BigInt(0)||!B||B===BigInt(0))return 0;var e=b*l/B;if(!w||w===BigInt(0))return Number(e)/Number(l);if(!A||A===BigInt(0))return 0;var n=C*l*w/A;return Number(e>n?n:e)/Number(l)},[b,B,C,A,w]),H=(0,i.useMemo)(function(){return b&&b!==BigInt(0)&&B&&B!==BigInt(0)?Number(b)/Number(B)*100:0},[b,B]),P=m||BigInt(0),E=(0,i.useMemo)(function(){return!!b&&b!==BigInt(0)&&P>=N},[b,P,N]),J=(0,i.useMemo)(function(){return!b||b===BigInt(0)||P>=N?BigInt(0):N-P},[b,P,N]);return{joinedAmount:b,totalJoinedAmount:B,lpTotalSupply:BigInt(0),joinedBlock:p,exitableBlock:N,currentBlock:P,waitingBlocks:I,canExitNow:E,remainingBlocks:J,rewardRatio:_,userGovVotes:C,totalGovVotes:A,minGovRatio:k,userGovRatio:M,lpRatio:H,joinTokenAddress:j,govRatioMultiplier:w,isPending:v||x,error:y}}},95752:function(e,n,t){t.d(n,{PQ:function(){return l},z7:function(){return d}});var i=t(11010),s=t(97582),r=t(67294),a=t(37474),o=t(84689),c=t(18790);function l(e){var n,t=(0,a.e9)(c.H,e,"exit"),l=t.execute,d=t.isPending,u=t.isConfirming,m=t.isConfirmed,x=t.error,f=t.hash,g=t.isTukeMode,h=(n=(0,i._)(function(){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return console.log("提交 exit 交易:",{contractAddress:e,isTukeMode:g}),[4,l([])];case 1:return[2,n.sent()]}})}),function(){return n.apply(this,arguments)});return(0,r.useEffect)(function(){f&&console.log("exit tx hash:",f),x&&(console.log("提交 exit 交易错误:"),(0,o.Vh)(x),(0,o.H)(x))},[f,x]),{exit:h,isPending:d,isConfirming:u,writeError:x,isConfirmed:m,hash:f,isTukeMode:g}}function d(e){var n,t=(0,a.e9)(c.H,e,"join"),l=t.execute,d=t.isPending,u=t.isConfirming,m=t.isConfirmed,x=t.error,f=t.hash,g=t.isTukeMode,h=(n=(0,i._)(function(n,t){return(0,s.Jh)(this,function(i){switch(i.label){case 0:return console.log("提交 join 交易:",{contractAddress:e,amount:n,verificationInfos:t,isTukeMode:g}),[4,l([n,t])];case 1:return[2,i.sent()]}})}),function(e,t){return n.apply(this,arguments)});return(0,r.useEffect)(function(){f&&console.log("join tx hash:",f),x&&(console.log("提交 join 交易错误:"),(0,o.Vh)(x),(0,o.H)(x))},[f,x]),{join:h,isPending:d,isConfirming:u,writeError:x,isConfirmed:m,hash:f,isTukeMode:g}}},39241:function(e,n,t){t.d(n,{A:function(){return s},g:function(){return r}});var i=t(91529),s=function(e){var n=[];if(e.maxJoinAmount>BigInt(0)&&n.push({amount:e.maxJoinAmount,reason:"链群最大参与代币 ".concat((0,i.LH)(e.maxJoinAmount))}),e.actionMaxJoinAmount>BigInt(0)&&n.push({amount:e.actionMaxJoinAmount,reason:"行动参与代币上限 ".concat((0,i.LH)(e.actionMaxJoinAmount))}),e.maxCapacity>BigInt(0)&&n.push({amount:e.remainingCapacity,reason:"链群剩余容量 ".concat((0,i.LH)(e.remainingCapacity))}),0===n.length)return{amount:BigInt(0),reason:"无限制"};var t=n[0],s=!0,r=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var l=o.value;l.amount<t.amount&&(t=l)}}catch(e){r=!0,a=e}finally{try{s||null==c.return||c.return()}finally{if(r)throw a}}return{amount:t.amount>BigInt(0)?t.amount:BigInt(0),reason:t.reason}},r=function(e,n){var t=[];if(e.maxJoinAmount>BigInt(0)){var s=e.maxJoinAmount-n;t.push({amount:s,reason:"链群最大参与代币 ".concat((0,i.LH)(e.maxJoinAmount))})}var r=e.actionMaxJoinAmount-n;if(t.push({amount:r,reason:"行动参与代币上限 ".concat((0,i.LH)(e.actionMaxJoinAmount))}),e.maxCapacity>BigInt(0)&&t.push({amount:e.remainingCapacity,reason:"链群剩余容量 ".concat((0,i.LH)(e.remainingCapacity))}),0===t.length)return{amount:BigInt(0),reason:"无限制"};var a=t[0],o=!0,c=!1,l=void 0;try{for(var d,u=t[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var m=d.value;m.amount<a.amount&&(a=m)}}catch(e){c=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}return{amount:a.amount>BigInt(0)?a.amount:BigInt(0),reason:a.reason}}},26952:function(e,n,t){function i(e,n){return n<=0||e<=BigInt(0)||1===n?BigInt(0):e/(BigInt(n)-BigInt(1))}function s(e,n,t){if(t<=0||n<=BigInt(0)||1===t)return BigInt(0);var i=n-e*BigInt(t);if(i<=BigInt(0))return BigInt(0);var s=i/BigInt(t-1);return s>BigInt(0)?s:BigInt(0)}function r(e,n,t){return n<=BigInt(0)||t<=0||e<=BigInt(0)?0:Math.min(Number(e)/Number(n)*100*t,100)}t.d(n,{CI:function(){return s},cH:function(){return r},h3:function(){return i}})},88504:function(e,n,t){t.d(n,{O:function(){return x}});var i=t(72253),s=t(14932),r=t(3628),a=t(97712),o=t(81946),c=t(36100),l=t(10352),d=t(39360),u=t(78942),m=t(63973);function x(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=t.query,f=void 0===x?{}:x,g=t.watch,h=(0,u.Z)(t),v=(0,r.NL)(),y=(0,d.x)({config:h}),j=null!==(e=t.chainId)&&void 0!==e?e:y,b=function(e,n={}){return{gcTime:0,async queryFn({queryKey:n}){let{scopeKey:t,...i}=n[1];return await function(e,n={}){let{chainId:t,...i}=n,s=e.getClient({chainId:t});return(0,o.s)(s,a.z,"getBlockNumber")(i)}(e,i)??null},queryKey:function(e={}){return["blockNumber",(0,c.OP)(e)]}(n)}}(h,(0,s._)((0,i._)({},t),{chainId:j}));return(0,m.x)((0,s._)((0,i._)({},(0,i._)({config:t.config,chainId:t.chainId},"object"==typeof g?g:{})),{enabled:!!((null===(n=f.enabled)||void 0===n||n)&&("object"==typeof g?g.enabled:g)),onBlockNumber:function(e){v.setQueryData(b.queryKey,e)}})),(0,l.aM)((0,i._)({},f,b))}},63973:function(e,n,t){t.d(n,{x:function(){return u}});var i=t(72253),s=t(14932),r=t(47702),a=t(65185),o=t(81946),c=t(67294),l=t(39360),d=t(78942);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.enabled,u=void 0===t||t,m=n.onBlockNumber,x=(n.config,(0,r._)(n,["enabled","onBlockNumber","config"])),f=(0,d.Z)(n),g=(0,l.x)({config:f}),h=null!==(e=n.chainId)&&void 0!==e?e:g;(0,c.useEffect)(function(){if(u&&m)return function(e,n){let t,i;let{syncConnectedChain:s=e._internal.syncConnectedChain,...r}=n,c=n=>{t&&t();let i=e.getClient({chainId:n});return t=(0,o.s)(i,a.q,"watchBlockNumber")(r)},l=c(n.chainId);return s&&!n.chainId&&(i=e.subscribe(({chainId:e})=>e,async e=>c(e))),()=>{l?.(),i?.()}}(f,(0,s._)((0,i._)({},x),{chainId:h,onBlockNumber:m}))},[h,f,u,m,x.onError,x.emitMissed,x.emitOnBegin,x.poll,x.pollingInterval,x.syncConnectedChain])}}}]);