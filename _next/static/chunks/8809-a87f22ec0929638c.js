"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8809],{18456:(t,e,a)=>{a.d(e,{k:()=>c});var n=a(66320),r=a(49154),s=a(16006),i=a(58547),o=a(73550);async function c(t,e){async function a(e){if(e.endsWith(o.vB.slice(2))){let a=(0,r.B)((0,n.iN)(e,-64,-32)),i=(0,n.iN)(e,0,-64).slice(2).match(/.{1,64}/g),c=await Promise.all(i.map(e=>o.BH.slice(2)!==e?t.request({method:"eth_getTransactionReceipt",params:[`0x${e}`]},{dedupe:!0}):void 0)),u=c.some(t=>null===t)?100:c.every(t=>t?.status==="0x1")?200:c.every(t=>t?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,s.ME)(a),receipts:c.filter(Boolean),status:u,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[e]})}let{atomic:c=!1,chainId:u,receipts:d,version:l="2.0.0",...h}=await a(e.id),[m,p]=(()=>{let t=h.status;return t>=100&&t<200?["pending",t]:t>=200&&t<300?["success",t]:t>=300&&t<700?["failure",t]:"CONFIRMED"===t?["success",200]:"PENDING"===t?["pending",100]:[void 0,t]})();return{...h,atomic:c,chainId:u?(0,s.ME)(u):void 0,receipts:d?.map(t=>({...t,blockNumber:(0,s.uU)(t.blockNumber),gasUsed:(0,s.uU)(t.gasUsed),status:i.Lj[t.status]}))??[],statusCode:p,status:m,version:l}}},21842:(t,e,a)=>{a.d(e,{w:()=>n});async function n(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}},23272:(t,e,a)=>{a.d(e,{c:()=>u});var n=a(76200),r=a(71503),s=a(92108),i=a(3190),o=a(40474),c=a(18456);async function u(t,e){let a,{id:n,pollingInterval:u=t.pollingInterval,status:l=({statusCode:t})=>t>=200,timeout:h=6e4}=e,m=(0,o.A)(["waitForCallsStatus",t.uid,n]),{promise:p,resolve:f,reject:w}=(0,i.Y)(),y=(0,r.lB)(m,{resolve:f,reject:w},e=>{let r=(0,s.w)(async()=>{let s=t=>{clearTimeout(a),r(),t(),y()};try{let a=await (0,c.k)(t,{id:n});if(!l(a))return;s(()=>e.resolve(a))}catch(t){s(()=>e.reject(t))}},{interval:u,emitOnBegin:!0});return r});return a=h?setTimeout(()=>{y(),clearTimeout(a),w(new d({id:n}))},h):void 0,await p}class d extends n.C{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}},44571:(t,e,a)=>{a.d(e,{G:()=>W});var n=a(5347),r=a(83607),s=a(81645);async function i(t,{chain:e}){let{id:a,name:n,nativeCurrency:r,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,s.cK)(a),chainName:n,nativeCurrency:r,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:t})=>t):void 0}]},{dedupe:!0,retryCount:0})}var o=a(72422),c=a(32544);async function u(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(t=>(0,c.o)(t))}var d=a(18456),l=a(75687);async function h(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}var m=a(57616),p=a(34472),f=a(96268),w=a(8481),y=a(53422);async function v(t,e){let{account:a=t.account,chainId:n,nonce:s}=e;if(!a)throw new p.T({docsPath:"/docs/eip7702/prepareAuthorization"});let i=(0,m.J)(a),o=(()=>{if(e.executor)return"self"===e.executor?e.executor:(0,m.J)(e.executor)})(),c={address:e.contractAddress??e.address,chainId:n,nonce:s};return void 0===c.chainId&&(c.chainId=t.chain?.id??await (0,w.T)(t,r.T,"getChainId")({})),void 0===c.nonce&&(c.nonce=await (0,w.T)(t,y.y,"getTransactionCount")({address:i.address,blockTag:"pending"}),("self"===o||o?.address&&(0,f.h)(o.address,i.address))&&(c.nonce+=1)),c}var g=a(93666);async function C(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(t=>(0,c.b)(t))}async function b(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var T=a(73550),I=a(5579),P=a(81035),E=a(72105);async function q(t,e){let{account:a=t.account}=e;if(!a)throw new p.T({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,m.J)(a);if(!n.signAuthorization)throw new p.Z({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let r=await v(t,e);return n.signAuthorization(r)}var N=a(84957),_=a(84663),x=a(94770),A=a(20547);async function S(t,e){let{account:a=t.account,chain:n=t.chain,...i}=e;if(!a)throw new p.T({docsPath:"/docs/actions/wallet/signTransaction"});let o=(0,m.J)(a);(0,A.c)({account:o,...e});let c=await (0,w.T)(t,r.T,"getChainId")({});null!==n&&(0,_.v)({currentChainId:c,chain:n});let u=n?.formatters||t.chain?.formatters,d=u?.transactionRequest?.format||x.Bv;return o.signTransaction?o.signTransaction({...i,chainId:c},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...d(i),chainId:(0,s.cK)(c),from:o.address}]},{retryCount:0})}var M=a(85450);async function k(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.cK)(e)}]},{retryCount:0})}var z=a(23272),D=a(21842),j=a(95216);function J(t){return{addChain:e=>i(t,e),deployContract:e=>(0,o.c)(t,e),getAddresses:()=>u(t),getCallsStatus:e=>(0,d.k)(t,e),getCapabilities:e=>(0,l.F)(t,e),getChainId:()=>(0,r.T)(t),getPermissions:()=>h(t),prepareAuthorization:e=>v(t,e),prepareTransactionRequest:e=>(0,g.ft)(t,e),requestAddresses:()=>C(t),requestPermissions:e=>b(t,e),sendCalls:e=>(0,T.yM)(t,e),sendRawTransaction:e=>(0,I.L)(t,e),sendTransaction:e=>(0,P.v)(t,e),showCallsStatus:e=>(0,E.J)(t,e),signAuthorization:e=>q(t,e),signMessage:e=>(0,N.l)(t,e),signTransaction:e=>S(t,e),signTypedData:e=>(0,M.C)(t,e),switchChain:e=>k(t,e),waitForCallsStatus:e=>(0,z.c)(t,e),watchAsset:e=>(0,D.w)(t,e),writeContract:e=>(0,j.E)(t,e)}}var L=a(90203);async function B(t,e={}){return(await (0,L.r)(t,e)).extend(J)}var U=a(24751),$=a(14232),K=a(56911),O=a(8047),R=a(1081),F=a(43387);function W(t={}){let{query:e={},...a}=t,r=(0,F.U)(a),s=(0,n.jE)(),{address:i,connector:o,status:c}=(0,O.F)({config:r}),u=(0,R.i)({config:r}),d=t.connector??o,{queryKey:l,...h}=function(t,e={}){return{gcTime:0,async queryFn({queryKey:a}){let{connector:n}=e,{connectorUid:r,scopeKey:s,...i}=a[1];return B(t,{...i,connector:n})},queryKey:function(t={}){let{connector:e,...a}=t;return["walletClient",{...(0,U.xO)(a),connectorUid:e?.uid}]}(e)}}(r,{...t,chainId:t.chainId??u,connector:t.connector??o}),m=!!(("connected"===c||"reconnecting"===c&&d?.getProvider)&&(e.enabled??!0)),p=(0,$.useRef)(i);return(0,$.useEffect)(()=>{let t=p.current;!i&&t?(s.removeQueries({queryKey:l}),p.current=void 0):i!==t&&(s.invalidateQueries({queryKey:l}),p.current=i)},[i,s]),(0,K.IT)({...e,...h,queryKey:l,enabled:m,staleTime:Number.POSITIVE_INFINITY})}},69167:(t,e,a)=>{a.d(e,{v:()=>u});var n=a(57616),r=a(94833),s=a(14237),i=a(66655),o=a(8481),c=a(57771);async function u(t,e){let{abi:a,address:u,args:d,dataSuffix:l,functionName:h,...m}=e,p=m.account?(0,n.J)(m.account):t.account,f=(0,s.p)({abi:a,args:d,functionName:h});try{let{data:n}=await (0,o.T)(t,c.T,"call")({batch:!1,data:`${f}${l?l.replace("0x",""):""}`,to:u,...m,account:p}),s=(0,r.e)({abi:a,args:d,functionName:h,data:n||"0x"}),i=a.filter(t=>"name"in t&&t.name===e.functionName);return{result:s,request:{abi:i,address:u,args:d,dataSuffix:l,functionName:h,...m,account:p}}}catch(t){throw(0,i.j)(t,{abi:a,address:u,args:d,docsPath:"/docs/contract/simulateContract",functionName:h,sender:p?.address})}}},72105:(t,e,a)=>{a.d(e,{J:()=>n});async function n(t,e){let{id:a}=e;await t.request({method:"wallet_showCallsStatus",params:[a]})}},72422:(t,e,a)=>{a.d(e,{c:()=>s});var n=a(13003),r=a(81035);function s(t,e){let{abi:a,args:s,bytecode:i,...o}=e,c=(0,n.m)({abi:a,args:s,bytecode:i});return(0,r.v)(t,{...o,...o.authorizationList?{to:null}:{},data:c})}},73550:(t,e,a)=>{a.d(e,{BH:()=>m,vB:()=>h,yM:()=>p});var n=a(57616),r=a(76200),s=a(18912),i=a(14237),o=a(58798),c=a(16006),u=a(81645),d=a(46263),l=a(81035);let h="0x5792579257925792579257925792579257925792579257925792579257925792",m=(0,u.cK)(0,{size:32});async function p(t,e){let{account:a=t.account,capabilities:p,chain:f=t.chain,experimental_fallback:w,experimental_fallbackDelay:y=32,forceAtomic:v=!1,id:g,version:C="2.0.0"}=e,b=a?(0,n.J)(a):null,T=e.calls.map(t=>{let e=t.abi?(0,i.p)({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&e?(0,o.xW)([e,t.dataSuffix]):e,to:t.to,value:t.value?(0,u.cK)(t.value):void 0}});try{let e=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:v,calls:T,capabilities:p,chainId:(0,u.cK)(f.id),from:b?.address,id:g,version:C}]},{retryCount:0});if("string"==typeof e)return{id:e};return e}catch(a){if(w&&("MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name||"UnknownRpcError"===a.name||a.details.toLowerCase().includes("does not exist / is not available")||a.details.toLowerCase().includes("missing or invalid. request()")||a.details.toLowerCase().includes("did not match any variant of untagged enum")||a.details.toLowerCase().includes("account upgraded to unsupported contract")||a.details.toLowerCase().includes("eip-7702 not supported")||a.details.toLowerCase().includes("unsupported wc_ method"))){if(p&&Object.values(p).some(t=>!t.optional)){let t="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.L5(new r.C(t,{details:t}))}if(v&&T.length>1){let t="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.jz(new r.C(t,{details:t}))}let e=[];for(let a of T){let n=(0,l.v)(t,{account:b,chain:f,data:a.data,to:a.to,value:a.value?(0,c.uU)(a.value):void 0});e.push(n),y>0&&await new Promise(t=>setTimeout(t,y))}let a=await Promise.allSettled(e);if(a.every(t=>"rejected"===t.status))throw a[0].reason;let n=a.map(t=>"fulfilled"===t.status?t.value:m);return{id:(0,o.xW)([...n,(0,u.cK)(f.id,{size:32}),h])}}throw(0,d.p)(a,{...e,account:b,chain:e.chain})}}},75687:(t,e,a)=>{a.d(e,{F:()=>s});var n=a(57616),r=a(81645);async function s(t,e={}){let{account:a=t.account,chainId:i}=e,o=a?(0,n.J)(a):void 0,c=i?[o?.address,[(0,r.cK)(i)]]:[o?.address],u=await t.request({method:"wallet_getCapabilities",params:c}),d={};for(let[t,e]of Object.entries(u))for(let[a,n]of(d[Number(t)]={},Object.entries(e)))"addSubAccount"===a&&(a="unstable_addSubAccount"),d[Number(t)][a]=n;return"number"==typeof i?d[i]:d}},78393:(t,e,a)=>{a.d(e,{H4:()=>w,v8:()=>p,$$:()=>f});var n=a(79313),r=a(45755),s=a(40474),i=a(76200);class o extends i.C{constructor({domain:t}){super(`Invalid domain "${(0,s.A)(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c extends i.C{constructor({primaryType:t,types:e}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(e))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class u extends i.C{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var d=a(57512),l=a(38047),h=a(81645),m=a(3796);function p(t){let{domain:e,message:a,primaryType:n,types:r}=t,i=(t,e)=>{let a={...e};for(let e of t){let{name:t,type:n}=e;"address"===n&&(a[t]=a[t].toLowerCase())}return a},o=r.EIP712Domain&&e?i(r.EIP712Domain,e):{},c=(()=>{if("EIP712Domain"!==n)return i(r[n],a)})();return(0,s.A)({domain:o,message:c,primaryType:n,types:r})}function f(t){let{domain:e,message:a,primaryType:s,types:i}=t,p=(t,e)=>{for(let a of t){let{name:t,type:s}=a,o=e[t],c=s.match(m.Ge);if(c&&("number"==typeof o||"bigint"==typeof o)){let[t,e,a]=c;(0,h.cK)(o,{signed:"int"===e,size:Number.parseInt(a)/8})}if("address"===s&&"string"==typeof o&&!(0,d.P)(o))throw new r.M({address:o});let f=s.match(m.BD);if(f){let[t,e]=f;if(e&&(0,l.E)(o)!==Number.parseInt(e))throw new n.BI({expectedSize:Number.parseInt(e),givenSize:(0,l.E)(o)})}let w=i[s];w&&(function(t){if("address"===t||"bool"===t||"string"===t||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new u({type:t})}(s),p(w,o))}};if(i.EIP712Domain&&e){if("object"!=typeof e)throw new o({domain:e});p(i.EIP712Domain,e)}if("EIP712Domain"!==s)if(i[s])p(i[s],a);else throw new c({primaryType:s,types:i})}function w({domain:t}){return["string"==typeof t?.name&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},("number"==typeof t?.chainId||"bigint"==typeof t?.chainId)&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}},81675:(t,e,a)=>{a.d(e,{v:()=>i});var n=a(69167),r=a(629),s=a(90203);async function i(t,e){let a,{abi:i,chainId:o,connector:c,...u}=e;a=e.account?e.account:(await (0,s.r)(t,{chainId:o,connector:c})).account;let d=t.getClient({chainId:o}),l=(0,r.T)(d,n.v,"simulateContract"),{result:h,request:m}=await l({...u,abi:i,account:a});return{chainId:d.chain.id,result:h,request:{...m,chainId:o}}}},84957:(t,e,a)=>{a.d(e,{l:()=>i});var n=a(57616),r=a(34472),s=a(81645);async function i(t,{account:e=t.account,message:a}){if(!e)throw new r.T({docsPath:"/docs/actions/wallet/signMessage"});let i=(0,n.J)(e);if(i.signMessage)return i.signMessage({message:a});let o="string"==typeof a?(0,s.i3)(a):a.raw instanceof Uint8Array?(0,s.nj)(a.raw):a.raw;return t.request({method:"personal_sign",params:[o,i.address]},{retryCount:0})}},85450:(t,e,a)=>{a.d(e,{C:()=>i});var n=a(57616),r=a(34472),s=a(78393);async function i(t,e){let{account:a=t.account,domain:i,message:o,primaryType:c}=e;if(!a)throw new r.T({docsPath:"/docs/actions/wallet/signTypedData"});let u=(0,n.J)(a),d={EIP712Domain:(0,s.H4)({domain:i}),...e.types};if((0,s.$$)({domain:i,message:o,primaryType:c,types:d}),u.signTypedData)return u.signTypedData({domain:i,message:o,primaryType:c,types:d});let l=(0,s.v8)({domain:i,message:o,primaryType:c,types:d});return t.request({method:"eth_signTypedData_v4",params:[u.address,l]},{retryCount:0})}},96268:(t,e,a)=>{a.d(e,{h:()=>s});var n=a(45755),r=a(57512);function s(t,e){if(!(0,r.P)(t,{strict:!1}))throw new n.M({address:t});if(!(0,r.P)(e,{strict:!1}))throw new n.M({address:e});return t.toLowerCase()===e.toLowerCase()}}}]);