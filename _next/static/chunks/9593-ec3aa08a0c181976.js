"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9593],{19593:(e,s,a)=>{a.d(s,{A:()=>S});var t=a(40854),r=a(37876),n=a(6960),l=a(19671),d=a(3576),c=a(62701),o=a(65699),i=a(14232),m=a(76198),x=a(70672),p=a(30684),u=m.bL,N=m.l9,h=m.ZL;m.bm;var f=i.forwardRef((e,s)=>{var a=e.className,t=(0,o._)(e,["className"]);return(0,r.jsx)(m.hJ,(0,d._)({ref:s,className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},t))});f.displayName=m.hJ.displayName;var g=i.forwardRef((e,s)=>{var a=e.className,t=e.children,n=(0,o._)(e,["className","children"]);return(0,r.jsxs)(h,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(m.UC,(0,c._)((0,d._)({ref:s,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},n),{children:[t,(0,r.jsxs)(m.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});g.displayName=m.UC.displayName;var j=i.forwardRef((e,s)=>{var a=e.className,t=(0,o._)(e,["className"]);return(0,r.jsx)(m.hE,(0,d._)({ref:s,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",a)},t))});j.displayName=m.hE.displayName,i.forwardRef((e,s)=>{var a=e.className,t=(0,o._)(e,["className"]);return(0,r.jsx)(m.VY,(0,d._)({ref:s,className:(0,p.cn)("text-sm text-muted-foreground",a)},t))}).displayName=m.VY.displayName;var y=a(78572),v=a(60372),_=a(20442),b=a(57607),w=a(83416),k=a(9215),A=a(20451),C=a(12293),R=a(40120),B=a(87577),F=a(75695);let J=e=>{(0,R._)(e);var s=((0,i.useContext)(w.N)||{}).token;return s?(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"mr-2",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"font-bold text-2xl mr-2",children:s.symbol}),(0,r.jsx)(B.A,{address:s.address}),(0,r.jsx)(F.A,{tokenAddress:s.address,tokenSymbol:s.symbol||"",tokenDecimals:s.decimals||0})]})})}):(0,r.jsx)(C.A,{})};function S(){var e=((0,i.useContext)(w.N)||{}).token,s=(0,k.PT)((null==e?void 0:e.address)||""),a=s.totalSupply,d=s.isPending,c=s.error,o=(0,v.A)("(min-width: 768px)"),m=(0,t._)((0,i.useState)(!1),2),x=m[0],p=m[1],h=(0,A.g)().handleContractError;return((0,i.useEffect)(()=>{c&&h(c,"token")},[c]),null==e?void 0:e.address)?(0,r.jsxs)("div",{className:"px-4 pt-0 pb-3",children:[(0,r.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,r.jsx)(J,{}),(0,r.jsxs)("div",{className:"mt-1 flex items-center",onClick:()=>p(!0),children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-1 text-greyscale-500 cursor-pointer"}),(0,r.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"已铸币量:"}),(0,r.jsx)("span",{className:"text-sm text-secondary",children:d?(0,r.jsx)(C.A,{}):(0,_.NJ)(a||0n,0)})]})]}),o&&(0,r.jsxs)(u,{open:x,onOpenChange:p,children:[(0,r.jsx)(N,{children:" "}),(0,r.jsxs)(g,{className:"sm:max-w-[425px]",children:[(0,r.jsx)(j,{children:"经济模型"}),(0,r.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800",children:[(0,r.jsxs)("p",{className:"font-bold text-large mb-2",children:["代币总量：",(0,r.jsx)("span",{children:(0,_.NJ)(BigInt(b.F.totalSupply))})]}),(0,r.jsxs)("p",{children:["- 公平发射：",(0,r.jsx)("span",{className:"text-secondary",children:(0,_.NJ)(BigInt(b.F.fairLaunch))})," (10%)"]}),(0,r.jsxs)("p",{children:["- 治理激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,_.NJ)(BigInt(b.F.govRewards))})," (45%)"]}),(0,r.jsxs)("p",{children:["- 行动激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,_.NJ)(BigInt(b.F.actionRewards))})," (45%)"]})]})]})]}),!o&&(0,r.jsx)(l._s,{open:x,onOpenChange:p,children:(0,r.jsxs)(l.zj,{children:[(0,r.jsxs)(l.BE,{children:[(0,r.jsx)(l.gk,{children:"经济模型"}),(0,r.jsx)(l.cp,{})]}),(0,r.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800 text-lg",children:[(0,r.jsxs)("p",{className:"font-bold text-xl mb-2",children:["代币总量：",(0,r.jsx)("span",{children:(0,_.NJ)(BigInt(b.F.totalSupply))})]}),(0,r.jsxs)("p",{children:["- 公平发射：",(0,r.jsx)("span",{className:"text-secondary",children:(0,_.NJ)(BigInt(b.F.fairLaunch))})," (10%)"]}),(0,r.jsxs)("p",{children:["- 治理激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,_.NJ)(BigInt(b.F.govRewards))})," (45%)"]}),(0,r.jsxs)("p",{children:["- 行动激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,_.NJ)(BigInt(b.F.actionRewards))})," (45%)"]})]}),(0,r.jsx)(l.tb,{children:(0,r.jsx)(l.cp,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"outline",className:"w-1/2 mx-auto text-secondary border-secondary",children:"关闭"})})})]})})]}):(0,r.jsx)(C.A,{})}},19671:(e,s,a)=>{a.d(s,{BE:()=>h,I6:()=>j,Uz:()=>m,_s:()=>i,cp:()=>p,gk:()=>g,tb:()=>f,zj:()=>N});var t=a(3576),r=a(62701),n=a(65699),l=a(37876),d=a(14232),c=a(28653),o=a(30684),i=e=>{var s=e.shouldScaleBackground,a=(0,n._)(e,["shouldScaleBackground"]);return(0,l.jsx)(c._s.Root,(0,t._)({shouldScaleBackground:void 0===s||s},a))};i.displayName="Drawer";var m=c._s.Trigger,x=c._s.Portal,p=c._s.Close,u=d.forwardRef((e,s)=>{var a=e.className,r=(0,n._)(e,["className"]);return(0,l.jsx)(c._s.Overlay,(0,t._)({ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80",a)},r))});u.displayName=c._s.Overlay.displayName;var N=d.forwardRef((e,s)=>{var a=e.className,d=e.children,i=(0,n._)(e,["className","children"]);return(0,l.jsxs)(x,{children:[(0,l.jsx)(u,{}),(0,l.jsxs)(c._s.Content,(0,r._)((0,t._)({ref:s,className:(0,o.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",a)},i),{children:[(0,l.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),d]}))]})});N.displayName="DrawerContent";var h=e=>{var s=e.className,a=(0,n._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({className:(0,o.cn)("grid gap-1.5 p-4 text-center sm:text-left",s)},a))};h.displayName="DrawerHeader";var f=e=>{var s=e.className,a=(0,n._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({className:(0,o.cn)("mt-auto flex flex-col gap-2 p-4",s)},a))};f.displayName="DrawerFooter";var g=d.forwardRef((e,s)=>{var a=e.className,r=(0,n._)(e,["className"]);return(0,l.jsx)(c._s.Title,(0,t._)({ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a)},r))});g.displayName=c._s.Title.displayName;var j=d.forwardRef((e,s)=>{var a=e.className,r=(0,n._)(e,["className"]);return(0,l.jsx)(c._s.Description,(0,t._)({ref:s,className:(0,o.cn)("text-sm text-muted-foreground",a)},r))});j.displayName=c._s.Description.displayName},57607:(e,s,a)=>{a.d(s,{F:()=>t});var t={totalSupply:1e28,fairLaunch:1e27,govRewards:45e26,actionRewards:45e26}},75695:(e,s,a)=>{a.d(s,{A:()=>p});var t=a(16927),r=a(40854),n=a(4902),l=a(37876),d=a(14232),c=a(7446),o=a(95167),i=a(8047),m=a(44571),x=a(97685);function p(e){var s,a=e.tokenAddress,p=e.tokenSymbol,u=e.tokenDecimals,N=e.tokenImage,h=(0,r._)((0,d.useState)(!1),2),f=h[0],g=h[1],j=(0,i.F)().isConnected,y=(0,m.G)().data,v=(s=(0,t._)(function(){return(0,n.__generator)(this,function(e){switch(e.label){case 0:if(!j)return alert("请先连接你的钱包"),[2];g(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!y)return alert("无法获取钱包客户端"),[2];return[4,y.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:a,symbol:p,decimals:u,image:N}}})];case 2:return e.sent()?x.Ay.success("代币已成功添加到 MetaMask 钱包"):x.Ay.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),x.Ay.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return g(!1),[7];case 5:return[2]}})}),function(){return s.apply(this,arguments)});return(0,l.jsx)("button",{onClick:v,disabled:f,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:f?(0,l.jsx)(c.A,{className:"h-4 w-4 animate-spin"}):(0,l.jsx)(o.A,{className:"h-4 w-4 text-greyscale-500"})})}}}]);