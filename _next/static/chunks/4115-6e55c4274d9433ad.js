"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4115],{64115:(e,t,n)=>{n.d(t,{Y4:()=>g,vC:()=>b,F6:()=>f,of:()=>v,SU:()=>A});var i=n(16927),a=n(40854),r=n(4902),s=n(14232),o=n(75569),u=n(40162),p=n(81675),y=n(1160),l=n(99090),d=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"MAX_VERIFICATION_KEY_LENGTH",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"SUBMIT_MIN_PER_THOUSAND",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct ActionInfo",components:[{name:"head",type:"tuple",internalType:"struct ActionHead",components:[{name:"id",type:"uint256",internalType:"uint256"},{name:"author",type:"address",internalType:"address"},{name:"createAtBlock",type:"uint256",internalType:"uint256"}]},{name:"body",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteListAddress",type:"address",internalType:"address"},{name:"title",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}]}],stateMutability:"view"},{type:"function",name:"actionSubmitsAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct ActionSubmitInfo",components:[{name:"submitter",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"actionSubmitsCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionsAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct ActionInfo",components:[{name:"head",type:"tuple",internalType:"struct ActionHead",components:[{name:"id",type:"uint256",internalType:"uint256"},{name:"author",type:"address",internalType:"address"},{name:"createAtBlock",type:"uint256",internalType:"uint256"}]},{name:"body",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteListAddress",type:"address",internalType:"address"},{name:"title",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}]}],stateMutability:"view"},{type:"function",name:"actionsCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"authorActionIdsAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"author",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"authorActionIdsCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"author",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"canJoin",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"canSubmit",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"stakeAddress_",type:"address",internalType:"address"},{name:"submitMinPerThousand",type:"uint256",internalType:"uint256"},{name:"maxVerificationKeyLength",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isSubmitted",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"submit",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"submitInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct ActionSubmitInfo",components:[{name:"submitter",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"submitInfoBySubmitter",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"submitter",type:"address",internalType:"address"}],outputs:[{name:"",type:"tuple",internalType:"struct ActionSubmitInfo",components:[{name:"submitter",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"submitNewAction",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionBody",type:"tuple",internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteListAddress",type:"address",internalType:"address"},{name:"title",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}],outputs:[{name:"actionId",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"ActionCreate",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"author",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"actionBody",type:"tuple",indexed:!1,internalType:"struct ActionBody",components:[{name:"minStake",type:"uint256",internalType:"uint256"},{name:"maxRandomAccounts",type:"uint256",internalType:"uint256"},{name:"whiteListAddress",type:"address",internalType:"address"},{name:"title",type:"string",internalType:"string"},{name:"verificationRule",type:"string",internalType:"string"},{name:"verificationKeys",type:"string[]",internalType:"string[]"},{name:"verificationInfoGuides",type:"string[]",internalType:"string[]"}]}],anonymous:!1},{type:"event",name:"ActionSubmit",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"submitter",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ActionIdNotExist",inputs:[]},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AlreadySubmitted",inputs:[]},{type:"error",name:"CannotSubmitAction",inputs:[]},{type:"error",name:"MaxRandomAccountsZero",inputs:[]},{type:"error",name:"MinStakeZero",inputs:[]},{type:"error",name:"OnlyOneSubmitPerRound",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]},{type:"error",name:"TitleEmpty",inputs:[]},{type:"error",name:"VerificationKeyLengthExceeded",inputs:[]},{type:"error",name:"VerificationRuleEmpty",inputs:[]}],c=n(65575),m=n(92165),T="0x5a9042b5544B8f997e3F95D73928a3cAb2144203",g=(e,t)=>{var n=(0,o.Q)({address:T,abi:d,functionName:"actionInfo",args:[e,t||0n],query:{enabled:!!e&&void 0!==t}}),i=n.data;return{actionInfo:i,isPending:n.isPending,error:n.error}},b=()=>{var e=(0,o.Q)({address:T,abi:d,functionName:"currentRound",args:[]}),t=e.data,n=e.isPending,i=e.error;return{currentRound:(0,c.oQ)(t),isPending:n,error:i}},f=(e,t,n)=>{var i=(0,o.Q)({address:T,abi:d,functionName:"isSubmitted",args:[e,t,n]}),a=i.data;return{isSubmitted:a,isPending:i.isPending,error:i.error}};function v(){var e,t=(0,a._)((0,s.useState)(!1),2),n=t[0],o=t[1],c=(0,a._)((0,s.useState)(null),2),g=c[0],b=c[1],f=(0,a._)((0,s.useState)(),2),v=f[0],A=f[1],S=(e=(0,i._)(function(e,t){return(0,r.YH)(this,function(n){switch(n.label){case 0:o(!0),b(null),n.label=1;case 1:return n.trys.push([1,4,5,6]),[4,(0,p.v)(l.$,{address:T,abi:d,functionName:"submit",args:[e,t]})];case 2:return n.sent(),[4,(0,y.E)(l.$,{address:T,abi:d,functionName:"submit",args:[e,t]})];case 3:return A(n.sent()),[3,6];case 4:return b(n.sent()),[3,6];case 5:return o(!1),[7];case 6:return[2]}})}),function(t,n){return e.apply(this,arguments)}),k=(0,u.g)({hash:v}),h=k.isLoading,M=k.isSuccess,w=k.error;return(0,s.useEffect)(()=>{console.log("hash:",v),g&&(console.log("error@simulateContract:"),(0,m.YN)(g),(0,m.vV)(g)),w&&(console.log("error@useWaitForTransactionReceipt:"),(0,m.XA)(w,"transaction-receipt-error"))},[v,g,w]),{submit:S,isPending:n,isConfirming:h,writeError:null!=g?g:w,isConfirmed:M}}function A(){var e,t=(0,a._)((0,s.useState)(!1),2),n=t[0],o=t[1],p=(0,a._)((0,s.useState)(null),2),c=p[0],m=p[1],g=(0,a._)((0,s.useState)(),2),b=g[0],f=g[1],v=(e=(0,i._)(function(e,t){var n;return(0,r.YH)(this,function(i){switch(i.label){case 0:o(!0),m(null),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,(0,y.E)(l.$,{address:T,abi:d,functionName:"submitNewAction",args:[e,t]})];case 2:return f(n=i.sent()),[2,n];case 3:return m(i.sent()),[3,5];case 4:return o(!1),[7];case 5:return[2]}})}),function(t,n){return e.apply(this,arguments)}),A=(0,u.g)({hash:b}),S=A.isLoading,k=A.isSuccess,h=A.error;return{submitNewAction:v,isPending:n,isConfirming:S,writeError:null!=c?c:h,isConfirmed:k}}},92165:(e,t,n)=>{n.d(t,{XA:()=>i,YN:()=>r,vV:()=>a});var i=(e,t)=>{console.group("\uD83D\uDC1B ".concat(t?"[".concat(t,"]"):""," 深度错误分析"));try{console.log("\uD83D\uDCCB 错误类型:",typeof e),console.log("\uD83D\uDCCB 错误构造函数:",null==e||null==(r=e.constructor)?void 0:r.name),console.log("\uD83D\uDCCB 是否为 Error 实例:",e instanceof Error);try{console.log("\uD83D\uDCCB toString():",null==e||null==(p=e.toString)?void 0:p.call(e))}catch(e){console.log("\uD83D\uDCCB toString() 失败:",e)}try{console.log("\uD83D\uDCCB JSON.stringify:",JSON.stringify(e))}catch(e){console.log("\uD83D\uDCCB JSON.stringify 失败:",e)}if(e&&"object"==typeof e){console.log("\uD83D\uDD0D 反射检查开始...");var n=Object.getOwnPropertyNames(e);console.log("\uD83D\uDCCB 所有属性名:",n),n.forEach(t=>{try{var n=e[t],i=Object.getOwnPropertyDescriptor(e,t);console.log("\uD83D\uDD11 属性 ".concat(t,":"),{value:n,type:typeof n,descriptor:i,isFunction:"function"==typeof n})}catch(e){console.log("\uD83D\uDD11 属性 ".concat(t," 访问失败:"),e)}});for(var i=Object.getPrototypeOf(e),a=0;i&&a<3;){console.log("\uD83E\uDDEC 原型链 ".concat(a,":"),null==(y=i.constructor)?void 0:y.name);var r,s,o,u,p,y,l=Object.getOwnPropertyNames(i);console.log("\uD83E\uDDEC 原型 ".concat(a," 属性:"),l),i=Object.getPrototypeOf(i),a++}}console.log("\uD83D\uDD0D 特殊类型检查..."),console.log("\uD83D\uDCCB 是否 AbortError:",(null==e?void 0:e.name)==="AbortError"),console.log("\uD83D\uDCCB 是否 TimeoutError:",(null==e?void 0:e.name)==="TimeoutError"),console.log("\uD83D\uDCCB 是否 NetworkError:",(null==e?void 0:e.name)==="NetworkError"),console.log("\uD83D\uDCCB 是否包含 revert:",null==e||null==(u=e.toString)||null==(o=u.call(e))||null==(s=o.includes)?void 0:s.call(o,"revert")),(null==e?void 0:e.code)&&console.log("\uD83D\uDCCB 错误代码:",e.code),(null==e?void 0:e.errno)&&console.log("\uD83D\uDCCB errno:",e.errno),(null==e?void 0:e.syscall)&&console.log("\uD83D\uDCCB syscall:",e.syscall)}catch(e){console.error("\uD83D\uDEA8 调试工具本身出错:",e)}finally{console.groupEnd()}},a=(e,t)=>{var n=t?"[".concat(t,"]"):"";e instanceof Error?(console.error("".concat(n," Error Name:"),e.name),console.error("".concat(n," Error Message:"),e.message),console.error("".concat(n," Error Stack:"),e.stack),console.error("".concat(n," Error Cause:"),e.cause)):"object"==typeof e&&null!==e?(console.error("".concat(n," Error Object:"),JSON.stringify(e,null,2)),console.error("".concat(n," Error Keys:"),Object.keys(e)),e.message&&console.error("".concat(n," Message:"),e.message),e.code&&console.error("".concat(n," Code:"),e.code),e.reason&&console.error("".concat(n," Reason:"),e.reason),e.data&&console.error("".concat(n," Data:"),e.data)):console.error("".concat(n," Error:"),e)},r=(e,t)=>{i(e,t),(null==e?void 0:e.details)&&console.error("[".concat(t,"] Details:"),e.details),(null==e?void 0:e.metaMessages)&&console.error("[".concat(t,"] Meta Messages:"),e.metaMessages),(null==e?void 0:e.shortMessage)&&console.error("[".concat(t,"] Short Message:"),e.shortMessage),(null==e?void 0:e.version)&&console.error("[".concat(t,"] Version:"),e.version)}}}]);