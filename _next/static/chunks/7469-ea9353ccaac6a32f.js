try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="522ba22f-198d-43e3-ac3c-d02ad212e773",e._sentryDebugIdIdentifier="sentry-dbid-522ba22f-198d-43e3-ac3c-d02ad212e773")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7469],{89823:function(e,n,t){t.d(n,{p:function(){return p}});var r=t(11010),s=t(91309),a=t(97582),c=t(85893),l=t(67294),i=t(41664),d=t.n(i),o=t(27245),u=t(91529),h=t(86501),x=t(93778),m=t(17786),g=t(42130),f=t(67516),b=t(8945),y=t(35611),j=t(37742),v=function(e){var n=e.extensionAddress,t=e.rounds,r=e.enabled,s=void 0===r||r,a=(0,g.m)().address,c=(0,l.useMemo)(function(){if(!n||!a||0===t.length||!s)return[];var e=[],r=!0,c=!1,l=void 0;try{for(var i,d=t[Symbol.iterator]();!(r=(i=d.next()).done);r=!0){var o=i.value;e.push({address:"0x6c720b8a9c4803E7D78849E10fe535d862ACbfD1",abi:b.l,functionName:"originScoreByAccount",args:[n,o,a]}),e.push({address:"0xd94e4Fc2108B78Aa57438BFe5E85192687f74322",abi:y.w,functionName:"groupIdByAccount",args:[n,o,a]})}}catch(e){c=!0,l=e}finally{try{r||null==d.return||d.return()}finally{if(c)throw l}}return e},[n,a,t,s]),i=(0,f.N)({contracts:c,query:{enabled:s&&c.length>0}}),d=i.data,o=i.isPending,u=i.error;return{scoreMap:(0,l.useMemo)(function(){var e=new Map;if(!d||0===t.length)return e;for(var n=0;n<t.length;n++){var r,s=2*n,a=(0,j.Zu)(null===(r=d[s])||void 0===r?void 0:r.result);e.set(t[n].toString(),a)}return e},[d,t]),groupIdMap:(0,l.useMemo)(function(){var e=new Map;if(!d||0===t.length)return e;for(var n=0;n<t.length;n++){var r,s=2*n+1,a=(0,j.Zu)(null===(r=d[s])||void 0===r?void 0:r.result);e.set(t[n].toString(),a)}return e},[d,t]),isPending:!!s&&c.length>0&&o,error:u}},p=function(e){var n,t=e.rewards,i=e.extensionAddress,g=(e.tokenData,e.actionId),f=e.onMintStart,b=e.onMintEnd,y=e.onMintSuccess,j=e.isLoading,p=void 0!==j&&j,N=((0,l.useContext)(x.M)||{}).token,S=(0,m.qQ)(i),w=S.claimReward,M=S.isPending,I=S.isConfirming,_=S.isConfirmed,C=S.hash,k=(0,s._)((0,l.useState)(null),2),E=k[0],R=k[1],B=(0,s._)((0,l.useState)(new Set),2),P=B[0],L=B[1],A=(0,s._)((0,l.useState)(void 0),2),D=A[0],H=A[1],z=v({extensionAddress:i,rounds:(0,l.useMemo)(function(){return t.map(function(e){return e.round})},[t]),enabled:t.length>0}),q=z.scoreMap,Z=z.groupIdMap,J=z.isPending;(0,l.useEffect)(function(){_&&null!==E&&C&&C===D&&(h.ZP.success("铸造成功"),L(function(e){return new Set(e).add(E.toString())}),null==y||y(E),null==b||b(),R(null),H(void 0))},[_,E,C,D,y,b]);var T=(n=(0,r._)(function(e){var n;return(0,a.Jh)(this,function(t){switch(t.label){case 0:R(e),null==f||f(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,w(e)];case 2:return(n=t.sent())&&H(n),[3,4];case 3:return console.error("铸造失败:",t.sent()),R(null),H(void 0),null==b||b(),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return 0!==t.length||p?(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("table",{className:"table w-full table-auto",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,c.jsx)("th",{children:"轮次"}),(0,c.jsx)("th",{className:"text-center",children:"得分"}),(0,c.jsx)("th",{className:"text-center",children:"可铸造激励"}),(0,c.jsx)("th",{className:"text-center",children:"操作"})]})}),(0,c.jsx)("tbody",{children:0===t.length&&p?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:4,className:"text-center text-sm text-gray-500 py-4",children:"加载中..."})}):0===t.length?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:4,className:"text-center text-sm text-gray-500 py-4",children:"该行动在指定轮次范围内没有获得激励"})}):t.map(function(e,n){var r=P.has(e.round.toString())||e.claimed,s=q.get(e.round.toString()),a=Z.get(e.round.toString()),l=e.mintReward||BigInt(0),i=void 0!==g&&void 0!==a&&a>BigInt(0)&&(null==N?void 0:N.symbol)&&"string"==typeof N.symbol&&N.symbol.length>0?"/extension/group/?groupId=".concat(a.toString(),"&actionId=").concat(g.toString(),"&symbol=").concat(N.symbol,"&tab=rewards&round=").concat(e.round.toString()):void 0;return(0,c.jsxs)("tr",{className:n===t.length-1?"border-none":"border-b border-gray-100",children:[(0,c.jsx)("td",{children:e.round.toString()}),(0,c.jsx)("td",{className:"text-center",children:i?(0,c.jsx)(d(),{href:i,className:"text-secondary hover:text-secondary/80 underline underline-offset-2",children:J?(0,c.jsx)("span",{className:"text-greyscale-400",children:"..."}):void 0!==s?s.toString():"-"}):J?(0,c.jsx)("span",{className:"text-greyscale-400",children:"..."}):void 0!==s?s.toString():"-"}),(0,c.jsx)("td",{className:"text-center",children:i?(0,c.jsx)(d(),{href:i,className:"text-secondary hover:text-secondary/80 underline underline-offset-2",children:(0,u.LH)(l)}):(0,u.LH)(l)}),(0,c.jsx)("td",{className:"text-center",children:l>BigInt(0)&&!r?(0,c.jsx)(o.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",onClick:function(){return T(e.round)},disabled:M||I,children:"铸造"}):r?(0,c.jsx)("span",{className:"text-greyscale-500",children:"已铸造"}):(0,c.jsx)("span",{className:"text-greyscale-500",children:"-"})})]},"reward-".concat(e.round.toString()))})})]})}):null}},70734:function(e,n,t){t.d(n,{c:function(){return m}});var r=t(11010),s=t(91309),a=t(97582),c=t(85893),l=t(67294),i=t(41664),d=t.n(i),o=t(27245),u=t(91529),h=t(86501),x=t(17786),m=function(e){var n,t=e.rewards,i=e.extensionAddress,m=e.tokenData,g=e.actionId,f=e.tokenSymbol,b=e.onMintStart,y=e.onMintEnd,j=e.onMintSuccess,v=e.isLoading,p=void 0!==v&&v,N=(0,x.qQ)(i),S=N.claimReward,w=N.isPending,M=N.isConfirming,I=N.isConfirmed,_=N.hash,C=(0,s._)((0,l.useState)(null),2),k=C[0],E=C[1],R=(0,s._)((0,l.useState)(new Set),2),B=R[0],P=R[1],L=(0,s._)((0,l.useState)(void 0),2),A=L[0],D=L[1];(0,l.useEffect)(function(){I&&null!==k&&_&&_===A&&(h.ZP.success("铸造成功"),P(function(e){return new Set(e).add(k.toString())}),null==j||j(k),null==y||y(),E(null),D(void 0))},[I,k,_,A,j,y]);var H=(n=(0,r._)(function(e){var n;return(0,a.Jh)(this,function(t){switch(t.label){case 0:E(e),null==b||b(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,S(e)];case 2:return(n=t.sent())&&D(n),[3,4];case 3:return console.error("铸造失败:",t.sent()),E(null),D(void 0),null==y||y(),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)}),z=function(e){return"/action/info/?id=".concat(g,"&symbol=").concat(f,"&tab=public&round=").concat(e)};return 0!==t.length||p?(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("table",{className:"table w-full table-auto",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,c.jsx)("th",{children:"轮次"}),(0,c.jsx)("th",{className:"text-center",children:"溢出激励"}),(0,c.jsx)("th",{className:"text-center",children:"可铸造激励"}),(0,c.jsx)("th",{className:"text-center",children:"操作"})]})}),(0,c.jsx)("tbody",{children:0===t.length&&p?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:4,className:"text-center text-sm text-gray-500 py-4",children:"加载中..."})}):0===t.length?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:4,className:"text-center text-sm text-gray-500 py-4",children:"该行动在指定轮次范围内没有获得激励"})}):t.map(function(e,n){var r=B.has(e.round.toString())||e.claimed,s=e.burnReward||BigInt(0),a=e.mintReward||BigInt(0);return(0,c.jsxs)("tr",{className:n===t.length-1?"border-none":"border-b border-gray-100",children:[(0,c.jsx)("td",{children:(0,u.cK)(e.round,m).toString()}),(0,c.jsx)("td",{className:"text-center",children:(0,c.jsx)(d(),{href:z(e.round),className:"text-secondary underline hover:opacity-70",children:(0,u.LH)(s)})}),(0,c.jsx)("td",{className:"text-center",children:(0,c.jsx)(d(),{href:z(e.round),className:"text-secondary underline hover:opacity-70",children:(0,u.LH)(a)})}),(0,c.jsx)("td",{className:"text-center",children:a>BigInt(0)&&!r?(0,c.jsx)(o.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",onClick:function(){return H(e.round)},disabled:w||M,children:"铸造"}):r?(0,c.jsx)("span",{className:"text-greyscale-500",children:"已铸造"}):(0,c.jsx)("span",{className:"text-greyscale-500",children:"-"})})]},"reward-".concat(e.round.toString()))})})]})}):null}},91167:function(e,n,t){t.d(n,{M:function(){return g}});var r=t(11010),s=t(91309),a=t(97582),c=t(85893),l=t(67294),i=t(41664),d=t.n(i),o=t(27245),u=t(91529),h=t(86501),x=t(93778),m=t(17786),g=function(e){var n,t=e.rewards,i=e.extensionAddress,g=e.tokenData,f=e.actionId,b=e.onMintStart,y=e.onMintEnd,j=e.onMintSuccess,v=e.isLoading,p=void 0!==v&&v,N=((0,l.useContext)(x.M)||{}).token,S=(0,m.qQ)(i),w=S.claimReward,M=S.isPending,I=S.isConfirming,_=S.isConfirmed,C=S.hash,k=(0,s._)((0,l.useState)(null),2),E=k[0],R=k[1],B=(0,s._)((0,l.useState)(new Set),2),P=B[0],L=B[1],A=(0,s._)((0,l.useState)(void 0),2),D=A[0],H=A[1];(0,l.useEffect)(function(){_&&null!==E&&C&&C===D&&(h.ZP.success("铸造成功"),L(function(e){return new Set(e).add(E.toString())}),null==j||j(E),null==y||y(),R(null),H(void 0))},[_,E,C,D,j,y]);var z=(n=(0,r._)(function(e){var n;return(0,a.Jh)(this,function(t){switch(t.label){case 0:R(e),null==b||b(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,w(e)];case 2:return(n=t.sent())&&H(n),[3,4];case 3:return console.error("铸造失败:",t.sent()),R(null),H(void 0),null==y||y(),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return 0!==t.length||p?(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("table",{className:"table w-full table-auto",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,c.jsx)("th",{children:"轮次"}),(0,c.jsx)("th",{className:"text-center",children:"溢出激励"}),(0,c.jsx)("th",{className:"text-center",children:"可铸造激励"}),(0,c.jsx)("th",{className:"text-center",children:"结果"})]})}),(0,c.jsx)("tbody",{children:0===t.length&&p?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:4,className:"text-center text-sm text-gray-500 py-4",children:"加载中..."})}):0===t.length?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:4,className:"text-center text-sm text-gray-500 py-4",children:"该行动在指定轮次范围内没有获得激励"})}):t.map(function(e,n){var r=P.has(e.round.toString())||e.claimed,s=e.burnReward||BigInt(0),a=e.mintReward||BigInt(0),l=void 0!==f&&(null==N?void 0:N.symbol)&&"string"==typeof N.symbol&&N.symbol.length>0?"/action/info/?symbol=".concat(N.symbol,"&id=").concat(f.toString(),"&tab=public&tab2=history&round=").concat(e.round.toString()):void 0;return(0,c.jsxs)("tr",{className:n===t.length-1?"border-none":"border-b border-gray-100",children:[(0,c.jsx)("td",{children:(0,u.cK)(e.round,g).toString()}),(0,c.jsx)("td",{className:"text-center",children:l?(0,c.jsx)(d(),{href:l,className:"text-secondary hover:text-secondary/80 underline underline-offset-2",children:(0,u.LH)(s)}):(0,u.LH)(s)}),(0,c.jsx)("td",{className:"text-center",children:l?(0,c.jsx)(d(),{href:l,className:"text-secondary hover:text-secondary/80 underline underline-offset-2",children:(0,u.LH)(a)}):(0,u.LH)(a)}),(0,c.jsx)("td",{className:"text-center",children:a>BigInt(0)&&!r?(0,c.jsx)(o.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",onClick:function(){return z(e.round)},disabled:M||I,children:"铸造"}):r?(0,c.jsx)("span",{className:"text-greyscale-500",children:"已铸造"}):(0,c.jsx)("span",{className:"text-greyscale-500",children:"-"})})]},"reward-".concat(e.round.toString()))})})]})}):null}},96966:function(e,n,t){t.d(n,{P:function(){return h}});var r=t(11010),s=t(91309),a=t(97582),c=t(85893),l=t(67294),i=t(27245),d=t(91529),o=t(86501),u=t(7399),h=function(e){var n,t=e.rewards,h=e.tokenAddress,x=e.actionId,m=e.tokenData,g=e.onMintStart,f=e.onMintEnd,b=e.onMintSuccess,y=e.isLoading,j=void 0!==y&&y,v=(0,u.Rb)(),p=v.mintActionReward,N=v.isPending,S=v.isConfirming,w=v.isConfirmed,M=v.hash,I=(0,s._)((0,l.useState)(null),2),_=I[0],C=I[1],k=(0,s._)((0,l.useState)(new Set),2),E=k[0],R=k[1],B=(0,s._)((0,l.useState)(void 0),2),P=B[0],L=B[1];(0,l.useEffect)(function(){w&&null!==_&&M&&M===P&&(o.ZP.success("铸造成功"),R(function(e){return new Set(e).add(_.toString())}),null==b||b(_),null==f||f(),C(null),L(void 0))},[w,_,M,P,b,f]);var A=(n=(0,r._)(function(e){var n;return(0,a.Jh)(this,function(t){switch(t.label){case 0:C(e),null==g||g(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,p(h,e,x)];case 2:return(n=t.sent())&&L(n),[3,4];case 3:return console.error("铸造失败:",t.sent()),C(null),L(void 0),null==f||f(),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return 0!==t.length||j?(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("table",{className:"table w-full table-auto",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,c.jsx)("th",{children:"轮次"}),(0,c.jsx)("th",{className:"text-center",children:"可铸造激励"}),(0,c.jsx)("th",{className:"text-center",children:"操作"})]})}),(0,c.jsx)("tbody",{children:0===t.length&&j?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:3,className:"text-center text-sm text-gray-500 py-4",children:"加载中..."})}):0===t.length?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:3,className:"text-center text-sm text-gray-500 py-4",children:"该行动在指定轮次范围内没有获得激励"})}):t.map(function(e,n){var r=E.has(e.round.toString())||e.claimed,s=e.mintReward||BigInt(0);return(0,c.jsxs)("tr",{className:n===t.length-1?"border-none":"border-b border-gray-100",children:[(0,c.jsx)("td",{children:(0,d.cK)(e.round,m).toString()}),(0,c.jsx)("td",{className:"text-center",children:(0,d.LH)(s)}),(0,c.jsx)("td",{className:"text-center",children:s>BigInt(0)&&!r?(0,c.jsx)(i.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",onClick:function(){return A(e.round)},disabled:N||S,children:"铸造"}):r?(0,c.jsx)("span",{className:"text-greyscale-500",children:"已铸造"}):(0,c.jsx)("span",{className:"text-greyscale-500",children:"-"})})]},"reward-".concat(e.round.toString()))})})]})}):null}},17786:function(e,n,t){t.d(n,{qQ:function(){return d}});var r=t(11010),s=t(97582),a=t(67294),c=t(37474),l=t(84689),i=t(4502);function d(e){var n,t=(0,c.e9)(i.q,e,"claimReward"),d=t.execute,o=t.isPending,u=t.isConfirming,h=t.isConfirmed,x=t.error,m=t.hash,g=t.isTukeMode,f=(n=(0,r._)(function(n){return(0,s.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交 claimReward 交易:",{contractAddress:e,round:n,isTukeMode:g}),[4,d([n])];case 1:return[2,t.sent()]}})}),function(e){return n.apply(this,arguments)});return(0,a.useEffect)(function(){m&&console.log("claimReward tx hash:",m),x&&(console.log("提交 claimReward 交易错误:"),(0,l.Vh)(x),(0,l.H)(x))},[m,x]),{claimReward:f,isPending:o,isConfirming:u,writeError:x,isConfirmed:h,hash:m,isTukeMode:g}}}}]);