(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5040],{7446:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=(0,n(11713).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},12293:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(37876),a=n(7446);let o=()=>(0,r.jsx)(a.A,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})},18449:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(76200);class a extends r.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function o(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new a({value:e});let[n,r="0"]=e.split("."),o=n.startsWith("-");if(o&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${r}`))&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){let[e,a,o]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],i=Math.round(Number(`${a}.${o}`));(r=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${o?"-":""}${n}${r}`)}},20442:(e,t,n)=>{"use strict";n.d(t,{Js:()=>l,LP:()=>u,NJ:()=>i,W_:()=>o,XS:()=>s,lM:()=>p,mW:()=>c});var r=n(18449),a=n(32602),o=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",i=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=Number(l(e));if(e<10n)return"0";if(t>=1e5)return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t);if(t>=1e3)return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(t);if(t>=1||t>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:4}).format(t);if(0===t)return"0";var n=t.toFixed(14),r=n.split(".");if(r.length<2)return n;var a=r[1],o=0,i=!0,s=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){var d=u.value;if("0"===d)o++;else break}}catch(e){s=!0,c=e}finally{try{i||null==p.return||p.return()}finally{if(s)throw c}}var y=a.slice(o,o+4);return"0.0{".concat(o,"}").concat(y)},s=e=>{var t=parseInt("18",10);try{var n=e.replace(/,/g,"");return(0,r.X)(n,t)}catch(e){return console.error("parseUnits error:",e),0n}},l=e=>{var t=parseInt("18",10);return(0,a.J)(e,t)},c=e=>e.includes(".")?parseFloat(e.replace(/,/g,"")).toString():e,u=(e,t)=>e&&t?e-BigInt(t.initialStakeRound)+1n:0n,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=Number(e);if(r>=1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(r);if(r>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:n+1}).format(r);if(0===r)return"0";var a=r.toFixed(n+10),o=a.split(".");if(o.length<2)return a;var i=o[1],s=0,l=!0,c=!1,u=void 0;try{for(var p,d=i[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var y=p.value;if("0"===y)s++;else break}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}var f=i.slice(s);return"0.0{".concat(s,"}").concat(f)}},26269:(e,t,n)=>{"use strict";var r=n(99680),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,s,l,c,u,p,d=!1;t||(t={}),i=t.debug||!1;try{if(l=r(),c=document.createRange(),u=document.getSelection(),(p=document.createElement("span")).textContent=e,p.ariaHidden="true",p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){i&&console.warn("unable to use e.clipboardData"),i&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=a[t.format]||a.default;window.clipboardData.setData(r,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(p),c.selectNodeContents(p),u.addRange(c),!document.execCommand("copy"))throw Error("copy command was unsuccessful");d=!0}catch(r){i&&console.error("unable to copy using execCommand: ",r),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(r){i&&console.error("unable to copy using clipboardData: ",r),i&&console.error("falling back to prompt"),n="message"in t?t.message:"Copy to clipboard: #{key}, Enter",o=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",s=n.replace(/#{\s*key\s*}/g,o),window.prompt(s,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(c):u.removeAllRanges()),p&&document.body.removeChild(p),l()}return d}},33276:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=(0,n(11713).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},46852:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var a=s(n(14232)),o=s(n(26269)),i=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&u(l,e);var t,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(l);return e=t?Reflect.construct(n,arguments,d(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function l(){var e;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=s.call.apply(s,[this].concat(n))),"onClick",function(t){var n=e.props,r=n.text,i=n.onCopy,s=n.children,l=n.options,c=a.default.Children.only(s),u=(0,o.default)(r,l);i&&i(r,u),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(t)}),e}return n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i),r=a.default.Children.only(t);return a.default.cloneElement(r,c(c({},n),{},{onClick:this.onClick}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(a.default.PureComponent);t.CopyToClipboard=f,y(f,"defaultProps",{onCopy:void 0,options:void 0})},48447:(e,t,n)=>{"use strict";var r=n(46852).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},70801:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=(0,n(11713).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},75695:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(16927),a=n(40854),o=n(4902),i=n(37876),s=n(14232),l=n(7446),c=n(95167),u=n(8047),p=n(44571),d=n(97685);function y(e){var t,n=e.tokenAddress,y=e.tokenSymbol,f=e.tokenDecimals,m=e.tokenImage,b=(0,a._)((0,s.useState)(!1),2),h=b[0],v=b[1],g=(0,u.F)().isConnected,x=(0,p.G)().data,w=(t=(0,r._)(function(){return(0,o.__generator)(this,function(e){switch(e.label){case 0:if(!g)return alert("请先连接你的钱包"),[2];v(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!x)return alert("无法获取钱包客户端"),[2];return[4,x.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,symbol:y,decimals:f,image:m}}})];case 2:return e.sent()?d.Ay.success("代币已成功添加到 MetaMask 钱包"):d.Ay.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),d.Ay.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return v(!1),[7];case 5:return[2]}})}),function(){return t.apply(this,arguments)});return(0,i.jsx)("button",{onClick:w,disabled:h,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:h?(0,i.jsx)(l.A,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(c.A,{className:"h-4 w-4 text-greyscale-500"})})}},77328:(e,t,n)=>{e.exports=n(89836)},80693:(e,t,n)=>{"use strict";n.d(t,{lW:()=>u,qX:()=>p,S1:()=>d});var r=n(16927),a=n(4902),o=n(75569),i=n(59493),s=n(40162),l=[{type:"fallback",stateMutability:"payable"},{type:"function",name:"allowance",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"guy",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"deposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"src",type:"address",internalType:"address"},{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"guy",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],c="0x015b1A506F2aa2B1ecC000aB799ED6C59005fBb3",u=(e,t)=>{var n=(0,o.Q)({address:e,abi:l,functionName:"balanceOf",args:[t],query:{enabled:!!e&&!!t}}),r=n.data;return{balance:r,isPending:n.isPending,error:n.error}},p=()=>{var e=(0,i.x)(),t=e.writeContract,n=e.data,o=e.isPending,u=e.error,p=function(){var e=(0,r._)(function(e){return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t({address:c,abi:l,functionName:"deposit",args:[],value:e})];case 1:return n.sent(),[3,3];case 2:return console.error("Deposit failed:",n.sent()),[3,3];case 3:return[2]}})});return function(t){return e.apply(this,arguments)}}(),d=(0,s.g)({hash:n});return{deposit:p,writeData:n,isPending:o,error:u,isConfirming:d.isLoading,isConfirmed:d.isSuccess}},d=()=>{var e=(0,i.x)(),t=e.writeContract,n=e.data,o=e.isPending,u=e.error,p=function(){var e=(0,r._)(function(e){return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t({address:c,abi:l,functionName:"withdraw",args:[e]})];case 1:return n.sent(),[3,3];case 2:return console.error("Withdraw failed:",n.sent()),[3,3];case 3:return[2]}})});return function(t){return e.apply(this,arguments)}}(),d=(0,s.g)({hash:n});return{withdraw:p,writeData:n,isPending:o,error:u,isConfirming:d.isLoading,isConfirmed:d.isSuccess}}},82695:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(37876),a=n(14232),o=n(8047),i=n(20442),s=n(80693),l=n(20451),c=n(87577),u=n(75695),p=n(12293);function d(){var e=(0,o.F)().address,t=(0,s.lW)("0x015b1A506F2aa2B1ecC000aB799ED6C59005fBb3",e||"0x0000000000000000000000000000000000000000"),n=t.balance,d=t.isPending,y=t.error,f=(0,l.g)().handleContractError;return(0,a.useEffect)(()=>{y&&f(y,"token")},[y]),(0,r.jsx)("div",{className:"px-4 pt-0 pb-6",children:(0,r.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"mr-2",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"font-bold text-2xl mr-2",children:"TestTKM20"}),(0,r.jsx)(c.A,{address:"0x015b1A506F2aa2B1ecC000aB799ED6C59005fBb3"}),(0,r.jsx)(u.A,{tokenAddress:"0x015b1A506F2aa2B1ecC000aB799ED6C59005fBb3",tokenSymbol:"TestTKM20",tokenDecimals:Number("18")||0})]})})}),(0,r.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,r.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"我持有:"}),(0,r.jsx)("span",{className:"text-sm text-secondary",children:d?(0,r.jsx)(p.A,{}):(0,i.NJ)(n||0n)})]})]})})}},86739:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=(0,n(11713).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},87577:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(40854),a=n(37876),o=n(14232),i=n(48447),s=n(33276),l=n(70801),c=n(97685),u=n(20442);let p=e=>{var t=e.address,n=e.word,p=e.showCopyButton,d=e.showAddress,y=e.colorClassName,f=void 0===y?"":y,m=(0,r._)((0,o.useState)(!1),2),b=m[0],h=m[1];return(0,a.jsxs)("span",{className:"flex items-center space-x-2",children:[n&&(0,a.jsx)("span",{className:"text-xs",children:n}),(void 0===d||d)&&(0,a.jsx)("span",{className:"text-xs ".concat(null!=f?f:"text-greyscale-500"),children:(0,u.W_)(t)}),(void 0===p||p)&&(0,a.jsx)(i.CopyToClipboard,{text:t,onCopy:(e,t)=>{t?h(!0):c.Ay.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:b?(0,a.jsx)(s.A,{className:"h-4 w-4 ".concat(null!=f?f:"text-greyscale-500")}):(0,a.jsx)(l.A,{className:"h-4 w-4 ".concat(null!=f?f:"text-greyscale-500")})})})]})}},95167:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=(0,n(11713).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},99680:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}}]);