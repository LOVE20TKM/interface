try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7b44df1d-54e9-42ad-8d30-53867932529a",e._sentryDebugIdIdentifier="sentry-dbid-7b44df1d-54e9-42ad-8d30-53867932529a")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{51436:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my/actionrewards",function(){return n(17762)}])},74598:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var a=(0,n(31134).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},43637:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var a=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"RANDOM_SEED_UPDATE_MIN_PER_TEN_THOUSAND",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"abstentionScoreWithReward",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"firstTokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"hasTriggeredRandomUpdate",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"randomAddress_",type:"address",internalType:"address"},{name:"firstTokenAddress_",type:"address",internalType:"address"},{name:"stakeAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"joinAddress_",type:"address",internalType:"address"},{name:"mintAddress_",type:"address",internalType:"address"},{name:"randomSeedUpdateMinPerTenThousand",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"joinAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"mintAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"randomAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"score",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByActionId",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByActionIdByAccount",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByVerifier",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByVerifierByActionId",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByVerifierByActionIdByAccount",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreWithReward",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakedAmountOfVerifiers",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"verify",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"abstentionScore",type:"uint256",internalType:"uint256"},{name:"scores",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"Verify",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verifier",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"abstentionScore",type:"uint256",indexed:!1,internalType:"uint256"},{name:"scores",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]},{type:"error",name:"ScoresAndAccountsLengthMismatch",inputs:[]},{type:"error",name:"ScoresExceedVotesNum",inputs:[]},{type:"error",name:"ScoresMustIncrease",inputs:[]}]},64777:function(e,t,n){"use strict";var a=n(85893);t.Z=function(e){var t=e.title;return(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h1",{className:"text-lg font-bold",children:t})})}},42083:function(e,t,n){"use strict";var a=n(85893),r=n(23432);t.Z=function(){return(0,a.jsx)(r.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},17762:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(11010),r=n(72253),i=n(14932),s=n(91309),o=n(97582),d=n(85893),u=n(67294),c=n(86501),l=n(42130),y=n(11163),p=n(93778),m=n(7208),f=n(93950),h=n(7399),g=n(4586),v=n(67516),b=n(98482),x=n(43637),T=n(97995),w=n(45631),S=function(e,t){return"love20_score_cache_".concat(e.toLowerCase(),"_").concat(t.toLowerCase())},j=function(e,t){try{var n=localStorage.getItem(S(e,t));return n?JSON.parse(n):{}}catch(e){return{}}},I=function(e,t,n){try{var a=j(e,t);Object.entries(n).forEach(function(e){var t=(0,s._)(e,2),n=t[0],r=t[1];Object.entries(r).forEach(function(e){var t=(0,s._)(e,2),r=t[0],i=t[1];a["".concat(n,"_").concat(r)]=i})}),localStorage.setItem(S(e,t),JSON.stringify(a))}catch(e){console.error("写入得分缓存失败:",e)}},N=function(e){var t=e.account,n=e.tokenAddress,i=e.actionRoundPairs,d=e.enabled,c=void 0===d||d,l=(0,u.useMemo)(function(){if(!c||0===i.length||!t||!n)return{validActionRoundPairs:[],actionRoundPairsKey:"",cachedScores:{},uncachedPairs:[]};var e=j(t,n),a={},r=[];i.forEach(function(t){var n=e["".concat(t.actionId.toString(),"_").concat(t.round.toString())];if(void 0!==n){var i=t.actionId.toString(),s=t.round.toString();a[i]||(a[i]={}),a[i][s]=n}else r.push(t)});var s=i.map(function(e){return"".concat(e.actionId.toString(),"_").concat(e.round.toString())}).join("|");return console.log("缓存命中: ".concat(Object.keys(e).length," 条, 需要请求: ").concat(r.length," 条")),{validActionRoundPairs:i,actionRoundPairsKey:s,cachedScores:a,uncachedPairs:r}},[i,c,t,n]),y=l.validActionRoundPairs,p=l.actionRoundPairsKey,m=l.cachedScores,f=l.uncachedPairs,h=(0,u.useMemo)(function(){return c&&0!==f.length&&n?f.map(function(e){var t=e.actionId,a=e.round;return{address:"0xACea4f086BE05BeA47f3A56788FA3919C7f40799",abi:b.S,functionName:"randomAccounts",args:[n,a,t]}}):[]},[n,f,c]),S=(0,v.N)({contracts:h,query:{enabled:c&&h.length>0}}),N=S.data,_=S.isLoading,B=S.error,M=S.isSuccess;console.log("randomAccountsData",N);var A=(0,s._)((0,u.useState)({}),2),E=A[0],k=A[1],P=(0,s._)((0,u.useState)(!1),2),R=P[0],L=P[1],O=(0,s._)((0,u.useState)(null),2),C=O[0],Z=O[1],D=(0,s._)((0,u.useState)(!1),2),V=D[0],J=D[1];(0,u.useEffect)(function(){var e;c&&N&&M&&0!==f.length&&n&&t&&(e=(0,a._)(function(){var e,a,i,s,d;return(0,o.Jh)(this,function(u){switch(u.label){case 0:L(!0),Z(null),k({}),e={},a={},u.label=1;case 1:u.trys.push([1,6,,7]),i=function(i){var s,d,u,c,l,y,p,m,h,v,b,S,j,I,_,B,M,A;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(d=(s=f[i]).actionId,u=s.round,(null==(c=N[i])?void 0:c.status)!=="success")return[3,2];return l=c.result,(y=(0,g._)(l)).includes(t)||y.push(t),p=y.map(function(e){return{address:"0x547b4a36980Ec030fBfC0162eE4B4904d9Cc0Da9",abi:x.w,functionName:"scoreByActionIdByAccount",args:[n,u,d,e]}}),console.log("正在加载 actionId=".concat(d,", round=").concat(u," 的分数数据，共 ").concat(p.length," 个账户...")),[4,(0,T.J)(w.v,{contracts:p})];case 1:m=o.sent(),h="".concat(d.toString(),"_").concat(u.toString()),v={},b=!1,m.forEach(function(e,t){if((null==e?void 0:e.status)==="success"){var n=y[t],a=e.result||BigInt(0);v[n]=a}else b=!0,console.warn("获取账户 ".concat(y[t]," 的得分失败:"),null==e?void 0:e.error)}),S=void 0!==v[t],e[h]={actionId:d,round:u,accountScores:v},!b&&S?(j=Object.values(v).reduce(function(e,t){return t>e?t:e},BigInt(0)),I=v[t]||BigInt(0),_="0",j>BigInt(0)&&I>BigInt(0)&&(B=I*BigInt(100)/j,_=(I*BigInt(100)%j*BigInt(2)>=j?Number(B)+1:Number(B)).toString()),M=d.toString(),A=u.toString(),a[M]||(a[M]={}),a[M][A]=_,console.log("完成加载 actionId=".concat(d,", round=").concat(u,"，进度: ").concat(i+1,"/").concat(f.length))):console.warn("跳过缓存 actionId=".concat(d,", round=").concat(u,": ")+"hasFailedRequest=".concat(b,", hasTargetAccountScore=").concat(S)),k((0,r._)({},e)),o.label=2;case 2:return[2]}})},s=0,u.label=2;case 2:if(!(s<f.length))return[3,5];return[5,(0,o.XA)(i(s))];case 3:u.sent(),u.label=4;case 4:return s++,[3,2];case 5:return Object.keys(a).length>0&&(I(t,n,a),console.log("得分数据已写入缓存")),J(!0),L(!1),[3,7];case 6:return console.error("分批加载分数时出错:",d=u.sent()),Z(d),L(!1),J(!1),[3,7];case 7:return[2]}})}),function(){return e.apply(this,arguments)})()},[c,n,t,p,M]);var q=(0,u.useMemo)(function(){if(!c||0===y.length)return{scores:{},isLoading:!1,hasError:!1,allLoaded:!0};if(B||C)return{scores:{},isLoading:!1,hasError:!0,allLoaded:!1};if(_)return{scores:m,isLoading:f.length>0,hasError:!1,allLoaded:!1};var e={};Object.values(E).forEach(function(n){var a=n.actionId,r=n.round,i=n.accountScores,s=Object.values(i).reduce(function(e,t){return t>e?t:e},BigInt(0)),o=i[t]||BigInt(0),d="0";if(s>BigInt(0)&&o>BigInt(0)){var u=o*BigInt(100)/s;d=(o*BigInt(100)%s*BigInt(2)>=s?Number(u)+1:Number(u)).toString()}var c=a.toString(),l=r.toString();e[c]||(e[c]={}),e[c][l]=d});var n=(0,r._)({},m);Object.entries(e).forEach(function(e){var t=(0,s._)(e,2),a=t[0],r=t[1];n[a]||(n[a]={}),Object.entries(r).forEach(function(e){var t=(0,s._)(e,2),r=t[0],i=t[1];n[a][r]=i})});var a=0===f.length||V&&!R;return{scores:n,isLoading:R,hasError:!1,allLoaded:a}},[c,y,t,_,R,B,C,V,N,M,E,m,f]);return{scores:q.scores,isLoading:q.isLoading,hasError:q.hasError,allLoaded:q.allLoaded}},_=n(73591),B=n(83494),M=n(64777),A=n(42083),E=n(44576),k=n(27245),P=n(74598),R=n(26858),L=n(6743),O=BigInt(6),C=function(){var e,t=(0,y.useRouter)(),n=((0,u.useContext)(p.M)||{}).token,g=(0,l.m)().address,v=(0,m.N6)(null==n?void 0:n.address,g,O),b=v.rewards,x=v.isPending,T=v.error,w=(0,f.dB)(null==n?void 0:n.address,g),S=w.joinedActions,j=w.isPending,I=w.error,C=(0,u.useMemo)(function(){if(!S||!b)return[];var e=new Map,t=!0,n=!1,a=void 0;try{for(var r,i=b[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;if(!(s.reward<=BigInt(0))){var o=s.actionId.toString();e.has(o)||e.set(o,[]),e.get(o).push(s)}}}catch(e){n=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}var d=[],u=!0,c=!1,l=void 0;try{for(var y,p=S[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var m=y.value,f=String(m.action.head.id),h=e.get(f)||[];h.length>0&&h.sort(function(e,t){return e.round>t.round?-1:1}),d.push({action:m,rewards:h})}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return d.sort(function(e,t){return BigInt(e.action.action.head.id)>BigInt(t.action.action.head.id)?-1:1}),d},[S,b]),Z=(0,u.useMemo)(function(){if(!b||0===b.length)return{actionRoundPairs:[],enabled:!1};var e=b.filter(function(e){return e.reward>BigInt(0)}).map(function(e){return{actionId:e.actionId,round:e.round}}).sort(function(e,t){return e.round>t.round?-1:1});return{actionRoundPairs:e,enabled:e.length>0}},[b]),D=N({account:g,tokenAddress:null==n?void 0:n.address,actionRoundPairs:Z.actionRoundPairs,enabled:!1}),V=D.scores,J=D.isLoading;D.hasError;var q=(0,h.Rb)(),F=q.mintActionReward,K=q.isPending,z=q.isConfirming,U=q.isConfirmed,X=q.writeError,H=(0,s._)((0,u.useState)(null),2),W=H[0],G=H[1],Q=(0,s._)((0,u.useState)(new Set),2),Y=Q[0],$=Q[1];(0,u.useEffect)(function(){if(U){if(c.ZP.success("铸造成功"),W){var e="".concat(W.actionId.toString(),"-").concat(W.round.toString());$(function(t){var n=new Set(t);return n.add(e),n})}(null==n?void 0:n.address)&&g&&(0,L.j)(g,n.address,!1)}},[U,W,null==n?void 0:n.address,g]),(0,u.useEffect)(function(){$(new Set)},[null==n?void 0:n.address,g]),(0,u.useEffect)(function(){if((null==n?void 0:n.address)&&g&&!x&&b&&!b.some(function(e){return e.reward>BigInt(0)&&!e.isMinted})){var e=(0,L.FP)(g,n.address);if(null==e?void 0:e.needMinted){var t=(0,L.iO)(g,n.address);localStorage.removeItem(t),(0,L.j)(g,n.address,!1)}}},[null==n?void 0:n.address,g,x,b]);var ee=(e=(0,a._)(function(e,t){return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(!((null==n?void 0:n.address)&&g))return[3,2];return G({actionId:t,round:e}),[4,F(n.address,e,t)];case 1:a.sent(),a.label=2;case 2:return[2]}})}),function(t,n){return e.apply(this,arguments)}),et=(0,u.useMemo)(function(){return C?C.map(function(e){return(0,i._)((0,r._)({},e),{rewards:e.rewards.map(function(t){var n,a="".concat(BigInt(e.action.action.head.id).toString(),"-").concat(t.round.toString()),s=e.action.action.head.id.toString(),o=t.round.toString(),d=null==V?void 0:null===(n=V[s])||void 0===n?void 0:n[o],u=J&&!d;return(0,i._)((0,r._)({},t),{isMinted:Y.has(a)||t.isMinted,score:d||"0.0",isScoreLoading:u})})})}):[]},[C,Y,V,J]),en=(0,_.S)().handleContractError;return(0,u.useEffect)(function(){T&&en(T,"dataViewer"),I&&en(I,"dataViewer"),X&&en(X,"mint")},[T,I,X,en]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(B.Z,{title:"行动激励",showBackButton:!0}),(0,d.jsxs)("main",{className:"flex-grow",children:[n?(0,d.jsxs)("div",{className:"flex flex-col space-y-6 p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)(M.Z,{title:"铸造行动激励"}),(0,d.jsx)("button",{onClick:function(){return t.push("/my/queryaction?symbol=".concat(null==n?void 0:n.symbol))},className:"text-secondary hover:text-secondary/80 text-sm bg-transparent border-none cursor-pointer",children:"查看已退出行动激励\xa0>>"})]}),(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-500 text-sm",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(P.Z,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"小贴士："}),(0,d.jsx)("br",{}),"如果对激励打分有疑问，可以",(0,d.jsx)("br",{}),"1. 仔细阅读行动打分规则，检查是否按要求打卡；",(0,d.jsx)("br",{}),"2. 请教周围的治理者或志愿者；"]})]})}),x||j?(0,d.jsx)(A.Z,{}):et.length>0?et.map(function(e){return(0,d.jsxs)("div",{className:"border border-gray-100 rounded-lg p-4 shadow-sm",children:[(0,d.jsx)("div",{className:"flex items-center mb-3",children:(0,d.jsxs)("div",{className:"flex items-baseline  mr-2",children:[(0,d.jsx)("span",{className:"text-greyscale-500",children:"No."}),(0,d.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.action.action.head.id)}),(0,d.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.action.action.body.title)})]})}),e.rewards.length>0?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("table",{className:"table w-full table-auto",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,d.jsx)("th",{className:"text-left px-0",children:"轮次"}),(0,d.jsx)("th",{className:"text-center",children:"可铸造激励"}),(0,d.jsx)("th",{className:"text-center",children:"操作"})]})}),(0,d.jsx)("tbody",{children:e.rewards.map(function(t,a){return(0,d.jsxs)("tr",{className:a===e.rewards.length-1?"border-none":"border-b border-gray-100",children:[(0,d.jsx)("td",{className:"px-1",children:(0,R.cK)(t.round,n).toString()}),(0,d.jsx)("td",{className:"text-center px-1",children:(0,R.LH)(t.reward||BigInt(0))}),(0,d.jsx)("td",{className:"text-center px-1",children:t.reward>BigInt(0)&&!t.isMinted?(0,d.jsx)(k.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",onClick:function(){return ee(t.round,BigInt(e.action.action.head.id))},disabled:K||z,children:"铸造"}):t.isMinted?(0,d.jsx)("span",{className:"text-greyscale-500",children:"已铸造"}):(0,d.jsx)("span",{className:"text-greyscale-500",children:"-"})})]},"".concat(e.action.action.head.id,"-").concat(t.round.toString()))})})]})}):(0,d.jsxs)("div",{className:"text-center text-greyscale-500 py-4",children:["该行动最近 ",O.toString()," 轮没有获得激励"]}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("button",{onClick:function(){return t.push("/my/rewardsofaction?id=".concat(e.action.action.head.id))},className:"text-secondary hover:text-secondary/80 underline text-sm bg-transparent border-none cursor-pointer",children:"查看更多激励 >>"})})]},e.action.action.head.id)}):(0,d.jsx)("div",{className:"text-center text-greyscale-500 py-8",children:"没有参与任何行动"})]}):(0,d.jsx)(A.Z,{}),(0,d.jsx)(E.Z,{isLoading:K||z,text:K?"提交交易...":"确认交易..."})]})]})}},67516:function(e,t,n){"use strict";n.d(t,{N:function(){return l}});var a=n(72253),r=n(14932),i=n(97995),s=n(36100),o=n(67294),d=n(95159),u=n(39360),c=n(78942);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.contracts,l=void 0===n?[]:n,y=t.query,p=void 0===y?{}:y,m=(0,c.Z)(t),f=(0,u.x)({config:m}),h=function(e,t={}){return{async queryFn({queryKey:n}){let a=[],r=n[1].contracts.length;for(let e=0;e<r;e++){let r=n[1].contracts[e],i=(t.contracts?.[e]).abi;a.push({...r,abi:i})}let{scopeKey:s,...o}=n[1];return(0,i.J)(e,{...o,contracts:a})},queryKey:function(e={}){let t=[];for(let n of e.contracts??[]){let{abi:a,...r}=n;t.push({...r,chainId:r.chainId??e.chainId})}return["readContracts",(0,s.OP)({...e,contracts:t})]}(t)}}(m,(0,r._)((0,a._)({},t),{chainId:f})),g=(0,o.useMemo)(function(){var e,t=!1,n=!0,a=!1,r=void 0;try{for(var i,s=l[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value,d=o.abi,u=o.address,c=o.functionName;if(!d||!u||!c){t=!1;break}t=!0}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return!!(t&&(null===(e=p.enabled)||void 0===e||e))},[l,p.enabled]);return(0,d.aM)((0,r._)((0,a._)({},h,p),{enabled:g,structuralSharing:null!==(e=p.structuralSharing)&&void 0!==e?e:s.if}))}}},function(e){e.O(0,[8501,4463,3494,3591,3950,7399,2888,9774,179],function(){return e(e.s=51436)}),_N_E=e.O()}]);