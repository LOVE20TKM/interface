(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3994],{26269:(e,t,r)=>{"use strict";var s=r(99680),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,a,o,l,i,c,d,u,m=!1;t||(t={}),o=t.debug||!1;try{if(i=s(),c=document.createRange(),d=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=n[t.format]||n.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(u),c.selectNodeContents(u),d.addRange(c),!document.execCommand("copy"))throw Error("copy command was unsuccessful");m=!0}catch(s){o&&console.error("unable to copy using execCommand: ",s),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(s){o&&console.error("unable to copy using clipboardData: ",s),o&&console.error("falling back to prompt"),r="message"in t?t.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",l=r.replace(/#{\s*key\s*}/g,a),window.prompt(l,e)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(c):d.removeAllRanges()),u&&document.body.removeChild(u),i()}return m}},46852:(e,t,r)=>{"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=l(r(14232)),a=l(r(26269)),o=["text","onCopy","options","children"];function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&d(i,e);var t,r,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(i);return e=t?Reflect.construct(r,arguments,m(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return f(u(e=l.call.apply(l,[this].concat(r))),"onClick",function(t){var r=e.props,s=r.text,o=r.onCopy,l=r.children,i=r.options,c=n.default.Children.only(l),d=(0,a.default)(s,i);o&&o(s,d),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(t)}),e}return r=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o),s=n.default.Children.only(t);return n.default.cloneElement(s,c(c({},r),{},{onClick:this.onClick}))}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.default.PureComponent);t.CopyToClipboard=p,f(p,"defaultProps",{onCopy:void 0,options:void 0})},48447:(e,t,r)=>{"use strict";var s=r(46852).CopyToClipboard;s.CopyToClipboard=s,e.exports=s},70801:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var s=(0,r(11713).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},75695:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var s=r(16927),n=r(40854),a=r(4902),o=r(37876),l=r(14232),i=r(7446),c=r(95167),d=r(8047),u=r(44571),m=r(97685);function f(e){var t,r=e.tokenAddress,f=e.tokenSymbol,p=e.tokenDecimals,x=e.tokenImage,y=(0,n._)((0,l.useState)(!1),2),b=y[0],h=y[1],v=(0,d.F)().isConnected,j=(0,u.G)().data,g=(t=(0,s._)(function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:if(!v)return alert("请先连接你的钱包"),[2];h(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!j)return alert("无法获取钱包客户端"),[2];return[4,j.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r,symbol:f,decimals:p,image:x}}})];case 2:return e.sent()?m.Ay.success("代币已成功添加到 MetaMask 钱包"):m.Ay.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),m.Ay.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return h(!1),[7];case 5:return[2]}})}),function(){return t.apply(this,arguments)});return(0,o.jsx)("button",{onClick:g,disabled:b,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:b?(0,o.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,o.jsx)(c.A,{className:"h-4 w-4 text-greyscale-500"})})}},78256:(e,t,r)=>{"use strict";r.d(t,{bq:()=>x,eb:()=>v,gC:()=>h,l6:()=>f,yv:()=>p});var s=r(3576),n=r(62701),a=r(65699),o=r(37876),l=r(14232),i=r(760),c=r(30822),d=r(21575),u=r(33276),m=r(30684),f=i.bL;i.YJ;var p=i.WT,x=l.forwardRef((e,t)=>{var r=e.className,l=e.children,d=(0,a._)(e,["className","children"]);return(0,o.jsxs)(i.l9,(0,n._)((0,s._)({ref:t,className:(0,m.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},d),{children:[l,(0,o.jsx)(i.In,{asChild:!0,children:(0,o.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});x.displayName=i.l9.displayName;var y=l.forwardRef((e,t)=>{var r=e.className,l=(0,a._)(e,["className"]);return(0,o.jsx)(i.PP,(0,n._)((0,s._)({ref:t,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",r)},l),{children:(0,o.jsx)(d.A,{className:"h-4 w-4"})}))});y.displayName=i.PP.displayName;var b=l.forwardRef((e,t)=>{var r=e.className,l=(0,a._)(e,["className"]);return(0,o.jsx)(i.wn,(0,n._)((0,s._)({ref:t,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",r)},l),{children:(0,o.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=i.wn.displayName;var h=l.forwardRef((e,t)=>{var r=e.className,l=e.children,c=e.position,d=void 0===c?"popper":c,u=(0,a._)(e,["className","children","position"]);return(0,o.jsx)(i.ZL,{children:(0,o.jsxs)(i.UC,(0,n._)((0,s._)({ref:t,className:(0,m.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:d},u),{children:[(0,o.jsx)(y,{}),(0,o.jsx)(i.LM,{className:(0,m.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,o.jsx)(b,{})]}))})});h.displayName=i.UC.displayName,l.forwardRef((e,t)=>{var r=e.className,n=(0,a._)(e,["className"]);return(0,o.jsx)(i.JU,(0,s._)({ref:t,className:(0,m.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r)},n))}).displayName=i.JU.displayName;var v=l.forwardRef((e,t)=>{var r=e.className,l=e.children,c=(0,a._)(e,["className","children"]);return(0,o.jsxs)(i.q7,(0,n._)((0,s._)({ref:t,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},c),{children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(i.VF,{children:(0,o.jsx)(u.A,{className:"h-4 w-4"})})}),(0,o.jsx)(i.p4,{children:l})]}))});v.displayName=i.q7.displayName,l.forwardRef((e,t)=>{var r=e.className,n=(0,a._)(e,["className"]);return(0,o.jsx)(i.wv,(0,s._)({ref:t,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=i.wv.displayName},90356:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gov/staketoken",function(){return r(97103)}])},92659:(e,t,r)=>{"use strict";r.d(t,{lV:()=>y,MJ:()=>w,Rr:()=>C,zB:()=>h,eI:()=>g,lR:()=>N,C5:()=>k});var s=r(81110),n=r(40120),a=r(3576),o=r(62701),l=r(65699),i=r(37876),c=r(14232),d=r(39358),u=r(88992),m=r(30684),f=r(49794),p=(0,r(47137).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=c.forwardRef((e,t)=>{var r=e.className,s=(0,l._)(e,["className"]);return(0,i.jsx)(f.b,(0,a._)({ref:t,className:(0,m.cn)(p(),r)},s))});x.displayName=f.b.displayName;var y=u.Op,b=c.createContext({}),h=e=>{var t=(0,s._)({},(0,n._)(e));return(0,i.jsx)(b.Provider,{value:{name:t.name},children:(0,i.jsx)(u.xI,(0,a._)({},t))})},v=()=>{var e=c.useContext(b),t=c.useContext(j),r=(0,u.xW)(),s=r.getFieldState,n=r.formState,o=s(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");var l=t.id;return(0,a._)({id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message")},o)},j=c.createContext({}),g=c.forwardRef((e,t)=>{var r=e.className,s=(0,l._)(e,["className"]),n=c.useId();return(0,i.jsx)(j.Provider,{value:{id:n},children:(0,i.jsx)("div",(0,a._)({ref:t,className:(0,m.cn)("space-y-2",r)},s))})});g.displayName="FormItem";var N=c.forwardRef((e,t)=>{var r=e.className,s=(0,l._)(e,["className"]),n=v(),o=n.error,c=n.formItemId;return(0,i.jsx)(x,(0,a._)({ref:t,className:(0,m.cn)(o&&"text-destructive",r),htmlFor:c},s))});N.displayName="FormLabel";var w=c.forwardRef((e,t)=>{var r=(0,s._)({},(0,n._)(e)),o=v(),l=o.error,c=o.formItemId,u=o.formDescriptionId,m=o.formMessageId;return(0,i.jsx)(d.DX,(0,a._)({ref:t,id:c,"aria-describedby":l?"".concat(u," ").concat(m):"".concat(u),"aria-invalid":!!l},r))});w.displayName="FormControl";var C=c.forwardRef((e,t)=>{var r=e.className,s=(0,l._)(e,["className"]),n=v().formDescriptionId;return(0,i.jsx)("p",(0,a._)({ref:t,id:n,className:(0,m.cn)("text-sm text-muted-foreground",r)},s))});C.displayName="FormDescription";var k=c.forwardRef((e,t)=>{var r=e.className,s=e.children,n=(0,l._)(e,["className","children"]),c=v(),d=c.error,u=c.formMessageId,f=d?String(null==d?void 0:d.message):s;return f?(0,i.jsx)("p",(0,o._)((0,a._)({ref:t,id:u,className:(0,m.cn)("text-sm font-medium text-destructive",r)},n),{children:f})):null});k.displayName="FormMessage"},95167:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var s=(0,r(11713).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},97103:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var s=r(37876),n=r(14232),a=r(8047),o=r(62212),l=r(83416),i=r(9215),c=r(20451),d=r(67121),u=r(66663),m=r(12293),f=r(16927),p=r(3576),x=r(62701),y=r(40854),b=r(4902),h=r(97685),v=r(13810),j=r(88992),g=r(60513),N=r(92659),w=r(77932),C=r(6960),k=r(78256),_=r(7446),A=r(42038),O=r(20442),P=r(4066),R=r(19591),E=r(1709),S=r(99574);let D=e=>{var t=e.tokenBalance,r=(0,a.F)(),o=r.address,d=r.chain,u=((0,n.useContext)(l.N)||{}).token,D=(0,y._)((0,n.useState)(!1),2),T=D[0],I=D[1],F=(0,i.zH)(null==u?void 0:u.address),M=F.approve,z=F.isWriting,B=F.isConfirming,U=F.isConfirmed,J=F.writeError,L=(0,R.Lg)(),X=L.stakeToken,V=L.isWriting,W=L.isConfirming,q=L.isConfirmed,$=L.writeError,G=(0,R.n3)(null==u?void 0:u.address,o),H=G.promisedWaitingPhases,Y=G.isPending,Z=G.error,K=(0,i.Gp)(null==u?void 0:u.address,o,"0x11bBb48bAA8765b0394A13F6Aa406B13e940836A"),Q=K.allowance,ee=K.isPending,et=K.error,er=(0,n.useRef)(null),es=(0,n.useRef)(ee);(0,n.useEffect)(()=>{if(es.current&&!ee){var e;null==(e=er.current)||e.blur()}es.current=ee},[ee]);var en=(0,j.mN)({resolver:(0,v.u)(g.z.object({stakeTokenAmount:g.z.string().refine(e=>""!==e.trim(),{message:"请输入质押数量"}).refine(e=>Number(e)>0,{message:"质押代币数不能为0"}).refine(e=>(0,O.XS)(e)<=t,{message:"质押代币数不能大于持有代币数"}),releasePeriod:g.z.string().min(1,"请选择解锁期")})),defaultValues:{stakeTokenAmount:"",releasePeriod:""},mode:"onChange"}),ea=function(){var e=(0,f._)(function(e){var t;return(0,b.__generator)(this,function(r){switch(r.label){case 0:if(!(0,A.C)(d))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,M("0x11bBb48bAA8765b0394A13F6Aa406B13e940836A",(0,O.XS)(e.stakeTokenAmount))];case 2:return r.sent(),[3,4];case 3:return console.error("Approve failed",t=r.sent()),ei(t,"token"),[3,4];case 4:return[2]}})});return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)(()=>{U&&(I(!0),h.oR.success("授权".concat(null==u?void 0:u.symbol,"成功")))},[U,null==u?void 0:u.symbol]);var eo=function(){var e=(0,f._)(function(e){var t;return(0,b.__generator)(this,function(r){switch(r.label){case 0:if(!(0,A.C)(d))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,X(null==u?void 0:u.address,(0,O.XS)(e.stakeTokenAmount),BigInt(e.releasePeriod),o)];case 2:return r.sent(),[3,4];case 3:return console.error("Stake failed",t=r.sent()),ei(t,"stake"),[3,4];case 4:return[2]}})});return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)(()=>{q&&(h.oR.success("质押成功"),en.reset(),setTimeout(()=>{window.location.href="".concat("/interface","/gov?symbol=").concat(null==u?void 0:u.symbol)},2e3))},[q,en,null==u?void 0:u.symbol]);var el=en.watch("stakeTokenAmount");(0,n.useEffect)(()=>{var e=0n;try{e=(0,O.XS)(el||"0")}catch(t){e=0n}e>0n&&Q&&Q>0n&&Q>=e?I(!0):I(!1)},[el,Q,ee]);var ei=(0,c.g)().handleContractError;return((0,n.useEffect)(()=>{$&&ei($,"stake"),J&&ei(J,"token"),et&&ei(et,"token"),Z&&ei(Z,"stake")},[$,J,et,Z,ei]),Y)?(0,s.jsx)("div",{className:"w-full flex flex-col items-center pt-0 p-6",children:(0,s.jsx)(m.A,{})}):(0,s.jsxs)("div",{className:"w-full flex flex-col items-center pt-0 p-6",children:[(0,s.jsx)("div",{className:"w-full text-left mb-4",children:(0,s.jsx)(E.A,{title:"质押增加治理收益"})}),(0,s.jsx)(N.lV,(0,x._)((0,p._)({},en),{children:(0,s.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"w-full max-w-md space-y-4",children:[(0,s.jsx)(N.zB,{control:en.control,name:"stakeTokenAmount",render:e=>{var r=e.field;return(0,s.jsxs)(N.eI,{children:[(0,s.jsx)(N.lR,{className:"text-sm",children:"质押数："}),(0,s.jsx)(N.MJ,{children:(0,s.jsx)(w.p,(0,p._)({type:"number",placeholder:"输入 ".concat(null==u?void 0:u.symbol," 数量"),className:"!ring-secondary-foreground"},r))}),(0,s.jsxs)(N.Rr,{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{children:["持有 ",(0,s.jsx)("span",{className:"mr-2",children:(0,O.NJ)(t)}),null==u?void 0:u.symbol]}),(0,s.jsx)(C.$,{variant:"link",size:"sm",type:"button",onClick:()=>{en.setValue("stakeTokenAmount",(0,O.Js)(t||0n))},disabled:t<=0n,className:"text-secondary mr-2",children:"全部"})]}),(0,s.jsx)(N.C5,{})]})}}),(0,s.jsx)(N.zB,{control:en.control,name:"releasePeriod",render:e=>{var t=e.field;return(0,s.jsxs)(N.eI,{children:[(0,s.jsx)(N.lR,{children:"解锁期："}),(0,s.jsx)(N.MJ,{children:(0,s.jsxs)(k.l6,{onValueChange:e=>t.onChange(e),value:t.value,children:[(0,s.jsx)(k.bq,{className:"w-full !ring-secondary-foreground",children:(0,s.jsx)(k.yv,{placeholder:"选择解锁期长度"})}),(0,s.jsx)(k.gC,{children:Array.from({length:2},(e,t)=>t+1).filter(e=>e>=H).map(e=>(0,s.jsx)(k.eb,{value:String(e),children:(0,P.u$)(e)},e))})]})}),(0,s.jsx)(N.Rr,{children:"提示：取消质押后，需等待解锁期过后才能取回代币"}),(0,s.jsx)(N.C5,{})]})}}),(0,s.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,s.jsx)(C.$,{ref:er,className:"w-1/2",disabled:ee||z||B||T,onClick:()=>en.handleSubmit(ea)(),children:ee?(0,s.jsx)(_.A,{className:"animate-spin h-4 w-4"}):z?"1.授权中...":B?"1.确认中...":T?"1.".concat(null==u?void 0:u.symbol,"已授权"):"1.授权".concat(null==u?void 0:u.symbol)}),(0,s.jsx)(C.$,{className:"w-1/2",disabled:!T||V||W||q,onClick:()=>en.handleSubmit(eo)(),children:V?"2.质押中...":W?"2.确认中...":q?"2.已质押":"2.质押"})]})]})})),(0,s.jsx)(S.A,{isLoading:z||B||V||W,text:z||V?"提交交易...":"确认交易..."})]})};var T=r(42472),I=r(87577),F=r(75695);function M(){var e=((0,n.useContext)(l.N)||{}).token,t=(0,a.F)().address,r=(0,T.lW)((null==e?void 0:e.stTokenAddress)||"",t||"0x0000000000000000000000000000000000000000"),o=r.balance,i=r.isPending,d=r.error,u=(0,c.g)().handleContractError;return((0,n.useEffect)(()=>{d&&u(d,"token")},[d]),null==e?void 0:e.stTokenAddress)?(0,s.jsx)("div",{className:"px-4 pt-0 pb-6",children:(0,s.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"mr-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"font-bold text-2xl mr-2",children:["st",e.symbol]}),(0,s.jsx)(I.A,{address:e.stTokenAddress}),(0,s.jsx)(F.A,{tokenAddress:e.stTokenAddress,tokenSymbol:e.symbol||"",tokenDecimals:e.decimals||0})]})})}),(0,s.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,s.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"我持有:"}),(0,s.jsx)("span",{className:"text-sm text-secondary",children:i?(0,s.jsx)(m.A,{}):(0,O.NJ)(o||0n)})]})]})}):(0,s.jsx)(m.A,{})}let z=()=>{var e=((0,n.useContext)(l.N)||{}).token,t=(0,a.F)().address,r=(0,i.lW)(null==e?void 0:e.address,t).balance,f=(0,d.Cl)(null==e?void 0:e.slTokenAddress),p=f.tokenAmount,x=f.isPending,y=f.error,b=(0,c.g)().handleContractError;return(0,n.useEffect)(()=>{y&&b(y,"slToken")},[y]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{title:"质押代币"}),(0,s.jsxs)("main",{className:"flex-grow",children:[x&&(0,s.jsx)(m.A,{}),!x&&!p&&(0,s.jsx)("div",{className:"flex justify-center items-center mt-10",children:"需要先质押流动性LP，才可以质押代币"}),p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M,{}),(0,s.jsx)(D,{tokenBalance:r||0n})]}),(0,s.jsx)("div",{className:"flex flex-col w-full p-4",children:(0,s.jsxs)("div",{className:"bg-blue-50/30 border-l-4 border-l-blue-50 rounded-r-lg p-4 mb-8 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-base font-bold text-blue-800 pb-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),"提示"]}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理激励："}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"1、当轮所得治理激励 = 验证激励 + 加速激励"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"2、质押代币可获得 加速激励"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"3、单个地址的验证激励：当轮治理总激励 * 50% * 该地址行使验证权的治理票数 / 行使验权的治理票总数"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"4、单个地址的加速激励：当轮治理总激励 * 50% * 该地址质押代币数量 / 质押代币总数量"}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"5、溢出：单个地址的加速激励 超过验证激励 2 倍以上的部分，为溢出激励，自动销毁，归入未来总激励"})]})})]})]})}},99680:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],s=0;s<e.rangeCount;s++)r.push(e.getRangeAt(s));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}},e=>{var t=t=>e(e.s=t);e.O(0,[6869,4571,3921,2569,5139,5284,2781,3297,636,6593,8792],()=>t(90356)),_N_E=e.O()}]);