(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5910],{12293:(e,r,n)=>{"use strict";n.d(r,{A:()=>a});var t=n(37876),s=n(7446);let a=()=>(0,t.jsx)(s.A,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})},18449:(e,r,n)=>{"use strict";n.d(r,{X:()=>a});var t=n(76200);class s extends t.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function a(e,r){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new s({value:e});let[n,t="0"]=e.split("."),a=n.startsWith("-");if(a&&(n=n.slice(1)),t=t.replace(/(0+)$/,""),0===r)1===Math.round(Number(`.${t}`))&&(n=`${BigInt(n)+1n}`),t="";else if(t.length>r){let[e,s,a]=[t.slice(0,r-1),t.slice(r-1,r),t.slice(r)],c=Math.round(Number(`${s}.${a}`));(t=c>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${c}`).length>r&&(t=t.slice(1),n=`${BigInt(n)+1n}`),t=t.slice(0,r)}else t=t.padEnd(r,"0");return BigInt(`${a?"-":""}${n}${t}`)}},28638:(e,r,n)=>{"use strict";n.d(r,{BT:()=>d,Wu:()=>m,ZB:()=>o,Zp:()=>l,aR:()=>u,wL:()=>f});var t=n(3576),s=n(65699),a=n(37876),c=n(14232),i=n(30684),l=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n)},c))});l.displayName="Card";var u=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n)},c))});u.displayName="CardHeader";var o=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n)},c))});o.displayName="CardTitle";var d=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,i.cn)("text-sm text-muted-foreground",n)},c))});d.displayName="CardDescription";var m=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,i.cn)("p-6 pt-0",n)},c))});m.displayName="CardContent";var f=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",n)},c))});f.displayName="CardFooter"},29852:(e,r,n)=>{"use strict";n.d(r,{A:()=>p});var t=n(40854),s=n(37876),a=n(14232),c=n(6960),i=n(96108),l=n(28638),u=n(97685),o=n(89099),d=n(49281),m=n(20451),f=n(20442),x=n(83416),h=n(12293);function p(e){var r=e.parentTokenAddress;(0,o.useRouter)();var n=(0,a.useContext)(x.N)||{},p=n.token,v=n.setToken,N=(0,t._)((0,a.useState)(0n),2),g=N[0],b=N[1],k=(0,t._)((0,a.useState)(BigInt(50)),2),w=k[0],y=k[1],j=(0,t._)((0,a.useState)([]),2),T=j[0],_=j[1];(0,a.useEffect)(()=>{_([]),b(0n),y(BigInt(50))},[r]);var A=r?(0,d.sA)(r,g,w):(0,d.qQ)(g,w),E="childTokens"in A?A.childTokens:A.tokens,R=A.isPending,C=A.error,S=(0,d.XV)(E||[]),$=S.tokens,B=S.launchInfos,I=S.isPending,F=S.error;(0,a.useEffect)(()=>{if(E&&$&&B){var e=$.map((e,r)=>{var n;return{name:e.name,symbol:e.symbol,address:E[r],decimals:Number(e.decimals),parentTokenAddress:B[r].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,initialStakeRound:Number(e.initialStakeRound),hasEnded:B[r].hasEnded,voteOriginBlocks:null!=(n=null==p?void 0:p.voteOriginBlocks)?n:0,totalContributed:B[r].totalContributed,parentTokenFundraisingGoal:B[r].parentTokenFundraisingGoal}});_(r=>{var n=new Set(r.map(e=>e.symbol));return[...r,...e.filter(e=>!n.has(e.symbol))]})}},[$,B]);var O=(0,a.useCallback)(()=>{!R&&$&&$.length>0&&(b(w),y(w+BigInt(50)))},[R,$,w]),D=function(e,r,n,t){var s=this,c=(0,a.useRef)(null),i=(0,a.useRef)(0),l=(0,a.useRef)(0),u=(0,a.useRef)(null),o=(0,a.useRef)([]),d=(0,a.useRef)(),m=(0,a.useRef)(),f=(0,a.useRef)(e),x=(0,a.useRef)(!0);f.current=e;var h="undefined"!=typeof window,p=!r&&0!==r&&h;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var v=!!(n=n||{}).leading,N=!("trailing"in n)||!!n.trailing,g="maxWait"in n,b="debounceOnServer"in n&&!!n.debounceOnServer,k=g?Math.max(+n.maxWait||0,r):null;return(0,a.useEffect)(function(){return x.current=!0,function(){x.current=!1}},[]),(0,a.useMemo)(function(){var e=function(e){var r=o.current,n=d.current;return o.current=d.current=null,i.current=e,l.current=l.current||e,m.current=f.current.apply(n,r)},n=function(e,r){p&&cancelAnimationFrame(u.current),u.current=p?requestAnimationFrame(e):setTimeout(e,r)},a=function(e){if(!x.current)return!1;var n=e-c.current;return!c.current||n>=r||n<0||g&&e-i.current>=k},w=function(r){return u.current=null,N&&o.current?e(r):(o.current=d.current=null,m.current)},y=function e(){var t=Date.now();if(v&&l.current===i.current&&j(),a(t))return w(t);if(x.current){var s=r-(t-c.current);n(e,g?Math.min(s,k-(t-i.current)):s)}},j=function(){t&&t({})},T=function(){if(h||b){var t=Date.now(),l=a(t);if(o.current=[].slice.call(arguments),d.current=s,c.current=t,l){if(!u.current&&x.current)return i.current=c.current,n(y,r),v?e(c.current):m.current;if(g)return n(y,r),e(c.current)}return u.current||n(y,r),m.current}};return T.cancel=function(){u.current&&(p?cancelAnimationFrame(u.current):clearTimeout(u.current)),i.current=0,o.current=c.current=d.current=u.current=null},T.isPending=function(){return!!u.current},T.flush=function(){return u.current?w(Date.now()):m.current},T},[v,g,r,k,N,p,h,b,t])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&O()},200);(0,a.useEffect)(()=>(window.addEventListener("scroll",D),()=>{window.removeEventListener("scroll",D)}),[D]);var M=(0,m.g)().handleContractError;return(0,a.useEffect)(()=>{C&&M(C,"launch"),F&&M(F,"dataViewer")},[C,F]),(0,s.jsxs)("div",{className:"space-y-4 m-4",children:[0!==T.length||R||I?T.map((e,r)=>(0,s.jsx)(l.Zp,{onClick:()=>(e=>{if(!v)return void u.oR.error("请先选择代币");v({name:e.name,symbol:e.symbol,address:e.address,decimals:e.decimals,hasEnded:e.hasEnded,parentTokenAddress:e.parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slTokenAddress,stTokenAddress:e.stTokenAddress,initialStakeRound:e.initialStakeRound,voteOriginBlocks:e.voteOriginBlocks}),e.hasEnded?window.location.href="/acting/?symbol=".concat(e.symbol):window.location.href="/launch/?symbol=".concat(e.symbol)})(e),children:(0,s.jsxs)(l.Wu,{className:"p-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"flex items-center",children:(0,s.jsx)("span",{className:"font-semibold",children:e.symbol})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,s.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,s.jsxs)("span",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-secondary",children:"发射中"}),(0,s.jsxs)("span",{className:"text-greyscale-500 pl-4",children:["(募资进度："," ",void 0!==e.totalContributed&&e.parentTokenFundraisingGoal?(0,f.Ee)(Number(e.totalContributed)/Number(e.parentTokenFundraisingGoal)*100):"...",")"]})]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,s.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})]})]})},r)):(0,s.jsx)("div",{className:"text-center text-muted-foreground py-8",children:r?"暂无子币":"代币列表为空"}),(R||I)&&(0,s.jsx)(h.A,{})]})}},38793:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>c});var t=n(37876),s=n(60154),a=n(29852);function c(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.A,{title:"代币列表"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,t.jsx)("h1",{className:"text-lg font-bold",children:"所有代币"})}),(0,t.jsx)(a.A,{})]})]})}},61527:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return n(38793)}])}},e=>{e.O(0,[3308,6547,154,3096,636,6593,8792],()=>e(e.s=61527)),_N_E=e.O()}]);