try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1be690a0-409a-4d76-b700-9bd1791dbfef",e._sentryDebugIdIdentifier="sentry-dbid-1be690a0-409a-4d76-b700-9bd1791dbfef")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4706],{94163:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake/staketoken",function(){return t(54448)}])},74193:function(e,n,t){"use strict";t.d(n,{NI:function(){return g},Wi:function(){return x},l0:function(){return f},lX:function(){return N},pf:function(){return j},xJ:function(){return v},zG:function(){return w}});var s=t(34788),a=t(12796),r=t(72253),i=t(14932),o=t(47702),l=t(85893),d=t(67294),c=t(88426),u=t(87536),m=t(40108),p=t(94193),f=u.RV,y=d.createContext({}),x=function(e){var n=(0,s._)({},(0,a._)(e));return(0,l.jsx)(y.Provider,{value:{name:n.name},children:(0,l.jsx)(u.Qr,(0,r._)({},n))})},b=function(){var e=d.useContext(y),n=d.useContext(h),t=(0,u.Gc)(),s=t.getFieldState,a=t.formState,i=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");var o=n.id;return(0,r._)({id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},i)},h=d.createContext({}),v=d.forwardRef(function(e,n){var t=e.className,s=(0,o._)(e,["className"]),a=d.useId();return(0,l.jsx)(h.Provider,{value:{id:a},children:(0,l.jsx)("div",(0,r._)({ref:n,className:(0,m.cn)("space-y-2",t)},s))})});v.displayName="FormItem";var N=d.forwardRef(function(e,n){var t=e.className,s=(0,o._)(e,["className"]),a=b(),i=a.error,d=a.formItemId;return(0,l.jsx)(p._,(0,r._)({ref:n,className:(0,m.cn)(i&&"text-destructive",t),htmlFor:d},s))});N.displayName="FormLabel";var g=d.forwardRef(function(e,n){var t=(0,s._)({},(0,a._)(e)),i=b(),o=i.error,d=i.formItemId,u=i.formDescriptionId,m=i.formMessageId;return(0,l.jsx)(c.g7,(0,r._)({ref:n,id:d,"aria-describedby":o?"".concat(u," ").concat(m):"".concat(u),"aria-invalid":!!o},t))});g.displayName="FormControl";var j=d.forwardRef(function(e,n){var t=e.className,s=(0,o._)(e,["className"]),a=b().formDescriptionId;return(0,l.jsx)("p",(0,r._)({ref:n,id:a,className:(0,m.cn)("text-sm text-muted-foreground",t)},s))});j.displayName="FormDescription";var w=d.forwardRef(function(e,n){var t=e.className,s=e.children,a=(0,o._)(e,["className","children"]),d=b(),c=d.error,u=d.formMessageId,p=c?String(null==c?void 0:c.message):s;return p?(0,l.jsx)("p",(0,i._)((0,r._)({ref:n,id:u,className:(0,m.cn)("text-sm font-medium text-destructive",t)},a),{children:p})):null});w.displayName="FormMessage"},94193:function(e,n,t){"use strict";t.d(n,{_:function(){return u}});var s=t(72253),a=t(47702),r=t(85893),i=t(67294),o=t(49102),l=t(12003),d=t(40108),c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)(o.f,(0,s._)({ref:n,className:(0,d.cn)(c(),t)},i))});u.displayName=o.f.displayName},88659:function(e,n,t){"use strict";t.d(n,{Bw:function(){return h},Ph:function(){return p},Ql:function(){return v},i4:function(){return y},ki:function(){return f}});var s=t(72253),a=t(14932),r=t(47702),i=t(85893),o=t(67294),l=t(76405),d=t(42171),c=t(15432),u=t(78865),m=t(40108),p=l.fC;l.ZA;var f=l.B4,y=o.forwardRef(function(e,n){var t=e.className,o=e.children,c=(0,r._)(e,["className","children"]);return(0,i.jsxs)(l.xz,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},c),{children:[o,(0,i.jsx)(l.JO,{asChild:!0,children:(0,i.jsx)(d.Z,{className:"h-4 w-4 opacity-50"})})]}))});y.displayName=l.xz.displayName;var x=o.forwardRef(function(e,n){var t=e.className,o=(0,r._)(e,["className"]);return(0,i.jsx)(l.u_,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t)},o),{children:(0,i.jsx)(c.Z,{className:"h-4 w-4"})}))});x.displayName=l.u_.displayName;var b=o.forwardRef(function(e,n){var t=e.className,o=(0,r._)(e,["className"]);return(0,i.jsx)(l.$G,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t)},o),{children:(0,i.jsx)(d.Z,{className:"h-4 w-4"})}))});b.displayName=l.$G.displayName;var h=o.forwardRef(function(e,n){var t=e.className,o=e.children,d=e.position,c=void 0===d?"popper":d,u=(0,r._)(e,["className","children","position"]);return(0,i.jsx)(l.h_,{children:(0,i.jsxs)(l.VY,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:c},u),{children:[(0,i.jsx)(x,{}),(0,i.jsx)(l.l_,{className:(0,m.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,i.jsx)(b,{})]}))})});h.displayName=l.VY.displayName,o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.__,(0,s._)({ref:n,className:(0,m.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t)},a))}).displayName=l.__.displayName;var v=o.forwardRef(function(e,n){var t=e.className,o=e.children,d=(0,r._)(e,["className","children"]);return(0,i.jsxs)(l.ck,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},d),{children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(l.wU,{children:(0,i.jsx)(u.Z,{className:"h-4 w-4"})})}),(0,i.jsx)(l.eT,{children:o})]}))});v.displayName=l.ck.displayName,o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.Z0,(0,s._)({ref:n,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",t)},a))}).displayName=l.Z0.displayName},67997:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},27460:function(e,n,t){"use strict";var s=t(91309),a=t(85893),r=t(67294),i=t(74855),o=t(78865),l=t(18289),d=t(86501),c=t(91529);n.Z=function(e){var n=e.address,t=e.word,u=e.showCopyButton,m=e.showCopyLast4Button,p=e.showAddress,f=void 0===p||p,y=e.colorClassName,x=void 0===y?"":y,b=e.colorClassName2,h=void 0===b?"":b,v=(0,s._)((0,r.useState)(!1),2),N=v[0],g=v[1],j=(0,s._)((0,r.useState)(!1),2),w=j[0],T=j[1];(0,r.useEffect)(function(){g(!1),T(!1)},[n]);var _=function(e){e.preventDefault(),e.stopPropagation()};return(0,a.jsxs)("span",{className:"inline-flex items-center space-x-1",children:[t&&(0,a.jsx)("span",{className:"text-xs",children:t}),f&&!h&&(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=x?x:"text-greyscale-500"),children:(0,c.Vu)(n)}),f&&h&&(0,a.jsxs)("span",{className:"text-[0px]",children:[(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=x?x:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,a.jsx)("span",{className:"font-mono text-xs ".concat(h),children:"".concat(n.substring(n.length-4))})]}),(void 0===u||u)&&(0,a.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?(g(!0),setTimeout(function(){return g(!1)},2e3)):d.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:_,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:N?(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=x?x:"text-greyscale-500")}):(0,a.jsx)(l.Z,{className:"h-4 w-4 ".concat(null!=x?x:"text-greyscale-500")})})}),void 0!==m&&m&&(0,a.jsx)(i.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(T(!0),d.ZP.success("已复制后4位"),setTimeout(function(){return T(!1)},2e3)):d.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:_,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:w?(0,a.jsx)("span",{className:"".concat(null!=x?x:"text-greyscale-500"),children:"已复制"}):(0,a.jsx)("span",{className:"".concat(null!=x?x:"text-greyscale-500"),children:"后4位"})})})]})}},64777:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.title;return(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-lg font-bold",children:n})})}},42083:function(e,n,t){"use strict";var s=t(85893),a=t(23432);n.Z=function(){return(0,s.jsx)(a.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},77156:function(e,n,t){"use strict";t.d(n,{yA:function(){return m},hS:function(){return u}});var s=t(11010),a=t(97582),r=t(67294),i=t(71104),o=[{type:"constructor",inputs:[{name:"minter_",type:"address",internalType:"address"},{name:"tokenAddress_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"decreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"subtractedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"increaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"addedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"mint",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"minter",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"reserve",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenBurn",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenMint",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AmountIsGreaterThanReserve",inputs:[]},{type:"error",name:"InvalidAddress",inputs:[]},{type:"error",name:"NotMinter",inputs:[]}],l=t(37742),d=t(37474),c=t(84689),u=function(e,n){var t=(0,i.u)({address:e,abi:o,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n}}),s=t.data,a=t.isPending,r=t.error;return{balance:s?(0,l.Z)(s):void 0,isPending:a,error:r}};function m(e){var n,t=(0,d.e9)(o,e,"approve"),i=t.execute,l=t.isPending,u=t.isConfirming,m=t.isConfirmed,p=t.error,f=t.hash,y=t.isTukeMode,x=(n=(0,s._)(function(n,t){return(0,a.Jh)(this,function(s){switch(s.label){case 0:return console.log("提交approve交易:",{address:e,spender:n,value:t,isTukeMode:y}),[4,i([n,t])];case 1:return[2,s.sent()]}})}),function(e,t){return n.apply(this,arguments)});return(0,r.useEffect)(function(){f&&console.log("approve tx hash:",f),p&&(console.log("提交approve交易错误:"),(0,c.Vh)(p),(0,c.H)(p))},[f,p]),{approve:x,isPending:l,isConfirming:u,writeError:p,isConfirmed:m,hash:f,isTukeMode:y}}},54448:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var s=t(85893),a=t(67294),r=t(42130),i=t(67997),o=t(93778),l=t(85794),d=t(73591),c=t(7224),u=t(83494),m=t(42083),p=t(11010),f=t(72253),y=t(14932),x=t(91309),b=t(97582),h=t(39360),v=t(86501),N=t(56312),g=t(87536),j=t(45901),w=t(74193),T=t(21774),_=t(27245),k=t(88659),C=t(23432),I=t(91529),M=t(99958),Z=t(933),A=t(64777),P=t(44576),E=function(e){var n,t,i=e.tokenBalance,c=(0,r.m)().address;(0,h.x)();var u=((0,a.useContext)(o.M)||{}).token,E=(0,x._)((0,a.useState)(!1),2),B=E[0],F=E[1],S=(0,l.yA)(null==u?void 0:u.address),R=S.approve,z=S.isPending,D=S.isConfirming,V=S.isConfirmed,G=S.writeError,J=(0,Z.aE)(),L=J.stakeToken,W=J.isPending,H=J.isConfirming,O=J.isConfirmed,X=J.writeError,Q=(0,Z.L)(null==u?void 0:u.address,c),Y=Q.promisedWaitingPhases,$=Q.isPending,q=Q.error,U=(0,l.yG)(null==u?void 0:u.address,c,"0xb0d291C3B036860c8D5E2C681bFa391F787b26Cb"),K=U.allowance,ee=U.isPending,en=U.error,et=U.refetch,es=(0,a.useRef)(null),ea=(0,a.useRef)(ee);(0,a.useEffect)(function(){if(ea.current&&!ee){var e;null===(e=es.current)||void 0===e||e.blur()}ea.current=ee},[ee]);var er=Number("30")||1,ei=Number("120")||2,eo=(0,g.cI)({resolver:(0,N.F)(j.Ry({stakeTokenAmount:j.Z_().refine(function(e){return""!==e.trim()},{message:"请输入质押数量"}).refine(function(e){return Number(e)>0},{message:"质押代币数不能为0"}).refine(function(e){return(0,I.vz)(e)<=i},{message:"质押代币数不能大于持有代币数"}),releasePeriod:j.Z_().min(1,"请选择解锁期")})),defaultValues:{stakeTokenAmount:"",releasePeriod:""},mode:"onChange"}),el=(n=(0,p._)(function(e){var n;return(0,b.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,R("0xb0d291C3B036860c8D5E2C681bFa391F787b26Cb",(0,I.vz)(e.stakeTokenAmount))];case 1:return t.sent(),[3,3];case 2:return console.error("Approve failed",n=t.sent()),eu(n,"token"),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)});(0,a.useEffect)(function(){V&&(F(!0),v.Am.success("授权".concat(null==u?void 0:u.symbol,"成功")),et())},[V,null==u?void 0:u.symbol,et]);var ed=(t=(0,p._)(function(e){var n;return(0,b.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,L(null==u?void 0:u.address,(0,I.vz)(e.stakeTokenAmount),BigInt(e.releasePeriod),c)];case 1:return t.sent(),[3,3];case 2:return console.error("Stake failed",n=t.sent()),eu(n,"stake"),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)});(0,a.useEffect)(function(){O&&(v.Am.success("质押成功"),eo.reset(),setTimeout(function(){window.location.href="".concat("/interface","/gov?symbol=").concat(null==u?void 0:u.symbol)},2e3))},[O,eo,null==u?void 0:u.symbol]);var ec=eo.watch("stakeTokenAmount");(0,a.useEffect)(function(){var e=BigInt(0);try{e=(0,I.vz)(ec||"0")}catch(n){e=BigInt(0)}e>BigInt(0)&&K&&K>BigInt(0)&&K>=e?F(!0):F(!1)},[ec,K,ee]);var eu=(0,d.S)().handleContractError;return((0,a.useEffect)(function(){X&&eu(X,"stake"),G&&eu(G,"token"),en&&eu(en,"token"),q&&eu(q,"stake")},[X,G,en,q,eu]),$)?(0,s.jsx)("div",{className:"w-full flex flex-col items-center pt-0 p-6",children:(0,s.jsx)(m.Z,{})}):(0,s.jsxs)("div",{className:"w-full flex flex-col items-center pt-0 p-6",children:[(0,s.jsx)("div",{className:"w-full text-left mb-4",children:(0,s.jsx)(A.Z,{title:"质押增加治理收益"})}),(0,s.jsx)(w.l0,(0,y._)((0,f._)({},eo),{children:(0,s.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"w-full max-w-md space-y-4",children:[(0,s.jsx)(w.Wi,{control:eo.control,name:"stakeTokenAmount",render:function(e){var n=e.field;return(0,s.jsxs)(w.xJ,{children:[(0,s.jsx)(w.lX,{className:"text-sm",children:"质押数："}),(0,s.jsx)(w.NI,{children:(0,s.jsx)(T.I,(0,f._)({type:"number",placeholder:"输入 ".concat(null==u?void 0:u.symbol," 数量"),className:"!ring-secondary-foreground"},n))}),(0,s.jsxs)(w.pf,{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{children:["持有 ",(0,s.jsx)("span",{className:"mr-2",children:(0,I.LH)(i)}),null==u?void 0:u.symbol]}),(0,s.jsx)(_.z,{variant:"link",size:"sm",type:"button",onClick:function(){eo.setValue("stakeTokenAmount",(0,I.bM)(i||BigInt(0)))},disabled:i<=BigInt(0),className:"text-secondary mr-2",children:"全部"})]}),(0,s.jsx)(w.zG,{})]})}}),(0,s.jsx)(w.Wi,{control:eo.control,name:"releasePeriod",render:function(e){var n=e.field;return(0,s.jsxs)(w.xJ,{children:[(0,s.jsx)(w.lX,{children:"解锁期："}),(0,s.jsx)(w.NI,{children:(0,s.jsxs)(k.Ph,{onValueChange:function(e){return n.onChange(e)},value:n.value,children:[(0,s.jsx)(k.i4,{className:"w-full !ring-secondary-foreground",children:(0,s.jsx)(k.ki,{placeholder:"选择解锁期长度"})}),(0,s.jsx)(k.Bw,{children:Array.from({length:ei-er+1},function(e,n){return n+er}).filter(function(e){return e>=Y}).map(function(e){return(0,s.jsx)(k.Ql,{value:String(e),children:(0,M.Cn)(e)},e)})})]})}),(0,s.jsx)(w.pf,{children:"提示：取消质押后，需等待解锁期过后才能取回代币"}),(0,s.jsx)(w.zG,{})]})}}),(0,s.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,s.jsx)(_.z,{ref:es,className:"w-1/2",disabled:ee||z||D||B,onClick:function(){return eo.handleSubmit(el)()},children:ee?(0,s.jsx)(C.Z,{className:"animate-spin h-4 w-4"}):z?"1.授权中...":D?"1.确认中...":B?"1.".concat(null==u?void 0:u.symbol,"已授权"):"1.授权".concat(null==u?void 0:u.symbol)}),(0,s.jsx)(_.z,{className:"w-1/2",disabled:!B||W||H||O,onClick:function(){return eo.handleSubmit(ed)()},children:W?"2.质押中...":H?"2.确认中...":O?"2.已质押":"2.质押"})]})]})})),(0,s.jsx)(P.Z,{isLoading:z||D||W||H,text:z||W?"提交交易...":"确认交易..."})]})},B=t(77156),F=t(27460),S=t(53696);function R(){var e=((0,a.useContext)(o.M)||{}).token,n=(0,r.m)().address,t=(0,B.hS)((null==e?void 0:e.stTokenAddress)||"",n||"0x0000000000000000000000000000000000000000"),i=t.balance,l=t.isPending,c=t.error,u=(0,d.S)().handleContractError;return((0,a.useEffect)(function(){c&&u(c,"token")},[c]),null==e?void 0:e.stTokenAddress)?(0,s.jsx)("div",{className:"px-4 pt-0 pb-6",children:(0,s.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"mr-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"font-bold text-2xl mr-2 font-mono",children:["st",e.symbol]}),(0,s.jsx)(F.Z,{address:e.stTokenAddress}),(0,s.jsx)(S.Z,{tokenAddress:e.stTokenAddress,tokenSymbol:e.symbol||"",tokenDecimals:e.decimals||0})]})})}),(0,s.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,s.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"我持有:"}),(0,s.jsx)("span",{className:"text-sm text-secondary",children:l?(0,s.jsx)(m.Z,{}):(0,I.LH)(i||BigInt(0))})]})]})}):(0,s.jsx)(m.Z,{})}var z=function(){var e=((0,a.useContext)(o.M)||{}).token,n=(0,r.m)().address,t=(0,l.hS)(null==e?void 0:e.address,n).balance,p=(0,c.tT)(null==e?void 0:e.slTokenAddress),f=p.tokenAmount,y=p.isPending,x=p.error,b=(0,d.S)().handleContractError;return(0,a.useEffect)(function(){x&&b(x,"slToken")},[x]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{title:"质押代币"}),(0,s.jsxs)("main",{className:"flex-grow",children:[y&&(0,s.jsx)(m.Z,{}),!y&&!f&&(0,s.jsx)("div",{className:"flex justify-center items-center mt-10",children:"需要先质押流动性LP，才可以质押代币"}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R,{}),(0,s.jsx)(E,{tokenBalance:t||BigInt(0)})]}),(0,s.jsx)("div",{className:"flex flex-col w-full p-4",children:(0,s.jsxs)("div",{className:"bg-blue-50/30 border-l-4 border-l-blue-50 rounded-r-lg p-4 mb-8 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-base font-bold text-blue-800 pb-2",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4"}),"提示"]}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理激励："}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"1、当轮所得治理激励 = 验证激励 + 加速激励"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"2、质押代币可获得 加速激励"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"3、单个地址的验证激励：当轮治理总激励 * 50% * 当轮该地址参与验证的治理票数 / 当轮参与验证的治理票总数"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"4、单个地址的加速激励：当轮治理总激励 * 50% * 该地址加速质押代币数量 / 当轮所有参与验证地址的加速质押代币总数"}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"5、溢出：单个地址的加速激励 超过验证激励 2 倍以上的部分，为溢出激励，自动销毁，归入未来总激励"})]})})]})]})}}},function(e){e.O(0,[8501,4463,721,246,5771,3494,3591,2494,7224,2888,9774,179],function(){return e(e.s=94163)}),_N_E=e.O()}]);