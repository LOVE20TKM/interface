try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="31cd3ebe-56f9-41f9-a273-6de1bfdae775",e._sentryDebugIdIdentifier="sentry-dbid-31cd3ebe-56f9-41f9-a273-6de1bfdae775")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8898],{5617:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake/stakelp",function(){return t(54221)}])},34680:function(e,n,t){"use strict";t.d(n,{Ol:function(){return c},SZ:function(){return u},Zb:function(){return l},aY:function(){return m},eW:function(){return f},ll:function(){return d}});var s=t(72253),a=t(47702),r=t(85893),i=t(67294),o=t(40108),l=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},i))});l.displayName="Card";var c=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t)},i))});c.displayName="CardHeader";var d=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t)},i))});d.displayName="CardTitle";var u=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("text-sm text-muted-foreground",t)},i))});u.displayName="CardDescription";var m=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("p-6 pt-0",t)},i))});m.displayName="CardContent";var f=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("flex items-center p-6 pt-0",t)},i))});f.displayName="CardFooter"},35810:function(e,n,t){"use strict";t.d(n,{$N:function(){return v},Be:function(){return g},Vq:function(){return u},cN:function(){return y},cZ:function(){return x},fK:function(){return h},hg:function(){return m}});var s=t(72253),a=t(14932),r=t(47702),i=t(85893),o=t(67294),l=t(12854),c=t(62190),d=t(40108),u=l.fC,m=l.xz,f=l.h_;l.x8;var p=o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.aV,(0,s._)({ref:n,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},a))});p.displayName=l.aV.displayName;var x=o.forwardRef(function(e,n){var t=e.className,o=e.children,u=(0,r._)(e,["className","children"]);return(0,i.jsxs)(f,{children:[(0,i.jsx)(p,{}),(0,i.jsxs)(l.VY,(0,a._)((0,s._)({ref:n,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},u),{children:[o,(0,i.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(c.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});x.displayName=l.VY.displayName;var h=function(e){var n=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,s._)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n)},t))};h.displayName="DialogHeader";var y=function(e){var n=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,s._)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},t))};y.displayName="DialogFooter";var v=o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.Dx,(0,s._)({ref:n,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t)},a))});v.displayName=l.Dx.displayName;var g=o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.dk,(0,s._)({ref:n,className:(0,d.cn)("text-sm text-muted-foreground",t)},a))});g.displayName=l.dk.displayName},74193:function(e,n,t){"use strict";t.d(n,{NI:function(){return N},Wi:function(){return h},l0:function(){return p},lX:function(){return b},pf:function(){return j},xJ:function(){return g},zG:function(){return k}});var s=t(34788),a=t(12796),r=t(72253),i=t(14932),o=t(47702),l=t(85893),c=t(67294),d=t(88426),u=t(87536),m=t(40108),f=t(94193),p=u.RV,x=c.createContext({}),h=function(e){var n=(0,s._)({},(0,a._)(e));return(0,l.jsx)(x.Provider,{value:{name:n.name},children:(0,l.jsx)(u.Qr,(0,r._)({},n))})},y=function(){var e=c.useContext(x),n=c.useContext(v),t=(0,u.Gc)(),s=t.getFieldState,a=t.formState,i=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");var o=n.id;return(0,r._)({id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},i)},v=c.createContext({}),g=c.forwardRef(function(e,n){var t=e.className,s=(0,o._)(e,["className"]),a=c.useId();return(0,l.jsx)(v.Provider,{value:{id:a},children:(0,l.jsx)("div",(0,r._)({ref:n,className:(0,m.cn)("space-y-2",t)},s))})});g.displayName="FormItem";var b=c.forwardRef(function(e,n){var t=e.className,s=(0,o._)(e,["className"]),a=y(),i=a.error,c=a.formItemId;return(0,l.jsx)(f._,(0,r._)({ref:n,className:(0,m.cn)(i&&"text-destructive",t),htmlFor:c},s))});b.displayName="FormLabel";var N=c.forwardRef(function(e,n){var t=(0,s._)({},(0,a._)(e)),i=y(),o=i.error,c=i.formItemId,u=i.formDescriptionId,m=i.formMessageId;return(0,l.jsx)(d.g7,(0,r._)({ref:n,id:c,"aria-describedby":o?"".concat(u," ").concat(m):"".concat(u),"aria-invalid":!!o},t))});N.displayName="FormControl";var j=c.forwardRef(function(e,n){var t=e.className,s=(0,o._)(e,["className"]),a=y().formDescriptionId;return(0,l.jsx)("p",(0,r._)({ref:n,id:a,className:(0,m.cn)("text-sm text-muted-foreground",t)},s))});j.displayName="FormDescription";var k=c.forwardRef(function(e,n){var t=e.className,s=e.children,a=(0,o._)(e,["className","children"]),c=y(),d=c.error,u=c.formMessageId,f=d?String(null==d?void 0:d.message):s;return f?(0,l.jsx)("p",(0,i._)((0,r._)({ref:n,id:u,className:(0,m.cn)("text-sm font-medium text-destructive",t)},a),{children:f})):null});k.displayName="FormMessage"},94193:function(e,n,t){"use strict";t.d(n,{_:function(){return u}});var s=t(72253),a=t(47702),r=t(85893),i=t(67294),o=t(49102),l=t(12003),c=t(40108),d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)(o.f,(0,s._)({ref:n,className:(0,c.cn)(d(),t)},i))});u.displayName=o.f.displayName},88659:function(e,n,t){"use strict";t.d(n,{Bw:function(){return v},Ph:function(){return f},Ql:function(){return g},i4:function(){return x},ki:function(){return p}});var s=t(72253),a=t(14932),r=t(47702),i=t(85893),o=t(67294),l=t(76405),c=t(42171),d=t(15432),u=t(78865),m=t(40108),f=l.fC;l.ZA;var p=l.B4,x=o.forwardRef(function(e,n){var t=e.className,o=e.children,d=(0,r._)(e,["className","children"]);return(0,i.jsxs)(l.xz,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},d),{children:[o,(0,i.jsx)(l.JO,{asChild:!0,children:(0,i.jsx)(c.Z,{className:"h-4 w-4 opacity-50"})})]}))});x.displayName=l.xz.displayName;var h=o.forwardRef(function(e,n){var t=e.className,o=(0,r._)(e,["className"]);return(0,i.jsx)(l.u_,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t)},o),{children:(0,i.jsx)(d.Z,{className:"h-4 w-4"})}))});h.displayName=l.u_.displayName;var y=o.forwardRef(function(e,n){var t=e.className,o=(0,r._)(e,["className"]);return(0,i.jsx)(l.$G,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t)},o),{children:(0,i.jsx)(c.Z,{className:"h-4 w-4"})}))});y.displayName=l.$G.displayName;var v=o.forwardRef(function(e,n){var t=e.className,o=e.children,c=e.position,d=void 0===c?"popper":c,u=(0,r._)(e,["className","children","position"]);return(0,i.jsx)(l.h_,{children:(0,i.jsxs)(l.VY,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:d},u),{children:[(0,i.jsx)(h,{}),(0,i.jsx)(l.l_,{className:(0,m.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,i.jsx)(y,{})]}))})});v.displayName=l.VY.displayName,o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.__,(0,s._)({ref:n,className:(0,m.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t)},a))}).displayName=l.__.displayName;var g=o.forwardRef(function(e,n){var t=e.className,o=e.children,c=(0,r._)(e,["className","children"]);return(0,i.jsxs)(l.ck,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},c),{children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(l.wU,{children:(0,i.jsx)(u.Z,{className:"h-4 w-4"})})}),(0,i.jsx)(l.eT,{children:o})]}))});g.displayName=l.ck.displayName,o.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.Z0,(0,s._)({ref:n,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",t)},a))}).displayName=l.Z0.displayName},13761:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},67997:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},55264:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},46611:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},53696:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var s=t(11010),a=t(91309),r=t(97582),i=t(85893),o=t(67294),l=t(23432),c=(0,t(31134).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),d=t(42130),u=t(30246),m=t(86501),f=t(55612);function p(e){var n,t=e.tokenAddress,p=e.tokenSymbol,x=e.tokenDecimals,h=e.tokenImage,y=(0,a._)((0,o.useState)(!1),2),v=y[0],g=y[1],b=(0,d.m)().isConnected,N=(0,u.p)().data,j=(n=(0,s._)(function(){return(0,r.Jh)(this,function(e){switch(e.label){case 0:if(!b)return alert("请先连接你的钱包"),[2];g(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!N)return alert("无法获取钱包客户端"),[2];return[4,N.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:p,decimals:x,image:h}}})];case 2:return e.sent()?m.ZP.success("代币已成功添加到 MetaMask 钱包"):m.ZP.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),m.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return g(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return p.length>11||(0,f.ON)()?null:(0,i.jsx)("button",{onClick:j,disabled:v,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:v?(0,i.jsx)(l.Z,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(c,{className:"h-4 w-4 text-greyscale-500"})})}},27460:function(e,n,t){"use strict";var s=t(91309),a=t(85893),r=t(67294),i=t(74855),o=t(78865),l=t(18289),c=t(86501),d=t(26858);n.Z=function(e){var n=e.address,t=e.word,u=e.showCopyButton,m=e.showCopyLast4Button,f=e.showAddress,p=void 0===f||f,x=e.colorClassName,h=void 0===x?"":x,y=e.colorClassName2,v=void 0===y?"":y,g=(0,s._)((0,r.useState)(!1),2),b=g[0],N=g[1],j=(0,s._)((0,r.useState)(!1),2),k=j[0],w=j[1];(0,r.useEffect)(function(){N(!1),w(!1)},[n]);var _=function(e){e.preventDefault(),e.stopPropagation()};return(0,a.jsxs)("span",{className:"inline-flex items-center space-x-1",children:[t&&(0,a.jsx)("span",{className:"text-xs",children:t}),p&&!v&&(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:(0,d.Vu)(n)}),p&&v&&(0,a.jsxs)("span",{className:"text-[0px]",children:[(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,a.jsx)("span",{className:"font-mono text-xs ".concat(v),children:"".concat(n.substring(n.length-4))})]}),(void 0===u||u)&&(0,a.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?(N(!0),setTimeout(function(){return N(!1)},2e3)):c.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:_,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:b?(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")}):(0,a.jsx)(l.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")})})}),void 0!==m&&m&&(0,a.jsx)(i.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(w(!0),c.ZP.success("已复制后4位"),setTimeout(function(){return w(!1)},2e3)):c.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:_,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:k?(0,a.jsx)("span",{className:"".concat(null!=h?h:"text-greyscale-500"),children:"已复制"}):(0,a.jsx)("span",{className:"".concat(null!=h?h:"text-greyscale-500"),children:"后4位"})})})]})}},42083:function(e,n,t){"use strict";var s=t(85893),a=t(23432);n.Z=function(){return(0,s.jsx)(a.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},12956:function(e,n,t){"use strict";t.d(n,{E:function(){return d},X:function(){return u}});var s=t(11010),a=t(97582),r=t(67294),i=t(37474),o=t(84689),l=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"WETHAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"contributeFirstTokenWithETH",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"init",inputs:[{name:"WETHAddress_",type:"address",internalType:"address"},{name:"launchAddress_",type:"address",internalType:"address"},{name:"stakeAddress_",type:"address",internalType:"address"},{name:"submitAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"joinAddress_",type:"address",internalType:"address"},{name:"verifyAddress_",type:"address",internalType:"address"},{name:"mintAddress_",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"joinAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"launchAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"mintAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakeLiquidity",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmount",type:"uint256",internalType:"uint256"},{name:"parentTokenAmount",type:"uint256",internalType:"uint256"},{name:"tokenAmountMin",type:"uint256",internalType:"uint256"},{name:"parentTokenAmountMin",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"},{name:"slAmountAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"verifyAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"ContributeFirstTokenWithETH",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLiquidity",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmountDesired",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountDesired",type:"uint256",indexed:!1,internalType:"uint256"},{name:"tokenAmountReal",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountReal",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],c="0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE";function d(){var e,n=(0,i.e9)(l,c,"contributeFirstTokenWithETH"),t=n.execute,d=n.isPending,u=n.isConfirming,m=n.isConfirmed,f=n.error,p=n.hash,x=n.isTukeMode,h=(e=(0,s._)(function(e,n,s){return(0,a.Jh)(this,function(a){switch(a.label){case 0:return console.log("提交contributeWithETH交易:",{tokenAddress:e,to:n,ethAmount:s,isTukeMode:x}),[4,t([e,n],s)];case 1:return[2,a.sent()]}})}),function(n,t,s){return e.apply(this,arguments)});return(0,r.useEffect)(function(){p&&console.log("contributeFirstTokenWithETH tx hash:",p),f&&(console.log("提交contributeWithETH交易错误:"),(0,o.Vh)(f),(0,o.H)(f))},[p,f]),{contribute:h,isPending:d,isConfirming:u,writeError:f,isConfirmed:m,hash:p,isTukeMode:x}}function u(){var e,n=(0,i.e9)(l,c,"stakeLiquidity"),t=n.execute,d=n.isPending,u=n.isConfirming,m=n.isConfirmed,f=n.error,p=n.hash,x=n.isTukeMode,h=(e=(0,s._)(function(e,n,s,r,i,o,l){return(0,a.Jh)(this,function(a){switch(a.label){case 0:return console.log("提交stakeLiquidity交易:",{tokenAddress:e,tokenAmount:n,parentTokenAmount:s,tokenAmountMin:r,parentTokenAmountMin:i,promisedWaitingPhases:o,to:l,isTukeMode:x}),[4,t([e,n,s,r,i,o,l])];case 1:return[2,a.sent()]}})}),function(n,t,s,a,r,i,o){return e.apply(this,arguments)});return(0,r.useEffect)(function(){p&&console.log("stakeLiquidity tx hash:",p),f&&(console.log("提交stakeLiquidity交易错误:"),(0,o.Vh)(f),(0,o.H)(f))},[p,f]),{stakeLiquidity:h,isPending:d,isConfirming:u,isConfirmed:m,writeError:f,hash:p,isTukeMode:x}}},99958:function(e,n,t){"use strict";t.d(n,{Cn:function(){return o},IS:function(){return r},Tn:function(){return i},iF:function(){return l}});var s=t(26858),a=t(37742),r=function(e,n,t){if(!e||!n)return"0%";var r=31536e6/Number("2868"),i=(0,a.Zu)("30126");if(0===r||i===BigInt(0))return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME_MS 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var o=(n*BigInt(2)||BigInt(0))+(t||BigInt(0));if(o===BigInt(0))return"0%";var l=Number(e)/Number(o)/(Number(i)/r)*100;return(0,s.rl)(l)},i=function(e,n){if(!e||!n||n===BigInt(0))return"∞";var t=31536e6/Number("2868"),r=(0,a.Zu)("30126");if(0===t||r===BigInt(0))return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var i=Number(e)/Number(n)/(Number(r)/t)*100;return(0,s.rl)(i)},o=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Number("30126")||0,a=Number("2868")||0,r=e*s,i=Math.ceil(r*a/1e3);n=i>=86400?"".concat(Math.round(i/86400),"天"):i>=3600?"".concat(Math.ceil(i/3600),"小时"):"".concat(Math.ceil(i/60),"分钟");var o="".concat(r.toLocaleString(),"区块，约").concat(n);return t||(o="".concat(e,"个阶段（").concat(o,")")),o},l=function(e,n){if(!e)return BigInt(0);var t=BigInt(1e3)-(0,a.Zu)("1")-(0,a.Zu)("1");return BigInt(0),n<=BigInt(1)?e*(0,a.Zu)("1")/BigInt(1e3):e*t*(0,a.Zu)("1")/BigInt(1e6)}},54221:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var s=t(85893),a=t(83494),r=t(42130),i=t(67294),o=t(26858),l=t(73591),c=t(92180),d=t(93778),u=t(53696),m=t(27460),f=t(42083),p=function(e){var n=e.token,t=(0,r.m)().address,a=(0,i.useContext)(d.M)||{},p=a.token;a.setToken,a.clearToken;var x=n||p,h=(0,c.L)(null==x?void 0:x.address,t),y=h.slAmount,v=h.govVotes,g=h.isPending,b=h.error,N=(0,l.S)().handleContractError;return((0,i.useEffect)(function(){b&&N(b,"stake")},[b,N]),t)?!x||g?(0,s.jsx)(f.Z,{}):g||y?(0,s.jsx)("div",{className:"flex-col items-center px-4 py-2 mb-4",children:(0,s.jsxs)("div",{className:"stats bg-gray-100  w-full grid grid-cols-[1fr_2fr] divide-x-0 pt-4",children:[(0,s.jsxs)("div",{className:"stat place-items-center pt-0",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"我的治理票数"}),(0,s.jsx)("div",{className:"stat-value text-xl",children:g?(0,s.jsx)(f.Z,{}):(0,o.LH)(v||BigInt(0))})]}),(0,s.jsxs)("div",{className:"stat place-items-center pt-0 pl-1",children:[(0,s.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["流动性质押凭证SL代币",(0,s.jsx)(m.Z,{address:x.slTokenAddress,showAddress:!1}),(0,s.jsx)(u.Z,{tokenAddress:x.slTokenAddress,tokenSymbol:"sl"+x.symbol,tokenDecimals:x.decimals})]}),(0,s.jsx)("div",{className:"stat-value text-xl",children:g?(0,s.jsx)(f.Z,{}):(0,o.LH)(y||BigInt(0))})]})]})}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})},x=t(11010),h=t(12796),y=t(72253),v=t(14932),g=t(91309),b=t(97582),N=t(11163),j=t(86501),k=t(63448),w=t(56312),_=t(87536),T=t(67997),C=t(13761),I=t(46611),A=t(55264),B=t(41664),Z=t.n(B),E=t(27245),M=t(74193),S=t(88659),P=t(21774),z=t(34680),R=t(35810),V=t(99958),D=t(95049),F=t(85794),L=t(67516),W=t(20168),H=t(37541),q=t(37742),O="0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE",J=function(e){var n=e.account,t=e.tokenAddress,s=e.parentTokenAddress,a=(0,i.useMemo)(function(){return n&&t&&s?[{address:"0x1DC7e680D833fF3470A3280eE663b27BC56fc32c",abi:W.z,functionName:"tokenPairInfoWithAccount",args:[n,t]},{address:t,abi:H.O,functionName:"allowance",args:[n,O]},{address:s,abi:H.O,functionName:"allowance",args:[n,O]}]:[]},[n,t,s]),r=(0,L.N)({contracts:a,query:{enabled:!!n&&!!t&&!!s&&a.length>0}}),o=r.data,l=r.isPending,c=r.error;return(0,i.useMemo)(function(){if(!o||!n||!t||!s)return{pairInfo:void 0,allowanceToken:void 0,allowanceParentToken:void 0,isPending:l,error:c};var e=(0,g._)(o,3),a=e[0],r=e[1],i=e[2];return{pairInfo:null==a?void 0:a.result,allowanceToken:(null==r?void 0:r.result)?(0,q.Zu)(r.result):void 0,allowanceParentToken:(null==i?void 0:i.result)?(0,q.Zu)(i.result):void 0,isPending:l,error:c}},[o,n,t,s,l,c])},Y=t(12956),K=t(64777),$=t(44576),G=function(e){(0,h._)(e);var n,t,a,u,m=function(){j.Am.success("质押成功"),setTimeout(function(){window.location.href="".concat("/interface","/gov?symbol=").concat(null==L?void 0:L.symbol)},2e3)},p=(0,r.m)().address,B=(0,i.useContext)(d.M);if(!B)throw Error("TokenContext 必须在 TokenProvider 内使用");var L=B.token,W=B.setToken,H=B.clearToken,q=(0,D.V)().setError,O=(0,N.useRouter)().query.first,G=J({account:p,tokenAddress:null==L?void 0:L.address,parentTokenAddress:null==L?void 0:L.parentTokenAddress}),X=G.pairInfo,U=G.allowanceToken,Q=G.allowanceParentToken,ee=G.isPending,en=G.error,et=null!==(n=null==X?void 0:X.balanceOfToken)&&void 0!==n?n:BigInt(0),es=null!==(t=null==X?void 0:X.balanceOfParentToken)&&void 0!==t?t:BigInt(0),ea=X&&BigInt(X.pairReserveToken)>BigInt(0)&&BigInt(X.pairReserveParentToken)>BigInt(0),er=(0,g._)((0,i.useState)(!1),2),ei=er[0],eo=er[1],el=(0,c.VL)(null==L?void 0:L.address),ec=el.initialStakeRound,ed=el.isPending,eu=el.error,em=Number("30")||4,ef=Number("120")||12,ep=(0,_.cI)({resolver:(0,w.F)((a=es||BigInt(0),u=et||BigInt(0),k.Ry({parentToken:k.dj(function(e){if("string"!=typeof e)return e;var n=e.replace(/。/g,".");return n.startsWith(".")&&(n="0"+n),n},k.Z_().regex(/^\d+(\.\d{1,18})?$/,"请输入合法数值，最多支持18位小数").refine(function(e){var n=(0,o.vz)(e);return null!==n&&n>BigInt(0)},"质押父币数不能为 0").refine(function(e){var n=(0,o.vz)(e);return null!==n&&n<=a},"质押父币数不能超过当前持有")),stakeToken:k.dj(function(e){if("string"!=typeof e)return e;var n=e.replace(/。/g,".");return n.startsWith(".")&&(n="0"+n),n},k.Z_().regex(/^\d+(\.\d{1,18})?$/,"请输入合法数值，最多支持18位小数").refine(function(e){var n=(0,o.vz)(e);return null!==n&&n>BigInt(0)},"质押 token 数不能为 0").refine(function(e){var n=(0,o.vz)(e);return null!==n&&n<=u},"质押 token 数不能超过当前持有")),releasePeriod:k.Z_().min(1,"请选择解锁期")}))),defaultValues:{parentToken:"",stakeToken:"",releasePeriod:""},mode:"onChange"}),ex=(0,c.L)(null==L?void 0:L.address,p),eh=(ex.govVotes,ex.promisedWaitingPhases),ey=ex.isPending,ev=ex.error,eg=(0,g._)((0,i.useState)(!1),2),eb=eg[0],eN=eg[1],ej=(0,g._)((0,i.useState)(!1),2),ek=ej[0],ew=ej[1],e_=(0,F.yA)(null==L?void 0:L.address),eT=e_.approve,eC=e_.isPending,eI=e_.isConfirming,eA=e_.isConfirmed,eB=e_.writeError,eZ=(0,F.yA)(null==L?void 0:L.parentTokenAddress),eE=eZ.approve,eM=eZ.isPending,eS=eZ.isConfirming,eP=eZ.isConfirmed,ez=eZ.writeError;function eR(){return(eR=(0,x._)(function(e){var n;return(0,b.Jh)(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),null===(n=(0,o.vz)(e.stakeToken)))throw Error("无效的输入格式");return[4,eT("0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE",n)];case 1:return t.sent(),[3,3];case 2:return console.error("Token 授权失败",t.sent()),j.Am.error("token 授权失败，请检查输入格式"),[3,3];case 3:return[2]}})})).apply(this,arguments)}function eV(){return(eV=(0,x._)(function(e){var n;return(0,b.Jh)(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),null===(n=(0,o.vz)(e.parentToken)))throw Error("无效的输入格式");return[4,eE("0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE",n)];case 1:return t.sent(),[3,3];case 2:return console.error("父币授权失败",t.sent()),j.Am.error("父币授权失败，请检查输入格式"),[3,3];case 3:return[2]}})})).apply(this,arguments)}(0,i.useEffect)(function(){eA&&(eN(!0),j.Am.success("授权".concat(null==L?void 0:L.symbol,"成功")))},[eA]),(0,i.useEffect)(function(){eP&&(ew(!0),j.Am.success("授权".concat(null==L?void 0:L.parentTokenSymbol,"成功")))},[eP]);var eD=(0,g._)((0,i.useState)(!1),2),eF=eD[0],eL=eD[1],eW=(0,g._)((0,i.useState)(!1),2),eH=eW[0],eq=eW[1],eO=ep.watch("parentToken"),eJ=ep.watch("stakeToken"),eY=(0,o.vz)(eO),eK=(0,o.vz)(eJ);(0,i.useEffect)(function(){if(ea&&eF&&null!==eY&&eY>BigInt(0)){var e=eY*BigInt(X.pairReserveToken)/BigInt(X.pairReserveParentToken),n=Number((0,o.bM)(e)).toFixed(12).replace(/\.?0+$/,"");ep.setValue("stakeToken",n,{shouldValidate:!0}),eL(!1),eq(!1)}},[ea,eF,eY,X,ep]),(0,i.useEffect)(function(){if(ea&&eH&&null!==eK&&eK>BigInt(0)){var e=eK*BigInt(X.pairReserveParentToken)/BigInt(X.pairReserveToken),n=Number((0,o.bM)(e)).toFixed(12).replace(/\.?0+$/,"");ep.setValue("parentToken",n,{shouldValidate:!0}),eL(!1),eq(!1)}},[ea,eH,eK,X,ep]),(0,i.useEffect)(function(){eY>BigInt(0)&&Q&&Q>=eY?ew(!0):ew(!1)},[eY,Q]),(0,i.useEffect)(function(){eK>BigInt(0)&&U&&U>=eK?eN(!0):eN(!1)},[eK,U]);var e$=(0,Y.X)(),eG=e$.stakeLiquidity,eX=e$.isPending,eU=e$.isConfirming,eQ=e$.isConfirmed,e0=e$.writeError;function e1(){return(e1=(0,x._)(function(e){var n,t,s,a,r,i;return(0,b.Jh)(this,function(l){switch(l.label){case 0:if(!(eb&&ek))return j.Am.error("请先完成授权"),[2];if(n=(0,o.vz)(e.stakeToken),t=(0,o.vz)(e.parentToken),null===n||null===t)return j.Am.error("转换金额时出错，请检查输入格式"),[2];s=BigInt(Math.round(10*nt)),a=n*(BigInt(1e3)-s)/BigInt(1e3),r=t*(BigInt(1e3)-s)/BigInt(1e3),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,eG(null==L?void 0:L.address,n,t,a,r,BigInt(e.releasePeriod),p)];case 2:return l.sent(),[3,4];case 3:return console.error("Stake failed",i=l.sent()),e2(i,"stake"),[3,4];case 4:return[2]}})})).apply(this,arguments)}(0,i.useEffect)(function(){eQ&&((null==L?void 0:L.initialStakeRound)&&L.initialStakeRound>0?m():eo(!0))},[eQ]),(0,i.useEffect)(function(){ei&&!ed&&(ec||H(),m())},[ei,ed]),(0,i.useEffect)(function(){L&&0==L.initialStakeRound&&ec&&ec>0&&W((0,v._)((0,y._)({},L),{initialStakeRound:Number(ec)}))},[L,ec]);var e2=(0,l.S)().handleContractError;(0,i.useEffect)(function(){en&&e2(en,"token"),eB&&e2(eB,"stake"),ez&&e2(ez,"stake"),e0&&e2(e0,"stake"),eu&&e2(eu,"stake"),ev&&e2(ev,"stake")},[en,eB,ez,e0,eu,ev]);var e3=eC||eM,e4=eI||eS,e5=e3||e4||eb&&ek;(0,i.useEffect)(function(){!L||"true"!==O||ed||ec||q({name:"提示：",message:"新部署的代币，需先质押获取治理票，才能后续操作"})},[L,O,ed,ec]),(0,i.useEffect)(function(){ee||et||e5||!L||!L.symbol||q({name:"余额不足",message:"您当前".concat(L.symbol,"数量为0，请先获取").concat(L.symbol)}),ee||es||e5||!L||!L.parentTokenSymbol||q({name:"余额不足",message:"您当前".concat(L.parentTokenSymbol,"数量为0，请先获取").concat(L.parentTokenSymbol)})},[et,es,L,ee]);var e6=(0,i.useRef)(null),e7=(0,i.useRef)(eC);(0,i.useEffect)(function(){if(e7.current&&!eC){var e;null===(e=e6.current)||void 0===e||e.blur()}e7.current=eC},[eC]);var e8=(0,g._)((0,i.useState)(!1),2),e9=e8[0],ne=e8[1],nn=(0,g._)((0,i.useState)(2.5),2),nt=nn[0],ns=nn[1],na=(0,g._)((0,i.useState)(!1),2),nr=na[0],ni=na[1],no=(0,g._)((0,i.useState)(""),2),nl=no[0],nc=no[1];return!L||ey||ed?(0,s.jsx)(f.Z,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-white px-4",children:[(0,s.jsxs)("div",{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-full mx-auto space-y-4",children:[(0,s.jsx)("div",{className:"w-full flex justify-between items-center",children:(0,s.jsx)(K.Z,{title:"质押获取治理票："})}),(0,s.jsx)(M.l0,(0,v._)((0,y._)({},ep),{children:(0,s.jsxs)("form",{onSubmit:ep.handleSubmit(function(e){return e1.apply(this,arguments)}),className:"space-y-3",children:[(0,s.jsx)(z.Zb,{children:(0,s.jsx)(z.aY,{className:"p-3 md:p-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"第1步: 填写质押数量"}),(0,s.jsx)(Z(),{href:"/dex/swap",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:"获取代币"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsx)(M.Wi,{control:ep.control,name:"parentToken",render:function(e){var n=e.field;return(0,s.jsxs)(M.xJ,{children:[(0,s.jsx)(z.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,s.jsxs)(z.aY,{className:"py-4 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)(P.I,(0,v._)((0,y._)({type:"number",placeholder:"0"},n),{disabled:e5,onChange:function(e){n.onChange(e),eL(!0)},className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("div",{className:"bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors ",children:(0,s.jsx)("span",{className:"font-medium text-gray-800",children:null==L?void 0:L.parentTokenSymbol})})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[[25,50,75].map(function(e){return(0,s.jsxs)(E.z,{variant:"outline",size:"sm",type:"button",onClick:function(){var n=es*BigInt(e)/BigInt(100);ep.setValue("parentToken",(0,o.bM)(n),{shouldValidate:!0}),eL(!0)},disabled:e5||es<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,s.jsx)(E.z,{variant:"outline",size:"sm",type:"button",onClick:function(){ep.setValue("parentToken",(0,o.bM)(es||BigInt(0)),{shouldValidate:!0}),eL(!0)},disabled:es<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,o.LH)(es)," ",null==L?void 0:L.parentTokenSymbol]})]})]})}),(0,s.jsx)(M.zG,{})]})}}),(0,s.jsx)(M.Wi,{control:ep.control,name:"stakeToken",render:function(e){var n=e.field;return(0,s.jsxs)(M.xJ,{children:[(0,s.jsx)(z.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,s.jsxs)(z.aY,{className:"py-4 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)(P.I,(0,v._)((0,y._)({type:"number",placeholder:"0"},n),{disabled:et<=BigInt(0),onChange:function(e){n.onChange(e),eq(!0)},className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("div",{className:"bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors",children:(0,s.jsx)("span",{className:"font-medium text-gray-800",children:null==L?void 0:L.symbol})})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[[25,50,75].map(function(e){return(0,s.jsxs)(E.z,{variant:"outline",size:"sm",type:"button",onClick:function(){var n=et*BigInt(e)/BigInt(100);ep.setValue("stakeToken",(0,o.bM)(n),{shouldValidate:!0}),eq(!0)},disabled:et<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,s.jsx)(E.z,{variant:"outline",size:"sm",type:"button",onClick:function(){ep.setValue("stakeToken",(0,o.bM)(et||BigInt(0)),{shouldValidate:!0}),eq(!0)},disabled:et<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,o.LH)(et)," ",null==L?void 0:L.symbol]})]})]})}),(0,s.jsx)(M.zG,{})]})}})]}),ea&&(0,s.jsxs)("div",{className:"space-y-1 text-sm mt-2",children:[(0,s.jsxs)("div",{className:"text-gray-600 flex items-center gap-1",children:[(0,s.jsx)(T.Z,{className:"w-4 h-4"}),"质押比例按当前价格计算："]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"text-gray-600",children:e9?(0,s.jsxs)(s.Fragment,{children:["1 ",null==L?void 0:L.symbol," ="," ",(0,o.LH)(BigInt(X.pairReserveParentToken)*BigInt(1e18)/BigInt(X.pairReserveToken))," ",null==L?void 0:L.parentTokenSymbol]}):(0,s.jsxs)(s.Fragment,{children:["1 ",null==L?void 0:L.parentTokenSymbol," ="," ",(0,o.LH)(BigInt(X.pairReserveToken)*BigInt(1e18)/BigInt(X.pairReserveParentToken))," ",null==L?void 0:L.symbol]})}),(0,s.jsx)(E.z,{type:"button",variant:"ghost",size:"sm",onClick:function(){return ne(!e9)},className:"h-6 w-6 p-0 hover:bg-gray-100 transition-colors",title:"切换比例显示",children:(0,s.jsx)(C.Z,{className:"h-3 w-3 text-gray-500"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm mt-2",children:[(0,s.jsxs)("div",{className:"text-gray-600 flex items-center gap-1 mr-2",children:[(0,s.jsx)(I.Z,{className:"w-4 h-4"}),"滑点上限：",nt,"%"]}),(0,s.jsxs)(R.Vq,{open:nr,onOpenChange:ni,children:[(0,s.jsx)(R.hg,{asChild:!0,children:(0,s.jsxs)(E.z,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-gray-100 transition-colors",title:"设置滑点",children:[(0,s.jsx)(A.Z,{className:"h-3 w-3"}),"设置"]})}),(0,s.jsxs)(R.cZ,{className:"sm:max-w-md",children:[(0,s.jsx)(R.fK,{children:(0,s.jsx)(R.$N,{children:"滑点设置"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"选择滑点"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[.5,1,2.5].map(function(e){return(0,s.jsxs)(E.z,{type:"button",variant:nt===e?"default":"outline",size:"sm",onClick:function(){ns(e),nc(""),ni(!1)},className:"text-xs",children:[e,"%"]},e)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"自定义滑点"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(P.I,{type:"number",placeholder:"输入滑点百分比",value:nl,onChange:function(e){return nc(e.target.value)},className:"flex-1",min:"0",max:"50",step:"0.1"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),nl&&(0,s.jsx)(E.z,{type:"button",size:"sm",onClick:function(){var e=parseFloat(nl);e>=0&&e<=50?(ns(e),ni(!1)):j.Am.error("滑点应在 0-50% 之间")},className:"w-full",children:"应用自定义滑点"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,s.jsx)("p",{children:"• 滑点是指实际执行价格与预期价格之间的差异"}),(0,s.jsx)("p",{children:"• 较低的滑点可能导致交易失败，较高的滑点可能导致不利的价格"}),(0,s.jsx)("p",{children:"• 建议设置在 0.5% - 5% 之间"})]})]})]})]})]})]})})}),(0,s.jsx)(z.Zb,{children:(0,s.jsx)(z.aY,{className:"p-3 md:p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"第2步: 选择解锁期"})}),(0,s.jsx)(M.Wi,{control:ep.control,name:"releasePeriod",render:function(e){var n=e.field;return(0,s.jsxs)(M.xJ,{children:[(0,s.jsx)(M.NI,{children:(0,s.jsxs)(S.Ph,{onValueChange:function(e){return n.onChange(e)},value:n.value,children:[(0,s.jsx)(S.i4,{className:"w-full !ring-secondary-foreground",children:(0,s.jsx)(S.ki,{placeholder:"选择解锁期"})}),(0,s.jsx)(S.Bw,{children:Array.from({length:ef-em+1},function(e,n){return n+em}).filter(function(e){return e>=eh}).map(function(e){return(0,s.jsx)(S.Ql,{value:String(e),children:(0,V.Cn)(e)},e)})})]})}),(0,s.jsx)(M.pf,{children:'"解锁期" 是指，取消质押后多久才能取回代币 (注意：是从取消质押的阶段结束时开始计算)'}),(0,s.jsx)(M.zG,{})]})}})]})})}),(0,s.jsx)(z.Zb,{children:(0,s.jsx)(z.aY,{className:"p-3 md:p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"第3步: 授权并存入"})}),(0,s.jsxs)("div",{className:"flex justify-center lg:justify-start space-x-2",children:[(0,s.jsx)(E.z,{type:"button",className:"flex-1 lg:w-auto lg:px-4",ref:e6,disabled:eC||eI||eb,onClick:ep.handleSubmit(function(e){return eR.apply(this,arguments)}),children:eC?"1.提交中...":eI?"1.确认中...":eb?"1.".concat(null==L?void 0:L.symbol,"已授权"):"1.授权".concat(null==L?void 0:L.symbol)}),(0,s.jsx)(E.z,{type:"button",className:"flex-1 lg:w-auto lg:px-4",disabled:!eb||eM||eS||ek,onClick:ep.handleSubmit(function(e){return eV.apply(this,arguments)}),children:eM?"2.提交中...":eS?"2.确认中...":ek?"2.".concat(null==L?void 0:L.parentTokenSymbol,"已授权"):"2.授权".concat(null==L?void 0:L.parentTokenSymbol)}),(0,s.jsx)(E.z,{type:"submit",className:"flex-1 lg:w-auto lg:px-4",disabled:!eb||!ek||eX||eU||eQ,children:eX?"3.提交中...":eU?"3.确认中...":eQ?"3.已提交":"3.提交"})]})]})})})]})}))]}),(0,s.jsx)($.Z,{isLoading:e3||e4||eX||eU||ed&&ei,text:e3||eX?"提交交易...":"确认交易..."})]})})},X=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{title:"质押LP"}),(0,s.jsxs)("main",{className:"flex-grow",children:[(0,s.jsx)(p,{}),(0,s.jsx)(G,{}),(0,s.jsx)("div",{className:"flex flex-col w-full p-4",children:(0,s.jsxs)("div",{className:"bg-blue-50/30 border-l-4 border-l-blue-50 rounded-r-lg p-4 mb-8 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-base font-bold text-blue-800 pb-2",children:[(0,s.jsx)(T.Z,{className:"w-4 h-4"}),"提示"]}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"SL代币："}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"代币对儿由质押合约注入 Uniswap V2 流动性池，并铸造SL代币作为流动性质押凭证"}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理票："}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"所得治理票数 = SL代币数量 * 解锁期阶段数"}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理激励："}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"1、当轮所得治理激励 = 验证激励 + 加速激励"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"2、单个地址的验证激励：当轮治理总激励 * 50% * 当轮该地址参与验证的治理票数 / 当轮参与验证的治理票总数"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"3、单个地址的加速激励：当轮治理总激励 * 50% * 该地址加速质押代币数量 / 当轮所有参与验证地址的加速质押代币总数"}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"4、溢出：单个地址的加速激励 超过验证激励 2 倍以上的部分，为溢出激励，自动销毁，归入未来总激励"})]})})]})]})}},67516:function(e,n,t){"use strict";t.d(n,{N:function(){return u}});var s=t(72253),a=t(14932),r=t(97995),i=t(36100),o=t(67294),l=t(95159),c=t(39360),d=t(78942);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.contracts,u=void 0===t?[]:t,m=n.query,f=void 0===m?{}:m,p=(0,d.Z)(n),x=(0,c.x)({config:p}),h=function(e,n={}){return{async queryFn({queryKey:t}){let s=[],a=t[1].contracts.length;for(let e=0;e<a;e++){let a=t[1].contracts[e],r=(n.contracts?.[e]).abi;s.push({...a,abi:r})}let{scopeKey:i,...o}=t[1];return(0,r.J)(e,{...o,contracts:s})},queryKey:function(e={}){let n=[];for(let t of e.contracts??[]){let{abi:s,...a}=t;n.push({...a,chainId:a.chainId??e.chainId})}return["readContracts",(0,i.OP)({...e,contracts:n})]}(n)}}(p,(0,a._)((0,s._)({},n),{chainId:x})),y=(0,o.useMemo)(function(){var e,n=!1,t=!0,s=!1,a=void 0;try{for(var r,i=u[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,l=o.abi,c=o.address,d=o.functionName;if(!l||!c||!d){n=!1;break}n=!0}}catch(e){s=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}return!!(n&&(null===(e=f.enabled)||void 0===e||e))},[u,f.enabled]);return(0,l.aM)((0,a._)((0,s._)({},h,f),{enabled:y,structuralSharing:null!==(e=f.structuralSharing)&&void 0!==e?e:i.if}))}}},function(e){e.O(0,[8501,4463,1617,246,5771,3494,3591,6127,2888,9774,179],function(){return e(e.s=5617)}),_N_E=e.O()}]);