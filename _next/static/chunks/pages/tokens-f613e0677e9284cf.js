(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{37985:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return r(92929)}])},34680:function(e,n,r){"use strict";r.d(n,{Ol:function(){return a},SZ:function(){return l},Zb:function(){return u},aY:function(){return o},eW:function(){return d},ll:function(){return i}});var t=r(85893),s=r(67294),c=r(40108);let u=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:n,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});u.displayName="Card";let a=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:n,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",r),...s})});a.displayName="CardHeader";let i=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:n,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let l=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:n,className:(0,c.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let o=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:n,className:(0,c.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent";let d=s.forwardRef((e,n)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:n,className:(0,c.cn)("flex items-center p-6 pt-0",r),...s})});d.displayName="CardFooter"},4307:function(e,n,r){"use strict";r.d(n,{Z:function(){return t}});let t=(0,r(31134).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},68655:function(e,n,r){"use strict";r.d(n,{Z:function(){return t}});let t=(0,r(31134).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23432:function(e,n,r){"use strict";r.d(n,{Z:function(){return t}});let t=(0,r(31134).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},92929:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return y}});var t=r(85893),s=r(37436),c=r(67294),u=r(27245),a=r(4307),i=r(34680),l=r(86501),o=r(11163),d=r(45551),f=r(70019),m=r(67068),x=r(93778),h=r(42083);function p(){let e=(0,o.useRouter)(),{token:n,setToken:r}=(0,c.useContext)(x.M)||{},[s,p]=(0,c.useState)(0n),[y,w]=(0,c.useState)(BigInt(10)),[N,g]=(0,c.useState)([]);(0,c.useEffect)(()=>{g([]),p(0n),w(BigInt(10))},[]);let{tokens:v,isPending:b,error:j}=(0,f.N4)(s,y,!0),{tokens:k,launchInfos:E,isPending:R,error:C}=(0,d.OJ)(v||[]);(0,c.useEffect)(()=>{if(v&&k&&E){let e=k.map((e,r)=>{var t;return{name:e.name,symbol:e.symbol,address:v[r],decimals:Number(e.decimals),parentTokenAddress:E[r].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,initialStakeRound:Number(e.initialStakeRound),hasEnded:E[r].hasEnded,voteOriginBlocks:null!==(t=null==n?void 0:n.voteOriginBlocks)&&void 0!==t?t:0}});g(n=>{let r=new Set(n.map(e=>e.symbol));return[...n,...e.filter(e=>!r.has(e.symbol))]})}},[k,E]);let S=(0,c.useCallback)(()=>{!b&&k&&k.length>0&&(p(y),w(y+BigInt(10)))},[b,k,y]),T=function(e,n,r){var t=this,s=(0,c.useRef)(null),u=(0,c.useRef)(0),a=(0,c.useRef)(null),i=(0,c.useRef)([]),l=(0,c.useRef)(),o=(0,c.useRef)(),d=(0,c.useRef)(e),f=(0,c.useRef)(!0);d.current=e;var m="undefined"!=typeof window,x=!n&&0!==n&&m;if("function"!=typeof e)throw TypeError("Expected a function");n=+n||0;var h=!!(r=r||{}).leading,p=!("trailing"in r)||!!r.trailing,y="maxWait"in r,w="debounceOnServer"in r&&!!r.debounceOnServer,N=y?Math.max(+r.maxWait||0,n):null;return(0,c.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,c.useMemo)(function(){var e=function(e){var n=i.current,r=l.current;return i.current=l.current=null,u.current=e,o.current=d.current.apply(r,n)},r=function(e,n){x&&cancelAnimationFrame(a.current),a.current=x?requestAnimationFrame(e):setTimeout(e,n)},c=function(e){if(!f.current)return!1;var r=e-s.current;return!s.current||r>=n||r<0||y&&e-u.current>=N},g=function(n){return a.current=null,p&&i.current?e(n):(i.current=l.current=null,o.current)},v=function e(){var t=Date.now();if(c(t))return g(t);if(f.current){var a=n-(t-s.current);r(e,y?Math.min(a,N-(t-u.current)):a)}},b=function(){if(m||w){var d=Date.now(),x=c(d);if(i.current=[].slice.call(arguments),l.current=t,s.current=d,x){if(!a.current&&f.current)return u.current=s.current,r(v,n),h?e(s.current):o.current;if(y)return r(v,n),e(s.current)}return a.current||r(v,n),o.current}};return b.cancel=function(){a.current&&(x?cancelAnimationFrame(a.current):clearTimeout(a.current)),u.current=0,i.current=s.current=l.current=a.current=null},b.isPending=function(){return!!a.current},b.flush=function(){return a.current?g(Date.now()):o.current},b},[h,y,n,N,p,x,m,w])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&S()},200);(0,c.useEffect)(()=>(window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T)}),[T]);let Z=n=>{if(!r){l.Am.error("请先选择代币");return}r(n),n.hasEnded?e.push("/acting?symbol=".concat(n.symbol)):e.push("/launch?symbol=".concat(n.symbol))},{handleContractError:_}=(0,m.S)();return(0,c.useEffect)(()=>{j&&_(j,"launch"),C&&_(C,"dataViewer")},[j,C]),(0,t.jsxs)("div",{className:"space-y-4 m-4",children:[N.map((e,n)=>(0,t.jsx)(i.Zb,{onClick:()=>Z(e),children:(0,t.jsxs)(i.aY,{className:"p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"flex items-center gap-2 ",children:[(0,t.jsx)("span",{className:"font-semibold mr-4",children:e.symbol}),(0,t.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,t.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,t.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,t.jsx)("span",{className:"text-secondary",children:"发射中"})})]}),(0,t.jsx)(u.z,{variant:"ghost",size:"icon",children:(0,t.jsx)(a.Z,{className:"h-4 w-4"})})]})},n)),(b||R)&&(0,t.jsx)(h.Z,{})]})}function y(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{title:"代币列表"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,t.jsx)("h1",{className:"text-lg font-bold",children:"所有代币"})}),(0,t.jsx)(p,{})]})]})}},9008:function(e,n,r){e.exports=r(23867)}},function(e){e.O(0,[1492,2888,9774,179],function(){return e(e.s=37985)}),_N_E=e.O()}]);