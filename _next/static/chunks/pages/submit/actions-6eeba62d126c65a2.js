try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d4e9f88f-71be-4a65-9f97-74111ca73ae3",e._sentryDebugIdIdentifier="sentry-dbid-d4e9f88f-71be-4a65-9f97-74111ca73ae3")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{72124:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/submit/actions",function(){return t(30628)}])},34680:function(e,n,t){"use strict";t.d(n,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return c},aY:function(){return f},eW:function(){return m},ll:function(){return u}});var s=t(72253),r=t(47702),a=t(85893),i=t(67294),o=t(40108),c=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},i))});c.displayName="Card";var l=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t)},i))});l.displayName="CardHeader";var u=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t)},i))});u.displayName="CardTitle";var d=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("text-sm text-muted-foreground",t)},i))});d.displayName="CardDescription";var f=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("p-6 pt-0",t)},i))});f.displayName="CardContent";var m=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,o.cn)("flex items-center p-6 pt-0",t)},i))});m.displayName="CardFooter"},24920:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]])},27460:function(e,n,t){"use strict";var s=t(91309),r=t(85893),a=t(67294),i=t(74855),o=t(78865),c=t(18289),l=t(86501),u=t(26858);n.Z=function(e){var n=e.address,t=e.word,d=e.showCopyButton,f=e.showCopyLast4Button,m=e.showAddress,x=void 0===m||m,h=e.colorClassName,b=void 0===h?"":h,g=e.colorClassName2,p=void 0===g?"":g,N=(0,s._)((0,a.useState)(!1),2),y=N[0],v=N[1],j=(0,s._)((0,a.useState)(!1),2),w=j[0],C=j[1];(0,a.useEffect)(function(){v(!1),C(!1)},[n]);var k=function(e){e.preventDefault(),e.stopPropagation()};return(0,r.jsxs)("span",{className:"inline-flex items-center space-x-1",children:[t&&(0,r.jsx)("span",{className:"text-xs",children:t}),x&&!p&&(0,r.jsx)("span",{className:"font-mono text-xs ".concat(null!=b?b:"text-greyscale-500"),children:(0,u.Vu)(n)}),x&&p&&(0,r.jsxs)("span",{className:"text-[0px]",children:[(0,r.jsx)("span",{className:"font-mono text-xs ".concat(null!=b?b:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,r.jsx)("span",{className:"font-mono text-xs ".concat(p),children:"".concat(n.substring(n.length-4))})]}),(void 0===d||d)&&(0,r.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?(v(!0),setTimeout(function(){return v(!1)},2e3)):l.ZP.error("复制失败")},children:(0,r.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:k,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:y?(0,r.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=b?b:"text-greyscale-500")}):(0,r.jsx)(c.Z,{className:"h-4 w-4 ".concat(null!=b?b:"text-greyscale-500")})})}),void 0!==f&&f&&(0,r.jsx)(i.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(C(!0),l.ZP.success("已复制后4位"),setTimeout(function(){return C(!1)},2e3)):l.ZP.error("复制失败")},children:(0,r.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:k,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:w?(0,r.jsx)("span",{className:"".concat(null!=b?b:"text-greyscale-500"),children:"已复制"}):(0,r.jsx)("span",{className:"".concat(null!=b?b:"text-greyscale-500"),children:"后4位"})})})]})}},64777:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.title;return(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-lg font-bold",children:n})})}},42083:function(e,n,t){"use strict";var s=t(85893),r=t(23432);n.Z=function(){return(0,s.jsx)(r.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},93566:function(e,n,t){"use strict";t.d(n,{$A:function(){return x},Bk:function(){return m},Xo:function(){return g},dI:function(){return f},qd:function(){return b},sK:function(){return h}});var s=t(11010),r=t(97582),a=t(67294),i=t(71104),o=t(7724),c=t(37742),l=t(84689),u=t(37474),d="0xeBB295af1D4ee9ed92e55EFF4ca5Eb8D4AB81aCE",f=function(e,n){var t=(0,i.u)({address:d,abi:o.d,functionName:"actionInfo",args:[e,n||BigInt(0)],query:{enabled:!!e&&void 0!==n}});return{actionInfo:t.data,isPending:t.isPending,error:t.error}},m=function(){var e=(0,i.u)({address:d,abi:o.d,functionName:"currentRound",args:[]}),n=e.data,t=e.isPending,s=e.error;return{currentRound:(0,c.Zu)(n),isPending:t,error:s}},x=function(e,n,t){var s=(0,i.u)({address:d,abi:o.d,functionName:"isSubmitted",args:[e,n,t]});return{isSubmitted:s.data,isPending:s.isPending,error:s.error}},h=function(e,n,t){var s=(0,i.u)({address:d,abi:o.d,functionName:"submitInfo",args:[e,n,t],query:{enabled:!!e&&!!n}});return{submitInfo:s.data,isPending:s.isPending,error:s.error}};function b(){var e,n=(0,u.e9)(o.d,d,"submit"),t=n.execute,i=n.isPending,c=n.isConfirming,f=n.isConfirmed,m=n.error,x=n.hash,h=n.isTukeMode,b=(e=(0,s._)(function(e,n){return(0,r.Jh)(this,function(s){switch(s.label){case 0:return console.log("提交submit交易:",{tokenAddress:e,actionId:n,isTukeMode:h}),[4,t([e,n])];case 1:return[2,s.sent()]}})}),function(n,t){return e.apply(this,arguments)});return(0,a.useEffect)(function(){x&&console.log("submit tx hash:",x),m&&(console.log("提交submit交易错误:"),(0,l.Vh)(m),(0,l.H)(m)),f&&console.log("submit tx confirmed")},[x,m,f]),{submit:b,isPending:i,isConfirming:c,writeError:m,isConfirmed:f,hash:x,isTukeMode:h}}function g(){var e,n=(0,u.e9)(o.d,d,"submitNewAction"),t=n.execute,i=n.isPending,c=n.isConfirming,f=n.isConfirmed,m=n.error,x=n.hash,h=n.isTukeMode,b=(e=(0,s._)(function(e,n){return(0,r.Jh)(this,function(s){switch(s.label){case 0:return console.log("提交submitNewAction交易:",{tokenAddress:e,actionBody:n,isTukeMode:h}),[4,t([e,n])];case 1:return[2,s.sent()]}})}),function(n,t){return e.apply(this,arguments)});return(0,a.useEffect)(function(){x&&console.log("submitNewAction tx hash:",x),m&&(console.log("提交submitNewAction交易错误:"),(0,l.Vh)(m),(0,l.H)(m)),f&&console.log("submitNewAction tx confirmed")},[x,m,f]),{submitNewAction:b,isPending:i,isConfirming:c,writeError:m,isConfirmed:f,hash:x,isTukeMode:h}}},30628:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var s=t(85893),r=t(67294),a=t(11163),i=t(93778),o=t(93566),c=t(73591),l=t(83494),u=t(27245),d=t(34680),f=t(41664),m=t.n(f),x=t(93950),h=t(42083),b=t(64777),g=t(27460),p=t(24920),N=function(e){var n,t,a=e.currentRound,o=((0,r.useContext)(i.M)||{}).token,l=(0,x.s4)((null==o?void 0:o.address)||"",BigInt(0),BigInt(100)),f=l.actionInfos,N=l.isPending,y=l.error,v=(0,x.WZ)((null==o?void 0:o.address)||"",a),j=v.actionSubmits,w=v.isPending,C=v.error,k=(0,c.S)().handleContractError;return((0,r.useEffect)(function(){y&&k(y,"submit"),C&&k(C,"submit")},[y,C]),o)?(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)(b.Z,{title:"未推举的行动"}),(0,s.jsx)(u.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",asChild:!0,children:(0,s.jsx)(m(),{href:"/action/new?symbol=".concat(o.symbol),children:"发起新行动"})})]}),N||w?(0,s.jsx)(h.Z,{}):(0,s.jsxs)("div",{className:"space-y-4",children:[(null==f?void 0:f.length)===0&&(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"暂无行动"}),f&&(null==f?void 0:f.length)>0&&(null==f?void 0:null===(t=f.filter(function(e){return!(null==j?void 0:j.some(function(n){return n.actionId===e.head.id}))}))||void 0===t?void 0:null===(n=t.sort(function(e,n){return Number(n.head.id-e.head.id)}))||void 0===n?void 0:n.map(function(e,n){return(0,s.jsx)(d.Zb,{className:"shadow-none",children:(0,s.jsxs)(m(),{href:"/submit/submit?id=".concat(e.head.id,"&symbol=").concat(o.symbol,"&submitted=false"),children:[(0,s.jsxs)(d.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-start items-baseline",children:[(0,s.jsx)("span",{className:"text-greyscale-400 text-sm",children:"No."}),(0,s.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.head.id)}),(0,s.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.body.title)})]}),(0,s.jsx)(d.aY,{className:"px-3 pt-1 pb-2",children:(0,s.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(p.Z,{className:"text-greyscale-400 mr-1 h-3 w-3 -translate-y-0.5"}),(0,s.jsx)("span",{className:"text-greyscale-400",children:(0,s.jsx)(g.Z,{address:e.head.author,showCopyButton:!1,colorClassName2:"text-secondary"})})]}),(0,s.jsx)("span",{className:"text-sm text-greyscale-600",children:"未推举"})]})})]},e.head.id)},e.head.id)}))]})]}):(0,s.jsx)(h.Z,{})},y=function(){var e=(0,o.Bk)(),n=e.currentRound,t=e.isPending,u=e.error,d=(0,c.S)().handleContractError;(0,r.useEffect)(function(){u&&d(u,"submit")},[u]);var f=(0,a.useRouter)(),m=((0,r.useContext)(i.M)||{}).token;return(0,r.useEffect)(function(){m&&!m.hasEnded?f.push("/launch?symbol=".concat(m.symbol)):m&&!m.initialStakeRound&&f.push("/stake/stakelp/?symbol=".concat(m.symbol,"&first=true"))},[m]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{title:"推举",showBackButton:!0}),(0,s.jsx)("main",{className:"flex-grow",children:t?(0,s.jsx)(h.Z,{}):(0,s.jsx)(N,{currentRound:n})})]})}}},function(e){e.O(0,[8501,4463,3494,3591,3950,7724,2888,9774,179],function(){return e(e.s=72124)}),_N_E=e.O()}]);