try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0f9f7d6d-f111-4b55-b63b-28da7aa97821",e._sentryDebugIdIdentifier="sentry-dbid-0f9f7d6d-f111-4b55-b63b-28da7aa97821")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6138],{48764:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/launch/deploy",function(){return a(96233)}])},34680:function(e,n,a){"use strict";a.d(n,{Ol:function(){return l},SZ:function(){return u},Zb:function(){return i},aY:function(){return f},eW:function(){return m},ll:function(){return d}});var r=a(72253),s=a(47702),t=a(85893),o=a(67294),c=a(40108),i=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a)},o))});i.displayName="Card";var l=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",a)},o))});l.displayName="CardHeader";var d=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",a)},o))});d.displayName="CardTitle";var u=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,c.cn)("text-sm text-muted-foreground",a)},o))});u.displayName="CardDescription";var f=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,c.cn)("p-6 pt-0",a)},o))});f.displayName="CardContent";var m=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,c.cn)("flex items-center p-6 pt-0",a)},o))});m.displayName="CardFooter"},35810:function(e,n,a){"use strict";a.d(n,{$N:function(){return h},Be:function(){return g},Vq:function(){return u},cN:function(){return v},cZ:function(){return N},fK:function(){return p},hg:function(){return f}});var r=a(72253),s=a(14932),t=a(47702),o=a(85893),c=a(67294),i=a(12854),l=a(62190),d=a(40108),u=i.fC,f=i.xz,m=i.h_;i.x8;var x=c.forwardRef(function(e,n){var a=e.className,s=(0,t._)(e,["className"]);return(0,o.jsx)(i.aV,(0,r._)({ref:n,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},s))});x.displayName=i.aV.displayName;var N=c.forwardRef(function(e,n){var a=e.className,c=e.children,u=(0,t._)(e,["className","children"]);return(0,o.jsxs)(m,{children:[(0,o.jsx)(x,{}),(0,o.jsxs)(i.VY,(0,s._)((0,r._)({ref:n,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},u),{children:[c,(0,o.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,o.jsx)(l.Z,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});N.displayName=i.VY.displayName;var p=function(e){var n=e.className,a=(0,t._)(e,["className"]);return(0,o.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n)},a))};p.displayName="DialogHeader";var v=function(e){var n=e.className,a=(0,t._)(e,["className"]);return(0,o.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},a))};v.displayName="DialogFooter";var h=c.forwardRef(function(e,n){var a=e.className,s=(0,t._)(e,["className"]);return(0,o.jsx)(i.Dx,(0,r._)({ref:n,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a)},s))});h.displayName=i.Dx.displayName;var g=c.forwardRef(function(e,n){var a=e.className,s=(0,t._)(e,["className"]);return(0,o.jsx)(i.dk,(0,r._)({ref:n,className:(0,d.cn)("text-sm text-muted-foreground",a)},s))});g.displayName=i.dk.displayName},74193:function(e,n,a){"use strict";a.d(n,{NI:function(){return y},Wi:function(){return p},l0:function(){return x},lX:function(){return _},pf:function(){return j},xJ:function(){return g},zG:function(){return b}});var r=a(34788),s=a(12796),t=a(72253),o=a(14932),c=a(47702),i=a(85893),l=a(67294),d=a(88426),u=a(87536),f=a(40108),m=a(94193),x=u.RV,N=l.createContext({}),p=function(e){var n=(0,r._)({},(0,s._)(e));return(0,i.jsx)(N.Provider,{value:{name:n.name},children:(0,i.jsx)(u.Qr,(0,t._)({},n))})},v=function(){var e=l.useContext(N),n=l.useContext(h),a=(0,u.Gc)(),r=a.getFieldState,s=a.formState,o=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");var c=n.id;return(0,t._)({id:c,name:e.name,formItemId:"".concat(c,"-form-item"),formDescriptionId:"".concat(c,"-form-item-description"),formMessageId:"".concat(c,"-form-item-message")},o)},h=l.createContext({}),g=l.forwardRef(function(e,n){var a=e.className,r=(0,c._)(e,["className"]),s=l.useId();return(0,i.jsx)(h.Provider,{value:{id:s},children:(0,i.jsx)("div",(0,t._)({ref:n,className:(0,f.cn)("space-y-2",a)},r))})});g.displayName="FormItem";var _=l.forwardRef(function(e,n){var a=e.className,r=(0,c._)(e,["className"]),s=v(),o=s.error,l=s.formItemId;return(0,i.jsx)(m._,(0,t._)({ref:n,className:(0,f.cn)(o&&"text-destructive",a),htmlFor:l},r))});_.displayName="FormLabel";var y=l.forwardRef(function(e,n){var a=(0,r._)({},(0,s._)(e)),o=v(),c=o.error,l=o.formItemId,u=o.formDescriptionId,f=o.formMessageId;return(0,i.jsx)(d.g7,(0,t._)({ref:n,id:l,"aria-describedby":c?"".concat(u," ").concat(f):"".concat(u),"aria-invalid":!!c},a))});y.displayName="FormControl";var j=l.forwardRef(function(e,n){var a=e.className,r=(0,c._)(e,["className"]),s=v().formDescriptionId;return(0,i.jsx)("p",(0,t._)({ref:n,id:s,className:(0,f.cn)("text-sm text-muted-foreground",a)},r))});j.displayName="FormDescription";var b=l.forwardRef(function(e,n){var a=e.className,r=e.children,s=(0,c._)(e,["className","children"]),l=v(),d=l.error,u=l.formMessageId,m=d?String(null==d?void 0:d.message):r;return m?(0,i.jsx)("p",(0,o._)((0,t._)({ref:n,id:u,className:(0,f.cn)("text-sm font-medium text-destructive",a)},s),{children:m})):null});b.displayName="FormMessage"},94193:function(e,n,a){"use strict";a.d(n,{_:function(){return u}});var r=a(72253),s=a(47702),t=a(85893),o=a(67294),c=a(49102),i=a(12003),l=a(40108),d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef(function(e,n){var a=e.className,o=(0,s._)(e,["className"]);return(0,t.jsx)(c.f,(0,r._)({ref:n,className:(0,l.cn)(d(),a)},o))});u.displayName=c.f.displayName},96233:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return E}});var r=a(85893),s=a(83494),t=a(11010),o=a(72253),c=a(14932),i=a(91309),l=a(97582),d=a(63448),u=a(56312),f=a(87536),m=a(42130),x=a(39360),N=a(11163),p=a(67294),v=a(21774),h=a(27245),g=a(35810),_=a(34680),y=a(74193),j=a(91529),b=a(37742),w=a(70019),C=a(7399),I=a(73591),R=a(93778),Z=a(42083),k=a(44576),F=d.Ry({symbol:d.Z_().nonempty("请输入代币符号").length(6,"代币符号必须是 6 个字符").regex(/^[A-Z0-9]+$/,"只能使用大写字母 A~Z 和数字 0~9").regex(/^[A-Z]/,"必须以大写字母 A~Z 开头")});function D(){var e=(0,N.useRouter)(),n=((0,p.useContext)(R.M)||{}).token,a=(0,m.m)().address;(0,x.x)();var s=(0,i._)((0,p.useState)(""),2),d=s[0],D=s[1],E=(0,w.jx)(),S=E.launchToken,z=E.isPending,A=E.writeError,P=E.isConfirming,V=E.isConfirmed,M=(0,w.bK)(n?n.address:"0x0000000000000000000000000000000000000000",a),T=M.remainingLaunchCount,O=M.isPending,G=(0,C.UC)(n?n.address:"0x0000000000000000000000000000000000000000",a),B=G.numOfMintGovRewardByAccount,L=G.isPending,W=Number("180")||BigInt(180),X=Number(W)-Number(null!=B?B:0)%Number(W),Y=(0,I.S)().handleContractError;(0,p.useEffect)(function(){A&&Y(A,"launch")},[A,Y]);var H=(0,f.cI)({resolver:(0,u.F)(F),defaultValues:{symbol:""}});function J(){return(J=(0,t._)(function(e){return(0,l.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,en()];case 1:if(!a.sent())return[2];return D(e.symbol),[4,S(e.symbol,null==n?void 0:n.address)];case 2:case 3:return a.sent(),[3,4];case 4:return[2]}})})).apply(this,arguments)}(0,p.useEffect)(function(){V&&e.push("/launch/?symbol=".concat("").concat(d))},[V,e,d]);var K=(0,i._)((0,p.useState)(!1),2),$=K[0],q=K[1],Q=(0,i._)((0,p.useState)(null),2),U=Q[0],ee=Q[1],en=function(){return new Promise(function(e,n){ee({resolve:e,reject:n}),q(!0)})};if(!n||O||L)return(0,r.jsx)(Z.Z,{});var ea=z||P;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_.Zb,{className:"w-full border-none shadow-none rounded-none",children:[(0,r.jsxs)(_.Ol,{children:[(0,r.jsx)(_.ll,{className:"text-2xl font-bold text-center",children:"开启子币公平发射"}),(0,r.jsxs)(_.SZ,{className:"text-center",children:["创建 ",(0,r.jsx)("span",{className:"text-secondary",children:n.symbol})," 的子币"]})]}),(0,r.jsx)(y.l0,(0,c._)((0,o._)({},H),{children:(0,r.jsxs)("form",{onSubmit:H.handleSubmit(function(e){return J.apply(this,arguments)}),children:[(0,r.jsx)(_.aY,{className:"space-y-4",children:(0,r.jsx)(y.Wi,{control:H.control,name:"symbol",render:function(e){var n=e.field;return(0,r.jsxs)(y.xJ,{children:[(0,r.jsx)(y.lX,{children:"子币符号："}),(0,r.jsx)(y.NI,{children:(0,r.jsx)(v.I,(0,o._)({id:"symbol",placeholder:"例如: TENNIS, GAME20",disabled:ea||V,className:"!ring-secondary-foreground"},n))}),(0,r.jsx)(y.pf,{children:"最多 6 个字符，首字母只能用大写字母A~Z，后5个字符只能用大写字母A~Z和数字0~9。"}),(0,r.jsx)(y.zG,{})]})}})}),(0,r.jsx)(_.eW,{className:"flex justify-center",children:(0,r.jsx)(h.z,{className:"w-1/2",type:"submit",disabled:ea||V,children:z?"提交中...":P?"确认中...":V?"提交成功":"提交"})})]})})),(0,r.jsx)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-0 m-6",children:(0,r.jsxs)("p",{children:["公平发射募集目标：",(0,j.LH)((0,b.Zu)("20000000000000000000000000")),"个"," ",null==n?void 0:n.symbol]})})]}),(0,r.jsx)(k.Z,{isLoading:ea,text:z?"提交交易...":"确认交易..."}),(0,r.jsx)(g.Vq,{open:$,onOpenChange:function(e){e||(null==U||U.resolve(!1),ee(null)),q(e)},children:(0,r.jsxs)(g.cZ,{children:[(0,r.jsxs)(g.fK,{children:[(0,r.jsx)(g.$N,{children:"确认开启子币发射"}),(0,r.jsxs)(g.Be,{children:["剩余可发射次数：",Number(T)," 次",(0,r.jsx)("br",{}),"再完成 ",X," 次治理激励铸币，可增加1次"]})]}),(0,r.jsxs)(g.cN,{children:[(0,r.jsx)(h.z,{variant:"outline",onClick:function(){q(!1),null==U||U.resolve(!1),ee(null)},children:"取消"}),(0,r.jsx)(h.z,{onClick:function(){q(!1),null==U||U.resolve(!0),ee(null)},children:"确认"})]})]})})]})}function E(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:"开启子币"}),(0,r.jsx)("main",{className:"flex-grow",children:(0,r.jsx)(D,{})})]})}}},function(e){e.O(0,[8239,3615,1617,3494,3591,6202,7399,2888,9774,179],function(){return e(e.s=48764)}),_N_E=e.O()}]);