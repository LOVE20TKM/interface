(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5875],{7446:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var n=(0,t(11713).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},18449:(e,r,t)=>{"use strict";t.d(r,{X:()=>a});var n=t(76200);class s extends n.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function a(e,r){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new s({value:e});let[t,n="0"]=e.split("."),a=t.startsWith("-");if(a&&(t=t.slice(1)),n=n.replace(/(0+)$/,""),0===r)1===Math.round(Number(`.${n}`))&&(t=`${BigInt(t)+1n}`),n="";else if(n.length>r){let[e,s,a]=[n.slice(0,r-1),n.slice(r-1,r),n.slice(r)],i=Math.round(Number(`${s}.${a}`));(n=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>r&&(n=n.slice(1),t=`${BigInt(t)+1n}`),n=n.slice(0,r)}else n=n.padEnd(r,"0");return BigInt(`${a?"-":""}${t}${n}`)}},20442:(e,r,t)=>{"use strict";t.d(r,{Js:()=>o,LP:()=>m,NJ:()=>i,W_:()=>a,XS:()=>l,lM:()=>d,mW:()=>c});var n=t(18449),s=t(32602),a=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",i=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r=Number(o(e));if(e<10n)return"0";if(r>=1e5)return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(r);if(r>=1e3)return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(r);if(r>=1||r>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:4}).format(r);if(0===r)return"0";var t=r.toFixed(14),n=t.split(".");if(n.length<2)return t;var s=n[1],a=0,i=!0,l=!1,c=void 0;try{for(var m,d=s[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){var u=m.value;if("0"===u)a++;else break}}catch(e){l=!0,c=e}finally{try{i||null==d.return||d.return()}finally{if(l)throw c}}var f=s.slice(a,a+4);return"0.0{".concat(a,"}").concat(f)},l=e=>{var r=parseInt("18",10);try{var t=e.replace(/,/g,"");return(0,n.X)(t,r)}catch(e){return console.error("parseUnits error:",e),0n}},o=e=>{var r=parseInt("18",10);return(0,s.J)(e,r)},c=e=>e.includes(".")?parseFloat(e.replace(/,/g,"")).toString():e,m=(e,r)=>e&&r?e-BigInt(r.initialStakeRound)+1n:0n,d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=Number(e);if(n>=1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:r}).format(n);if(n>=.001)return new Intl.NumberFormat("en-US",{maximumFractionDigits:t+1}).format(n);if(0===n)return"0";var s=n.toFixed(t+10),a=s.split(".");if(a.length<2)return s;var i=a[1],l=0,o=!0,c=!1,m=void 0;try{for(var d,u=i[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var f=d.value;if("0"===f)l++;else break}}catch(e){c=!0,m=e}finally{try{o||null==u.return||u.return()}finally{if(c)throw m}}var x=i.slice(l);return"0.0{".concat(l,"}").concat(x)}},29680:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/launch/burn",function(){return t(96693)}])},42038:(e,r,t)=>{"use strict";t.d(r,{C:()=>s});var n=t(97685),s=e=>!!e||(n.oR.error("请先将钱包链接 ".concat("thinkium801")),!1)},77328:(e,r,t)=>{e.exports=t(89836)},86739:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var n=(0,t(11713).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92659:(e,r,t)=>{"use strict";t.d(r,{lV:()=>h,MJ:()=>_,Rr:()=>w,zB:()=>b,eI:()=>y,lR:()=>j,C5:()=>I});var n=t(81110),s=t(40120),a=t(3576),i=t(62701),l=t(65699),o=t(37876),c=t(14232),m=t(39358),d=t(88992),u=t(30684),f=t(49794),x=(0,t(47137).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=c.forwardRef((e,r)=>{var t=e.className,n=(0,l._)(e,["className"]);return(0,o.jsx)(f.b,(0,a._)({ref:r,className:(0,u.cn)(x(),t)},n))});v.displayName=f.b.displayName;var h=d.Op,p=c.createContext({}),b=e=>{var r=(0,n._)({},(0,s._)(e));return(0,o.jsx)(p.Provider,{value:{name:r.name},children:(0,o.jsx)(d.xI,(0,a._)({},r))})},N=()=>{var e=c.useContext(p),r=c.useContext(g),t=(0,d.xW)(),n=t.getFieldState,s=t.formState,i=n(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");var l=r.id;return(0,a._)({id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message")},i)},g=c.createContext({}),y=c.forwardRef((e,r)=>{var t=e.className,n=(0,l._)(e,["className"]),s=c.useId();return(0,o.jsx)(g.Provider,{value:{id:s},children:(0,o.jsx)("div",(0,a._)({ref:r,className:(0,u.cn)("space-y-2",t)},n))})});y.displayName="FormItem";var j=c.forwardRef((e,r)=>{var t=e.className,n=(0,l._)(e,["className"]),s=N(),i=s.error,c=s.formItemId;return(0,o.jsx)(v,(0,a._)({ref:r,className:(0,u.cn)(i&&"text-destructive",t),htmlFor:c},n))});j.displayName="FormLabel";var _=c.forwardRef((e,r)=>{var t=(0,n._)({},(0,s._)(e)),i=N(),l=i.error,c=i.formItemId,d=i.formDescriptionId,u=i.formMessageId;return(0,o.jsx)(m.DX,(0,a._)({ref:r,id:c,"aria-describedby":l?"".concat(d," ").concat(u):"".concat(d),"aria-invalid":!!l},t))});_.displayName="FormControl";var w=c.forwardRef((e,r)=>{var t=e.className,n=(0,l._)(e,["className"]),s=N().formDescriptionId;return(0,o.jsx)("p",(0,a._)({ref:r,id:s,className:(0,u.cn)("text-sm text-muted-foreground",t)},n))});w.displayName="FormDescription";var I=c.forwardRef((e,r)=>{var t=e.className,n=e.children,s=(0,l._)(e,["className","children"]),c=N(),m=c.error,d=c.formMessageId,f=m?String(null==m?void 0:m.message):n;return f?(0,o.jsx)("p",(0,i._)((0,a._)({ref:r,id:d,className:(0,u.cn)("text-sm font-medium text-destructive",t)},s),{children:f})):null});I.displayName="FormMessage"},96693:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var n=t(37876),s=t(14232),a=t(83416),i=t(40752),l=t(20451),o=t(16927),c=t(3576),m=t(62701),d=t(40854),u=t(4902),f=t(60513),x=t(13810),v=t(88992),h=t(8047),p=t(97685),b=t(89099),N=t(6960),g=t(77932),y=t(92659),j=t(20442),_=t(42038),w=t(9215),I=t(1709),k=t(12293),F=t(99574);let S=e=>{var r=e.token;e.launchInfo;var t=(0,h.F)(),a=t.address,i=t.chain,S=(0,b.useRouter)(),A=(0,w.lW)(null==r?void 0:r.address,a),C=A.balance,$=A.isPending,E=A.error,R=(0,w.lW)(null==r?void 0:r.parentTokenAddress,null==r?void 0:r.address),T=R.balance,D=(R.isPending,R.error),M=(0,w.PT)(null==r?void 0:r.address),P=M.totalSupply,X=(M.isPending,M.error),J=(0,s.useMemo)(()=>f.z.object({burnAmount:f.z.string().nonempty({message:"请输入销毁数量"}).refine(e=>Number(e)>0,{message:"销毁数量不能为0"})}).refine(e=>{if(!C)return!0;try{return!!(0,j.XS)(e.burnAmount)&&(0,j.XS)(e.burnAmount)<=C}catch(e){return!1}},{message:"销毁数量不能超过您的余额",path:["burnAmount"]}),[C]),B=(0,v.mN)({resolver:(0,x.u)(J),defaultValues:{burnAmount:""},mode:"onChange"}),z=B.watch("burnAmount");(0,s.useMemo)(()=>{try{return z?(0,j.XS)(z):0n}catch(e){return 0n}},[z]);var U=(0,d._)((0,s.useState)(0n),2),L=U[0],W=U[1];(0,s.useEffect)(()=>{var e=B.getValues("burnAmount");P&&T&&e&&W((0,j.XS)(e)*T/P)},[B.watch("burnAmount"),P,T]);var V=(0,w.HF)(null==r?void 0:r.address),O=V.burnForParentToken,q=V.isPending,H=V.isConfirming,G=V.isConfirmed,K=V.writeError,Q=function(){var e=(0,o._)(function(e){return(0,u.__generator)(this,function(r){switch(r.label){case 0:if(!(0,_.C)(i))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O((0,j.XS)(e.burnAmount))];case 2:return r.sent(),[3,4];case 3:return console.error(r.sent()),[3,4];case 4:return[2]}})});return function(r){return e.apply(this,arguments)}}();(0,s.useEffect)(()=>{G&&(p.oR.success("销毁成功"),setTimeout(()=>{S.push("/dex/swap/?symbol=".concat(null==r?void 0:r.symbol,"&from=").concat(null==r?void 0:r.parentTokenSymbol))},1e3))},[G,S,null==r?void 0:r.symbol]);var Y=(0,l.g)().handleContractError;return((0,s.useEffect)(()=>{E&&Y(E,"token"),D&&Y(D,"token"),X&&Y(X,"token"),K&&Y(K,"token")},[E,D,X,K,Y]),!r||$)?(0,n.jsx)(k.A,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)(I.A,{title:"底池销毁"}),(0,n.jsx)("div",{className:"stats w-full",children:(0,n.jsxs)("div",{className:"stat place-items-center",children:[(0,n.jsx)("div",{className:"stat-title text-sm mr-6",children:"底池总量"}),(0,n.jsxs)("div",{className:"stat-value text-secondary mt-2",children:[(0,j.NJ)(T||0n),(0,n.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:r.parentTokenSymbol})]}),(0,n.jsxs)("div",{className:"stat-desc text-sm mt-2",children:["销毁 ",r.symbol,"，可从底池取回 ",r.parentTokenSymbol]})]})}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)(y.lV,(0,m._)((0,c._)({},B),{children:(0,n.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,n.jsx)(y.zB,{control:B.control,name:"burnAmount",render:e=>{var t=e.field;return(0,n.jsxs)(y.eI,{children:[(0,n.jsxs)(y.lR,{children:["要销毁的 ",r.symbol," 数量："]}),(0,n.jsx)(y.MJ,{children:(0,n.jsx)(g.p,(0,c._)({type:"number",placeholder:"请输入数量",disabled:0n>=(C||0n)||q||H,className:"!ring-secondary-foreground"},t))}),(0,n.jsx)(y.C5,{})]})}}),(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[(0,n.jsxs)("span",{className:"text-greyscale-400",children:["我的 ",r.symbol,": ",(0,n.jsx)("span",{className:"text-secondary",children:(0,j.NJ)(C||0n)})]}),(0,n.jsx)(N.$,{variant:"link",size:"sm",onClick:()=>{B.setValue("burnAmount",(0,j.Js)(C||0n))},disabled:0n>=(C||0n)||q||H,className:"text-secondary",children:"全选"})]}),(0,n.jsx)("div",{className:"flex items-center justify-end text-sm my-2",children:(0,n.jsxs)("span",{className:"text-greyscale-400",children:["预计可取回 ",(0,n.jsx)("span",{className:"text-secondary",children:(0,j.NJ)(L)})," ",r.parentTokenSymbol]})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(N.$,{className:"w-1/2 text-white py-2 rounded-lg",onClick:B.handleSubmit(Q),disabled:q||H||G,children:q?"销毁中...":H?"确认中...":G?"销毁成功":"销毁"})})]})})),(0,n.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-4",children:[(0,n.jsx)("p",{className:"mb-1",children:"计算公式："}),(0,n.jsxs)("p",{children:["所得 ",r.parentTokenSymbol," 数量 = 底池 ",r.parentTokenSymbol," 总量 * (销毁 ",r.symbol," 数量 /"," ",r.symbol," 总发行量)"]})]})]})]}),(0,n.jsx)(F.A,{isLoading:q||H,text:q?"提交交易...":"确认交易..."})]})};var A=t(66663);function C(){var e=((0,s.useContext)(a.N)||{}).token,r=(0,i.TU)(e?e.address:"0x0000000000000000000000000000000000000000"),t=r.launchInfo,o=r.isPending,c=r.error,m=(0,l.g)().handleContractError;return(0,s.useEffect)(()=>{c&&m(c,"launch")},[c]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.A,{title:"底池销毁"}),(0,n.jsx)("main",{className:"flex-grow",children:o?(0,n.jsx)(k.A,{}):t?(0,n.jsx)(S,{token:e,launchInfo:t}):(0,n.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})})]})}},99574:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var n=t(37876);t(14232);var s=t(7446);let a=e=>{var r=e.isLoading,t=e.text;return r?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(s.A,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,n.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:void 0===t?"Loading":t})]})}):null}}},e=>{var r=r=>e(e.s=r);e.O(0,[6869,2569,5139,3356,636,6593,8792],()=>r(29680)),_N_E=e.O()}]);