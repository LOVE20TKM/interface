(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6784],{7446:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});var t=(0,n(11713).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},28638:(e,r,n)=>{"use strict";n.d(r,{BT:()=>o,Wu:()=>m,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>f});var t=n(3576),s=n(65699),a=n(37876),c=n(14232),u=n(30684),i=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,u.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n)},c))});i.displayName="Card";var l=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",n)},c))});l.displayName="CardHeader";var d=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,u.cn)("text-2xl font-semibold leading-none tracking-tight",n)},c))});d.displayName="CardTitle";var o=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,u.cn)("text-sm text-muted-foreground",n)},c))});o.displayName="CardDescription";var m=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,u.cn)("p-6 pt-0",n)},c))});m.displayName="CardContent";var f=c.forwardRef((e,r)=>{var n=e.className,c=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:r,className:(0,u.cn)("flex items-center p-6 pt-0",n)},c))});f.displayName="CardFooter"},29852:(e,r,n)=>{"use strict";n.d(r,{A:()=>v});var t=n(40854),s=n(37876),a=n(14232),c=n(6960),u=n(96108),i=n(28638),l=n(97685),d=n(89099),o=n(52372),m=n(40752),f=n(20451),x=n(83416),h=n(12293);function v(e){var r=e.parentTokenAddress,n=(0,d.useRouter)(),v=(0,a.useContext)(x.N)||{},p=v.token,N=v.setToken,y=(0,t._)((0,a.useState)(0n),2),g=y[0],k=y[1],w=(0,t._)((0,a.useState)(BigInt(10)),2),j=w[0],b=w[1],_=(0,t._)((0,a.useState)([]),2),A=_[0],R=_[1];(0,a.useEffect)(()=>{R([]),k(0n),b(BigInt(10))},[r]);var T=r?(0,m.sA)(r,g,j,!0):(0,m.qQ)(g,j,!0),E="childTokens"in T?T.childTokens:T.tokens,C=T.isPending,S=T.error,B=(0,o.XV)(E||[]),O=B.tokens,F=B.launchInfos,P=B.isPending,q=B.error;(0,a.useEffect)(()=>{if(E&&O&&F){var e=O.map((e,r)=>{var n;return{name:e.name,symbol:e.symbol,address:E[r],decimals:Number(e.decimals),parentTokenAddress:F[r].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,initialStakeRound:Number(e.initialStakeRound),hasEnded:F[r].hasEnded,voteOriginBlocks:null!=(n=null==p?void 0:p.voteOriginBlocks)?n:0}});R(r=>{var n=new Set(r.map(e=>e.symbol));return[...r,...e.filter(e=>!n.has(e.symbol))]})}},[O,F]);var D=(0,a.useCallback)(()=>{!C&&O&&O.length>0&&(k(j),b(j+BigInt(10)))},[C,O,j]),I=function(e,r,n){var t=this,s=(0,a.useRef)(null),c=(0,a.useRef)(0),u=(0,a.useRef)(null),i=(0,a.useRef)([]),l=(0,a.useRef)(),d=(0,a.useRef)(),o=(0,a.useRef)(e),m=(0,a.useRef)(!0);o.current=e;var f="undefined"!=typeof window,x=!r&&0!==r&&f;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var h=!!(n=n||{}).leading,v=!("trailing"in n)||!!n.trailing,p="maxWait"in n,N="debounceOnServer"in n&&!!n.debounceOnServer,y=p?Math.max(+n.maxWait||0,r):null;return(0,a.useEffect)(function(){return m.current=!0,function(){m.current=!1}},[]),(0,a.useMemo)(function(){var e=function(e){var r=i.current,n=l.current;return i.current=l.current=null,c.current=e,d.current=o.current.apply(n,r)},n=function(e,r){x&&cancelAnimationFrame(u.current),u.current=x?requestAnimationFrame(e):setTimeout(e,r)},a=function(e){if(!m.current)return!1;var n=e-s.current;return!s.current||n>=r||n<0||p&&e-c.current>=y},g=function(r){return u.current=null,v&&i.current?e(r):(i.current=l.current=null,d.current)},k=function e(){var t=Date.now();if(a(t))return g(t);if(m.current){var u=r-(t-s.current);n(e,p?Math.min(u,y-(t-c.current)):u)}},w=function(){if(f||N){var o=Date.now(),x=a(o);if(i.current=[].slice.call(arguments),l.current=t,s.current=o,x){if(!u.current&&m.current)return c.current=s.current,n(k,r),h?e(s.current):d.current;if(p)return n(k,r),e(s.current)}return u.current||n(k,r),d.current}};return w.cancel=function(){u.current&&(x?cancelAnimationFrame(u.current):clearTimeout(u.current)),c.current=0,i.current=s.current=l.current=u.current=null},w.isPending=function(){return!!u.current},w.flush=function(){return u.current?g(Date.now()):d.current},w},[h,p,r,y,v,x,f,N])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&D()},200);(0,a.useEffect)(()=>(window.addEventListener("scroll",I),()=>{window.removeEventListener("scroll",I)}),[I]);var L=e=>{if(!N)return void l.oR.error("请先选择代币");N(e),e.hasEnded?n.push("/acting/?symbol=".concat(e.symbol)):n.push("/launch/?symbol=".concat(e.symbol))},M=(0,f.g)().handleContractError;return(0,a.useEffect)(()=>{S&&M(S,"launch"),q&&M(q,"dataViewer")},[S,q]),(0,s.jsxs)("div",{className:"space-y-4 m-4",children:[0!==A.length||C||P?A.map((e,r)=>(0,s.jsx)(i.Zp,{onClick:()=>L(e),children:(0,s.jsxs)(i.Wu,{className:"p-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"flex items-center gap-2 ",children:[(0,s.jsx)("span",{className:"font-semibold mr-4",children:e.symbol}),(0,s.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,s.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,s.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,s.jsx)("span",{className:"text-secondary",children:"发射中"})})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})]})},r)):(0,s.jsx)("div",{className:"text-center text-muted-foreground py-8",children:r?"暂无子币":"代币列表为空"}),(C||P)&&(0,s.jsx)(h.A,{})]})}},50556:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens/children",function(){return n(60990)}])},60990:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>i});var t=n(37876),s=n(66663),a=n(29852),c=n(14232),u=n(83416);function i(){var e=(0,c.useContext)(u.N)||{},r=e.token;return e.setToken,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.A,{title:"代币列表"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,t.jsx)("h1",{className:"text-lg font-bold",children:"子币列表"})}),(0,t.jsx)(a.A,{parentTokenAddress:null==r?void 0:r.address})]})]})}},77328:(e,r,n)=>{e.exports=n(89836)},86739:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});var t=(0,n(11713).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},96108:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});var t=(0,n(11713).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[2569,3356,636,6593,8792],()=>r(50556)),_N_E=e.O()}]);