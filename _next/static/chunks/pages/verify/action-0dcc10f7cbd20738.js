try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="22523234-06a9-45bb-838c-233f8a3bde24",e._sentryDebugIdIdentifier="sentry-dbid-22523234-06a9-45bb-838c-233f8a3bde24")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7690],{81130:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify/action",function(){return t(27238)}])},74089:function(e,n,t){"use strict";var s=t(91309),r=t(85893),c=t(67294);n.Z=function(e){var n=e.initialTimeLeft,t=e.onTick,a=e.forceShowSeconds,i=e.fontClass,l=void 0===i?"":i,o=(0,s._)((0,c.useState)(Date.now()+1e3*n),2),d=o[0],u=o[1],x=(0,s._)((0,c.useState)(n),2),f=x[0],h=x[1];(0,c.useEffect)(function(){u(Date.now()+1e3*n)},[n]),(0,c.useEffect)(function(){var e=setInterval(function(){var n=Math.max(0,Math.floor((d-Date.now())/1e3));h(n),t&&t(n),n<=0&&(clearInterval(e),window.location.reload())},1e3);return function(){return clearInterval(e)}},[d,t]);var m=Math.floor(f/86400),g=Math.floor(f%86400/3600);return(0,r.jsxs)("span",{className:"inline-flex space-x-1 text-greyscale-400",children:[m>0&&(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"countdown font-mono ".concat(l),children:(0,r.jsx)("span",{style:{"--value":m}})}),(0,r.jsx)("span",{className:l,children:"天"})]}),(g>0||m>0)&&(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"countdown font-mono ".concat(l),children:(0,r.jsx)("span",{style:{"--value":g}})}),(0,r.jsx)("span",{className:l,children:"时"})]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"countdown font-mono ".concat(l),children:(0,r.jsx)("span",{style:{"--value":Math.floor(f%3600/60)}})}),(0,r.jsx)("span",{className:l,children:"分"})]}),(m<=0||void 0!==a&&a)&&(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"countdown font-mono ".concat(l),children:(0,r.jsx)("span",{style:{"--value":f%60}})}),(0,r.jsx)("span",{className:l,children:"秒"})]})]})}},64777:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.title;return(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-lg font-bold",children:n})})}},21338:function(e,n,t){"use strict";var s=t(91309),r=t(85893),c=t(67294),a=t(88504),i=t(93778),l=t(74089),o=t(42083);n.Z=function(e){var n=e.currentRound,t=e.roundType,d=e.showCountdown,u=(0,a.O)().data,x=(0,c.useContext)(i.M),f=x?x.token:void 0,h=!u||!f||void 0===f.voteOriginBlocks,m=(0,s._)((0,c.useState)(BigInt(0)),2),g=m[0],v=m[1],j=Number("30126")||0,p=Number("2868")||0,N=f?Number(f.voteOriginBlocks):0,y=j-(Number(u)-N)%j,b=y>0?Math.ceil(y*p/1e3):0,I=(0,s._)((0,c.useState)(b),2),w=I[0],B=I[1];(0,c.useEffect)(function(){if(u){var e=j-(Number(u)-N)%j;B(e>0?Math.ceil(e*p/1e3):0)}},[u,j,p,N]),(0,c.useEffect)(function(){n>BigInt(0)&&v(n)},[n]);var _=null!=g?g.toString():"0";return g<=BigInt(0)?(0,r.jsx)(r.Fragment,{}):h||null==g||g<BigInt(0)?(null==g||BigInt(0),(0,r.jsx)(o.Z,{})):(0,r.jsx)("div",{className:"flex items-center mb-3",children:(0,r.jsxs)("span",{className:"text-sm text-greyscale-400",children:["(第",(0,r.jsx)("span",{className:"text-greyscale-400",children:_}),"轮","vote"===t?"投票":"verify"===t?"验证":"行动","阶段，",(0,r.jsx)("span",{className:"text-greyscale-400",children:"剩余"}),(0,r.jsx)("span",{className:"text-greyscale-400",children:Math.ceil(1e3*w/p)}),(0,r.jsx)("span",{className:"text-greyscale-400 mr-1",children:"块, 约"}),void 0===d||d?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{initialTimeLeft:b,onTick:B})}):(0,r.jsx)("span",{className:"text-greyscale-400",children:w<60?"".concat(w,"秒"):w<=300?"".concat(Math.floor(w/60),"分钟").concat(w%60,"秒"):w<3600?"".concat(Math.floor(w/60),"分钟"):"".concat(Math.floor(w/3600),"小时").concat(Math.floor(w%3600/60),"分钟")}),(0,r.jsx)("span",{className:"text-greyscale-400",children:")"})]})})}},27238:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return R}});var s=t(91309),r=t(85893),c=t(11163),a=t(41664),i=t.n(a),l=t(67294),o=t(87250),d=t(73591),u=t(93778),x=t(83494),f=t(20725),h=t(64777),m=t(42130),g=t(7080),v=t(91529),j=t(42083),p=function(e){var n=e.currentRound,t=e.actionId,s=e.onRemainingVotesChange,c=((0,l.useContext)(u.M)||{}).token,a=(0,m.m)().address,i=(0,g.Ol)(null==c?void 0:c.address,n,a||"",t),x=i.votesNumByAccountByActionId,f=i.isPending,h=i.error,p=(0,o.Tl)(null==c?void 0:c.address,n,a||"",t),N=p.scoreByVerifierByActionId,y=p.isPending,b=p.error,I=f||y?BigInt(0):x-N;(0,l.useEffect)(function(){f||y||null==s||s(I)},[I,f,y]);var w=(0,d.S)().handleContractError;return((0,l.useEffect)(function(){h&&w(h,"vote"),b&&w(b,"verify")},[h,b]),I<=0)?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("div",{className:"px-4",children:(0,r.jsxs)("div",{className:"text-center bg-greyscale-100 p-4 rounded-lg",children:[(0,r.jsxs)("span",{className:"text-greyscale-800 text-base",children:["我的剩余验证票数：",f||y?(0,r.jsx)(j.Z,{}):(0,r.jsx)("span",{className:"text-secondary",children:(0,v.LH)(I)})]}),(0,r.jsx)("div",{className:"mt-2 text-sm text-greyscale-500 text-center",children:"提示: 您的验证票，将按“打分比例”分配给行动参与者"})]})})},N=t(21338),y=t(75766),b=t(72253),I=t(14932),w=t(27245),B=t(86501),_=t(39360),C=t(93950),E=t(27460),k=t(44576),Z=t(72107),P=t(1938),S=function(e){var n,t,a=e.currentRound,i=e.actionId,x=e.actionInfo,f=e.remainingVotes,h=((0,l.useContext)(u.M)||{}).token;(0,_.x)(),(0,c.useRouter)();var m=(0,C.X5)(null==h?void 0:h.address,a,i),g=m.verificationInfos,p=m.isPending,N=m.error,S=(0,C.pK)(null==h?void 0:h.address,a,i),M=S.verifiedAddresses,A=(S.isPending,S.error),O=(0,o.LW)(null==h?void 0:h.address,a,i,"0x0000000000000000000000000000000000000000"),R=O.scoreByActionIdByAccount,T=(O.isPending,O.error),V=(0,s._)((0,l.useState)({}),2),D=V[0],L=V[1],F=(0,s._)((0,l.useState)("0"),2),K=F[0],q=F[1];(0,l.useEffect)(function(){if(g&&g.length>0){var e={};g.forEach(function(n){e[n.account]=""}),L(e),q("")}},[g]);var z=function(){var e=Object.values(D).map(function(e){return parseInt(e)||0}),n=parseInt(K)||0,t=e.reduce(function(e,n){return e+n},0)+n;if(0===t)return{addressPercentages:{},abstainPercentage:0};var s={};return Object.keys(D).forEach(function(e){var n=parseInt(D[e])||0;s[e]=n/t*100}),{addressPercentages:s,abstainPercentage:n/t*100}}(),X=z.addressPercentages,W=z.abstainPercentage,Y=(n={},(t=((null==M?void 0:M.reduce(function(e,n){return e+n.score},BigInt(0)))||BigInt(0))+(R||BigInt(0)))>BigInt(0)&&(null==g||g.forEach(function(e){var s=null==M?void 0:M.find(function(n){return n.account===e.account}),r=(null==s?void 0:s.score)||BigInt(0);n[e.account]=Number(r)/Number(t)*100})),{verificationPercentages:n,totalVerifiedVotes:t}),$=Y.verificationPercentages,H=Y.totalVerifiedVotes,Q=function(e,n){(""===n||/^[0-9]+$/.test(n))&&L((0,I._)((0,b._)({},D),(0,y._)({},e,n)))},U=function(e){(""===e||/^[0-9]+$/.test(e))&&q(e)},G=(0,o.yl)(),J=G.verify,ee=G.isPending,en=G.isConfirming,et=G.isConfirmed,es=G.writeError;(0,l.useEffect)(function(){et&&!es&&(B.Am.success("提交成功",{duration:2e3}),setTimeout(function(){P.N.reloadWithOverlay()},2e3))},[et,es]);var er=(0,d.S)().handleContractError;return(0,l.useEffect)(function(){es&&er(es,"verify"),N&&er(N,"dataViewer"),A&&er(A,"dataViewer"),T&&er(T,"verify")},[es,N,A,T]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-full max-w-2xl",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,r.jsx)("th",{className:"pb-3 text-left text-sm text-greyscale-500",children:"被抽中的行动参与者"}),(0,r.jsx)("th",{className:"pb-3 text-left whitespace-nowrap w-16 text-sm text-greyscale-500",children:"打分"}),(0,r.jsx)("th",{className:"pb-3 text-center whitespace-nowrap w-14 text-sm text-greyscale-500",children:"分配"})]})}),(0,r.jsxs)("tbody",{children:[p&&(0,r.jsx)(j.Z,{}),g&&g.length>0?g.map(function(e,n){return(0,r.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,r.jsx)("td",{className:"py-1",children:(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs font-bold text-gray-500 min-w-[4px]",children:n+1}),(0,r.jsx)("div",{className:"font-mono",children:(0,r.jsx)(E.Z,{address:e.account})})]}),x&&(0,r.jsx)("div",{className:"text-sm text-greyscale-800 ml-3",children:x.body.verificationKeys.map(function(n,t){return(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-1",children:[n,":"]}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.L,{text:e.infos[t]})})]},t)})})]})}),(0,r.jsx)("td",{className:"py-1 w-16 px-1",children:(0,r.jsxs)("div",{className:"flex items-center text-left",children:[(0,r.jsx)("input",{type:"number",min:"0",value:D[e.account]||"",placeholder:"0",onChange:function(n){return Q(e.account,n.target.value)},className:"w-10 px-1 py-1 border rounded text-xs",disabled:ee||et}),(0,r.jsx)("span",{className:"text-greyscale-500 text-xs",children:"分"})]})}),(0,r.jsx)("td",{className:"py-1 text-center w-14 whitespace-nowrap px-1",children:(0,r.jsxs)("div",{className:"leading-tight",children:[(0,r.jsx)("div",{className:"text-sm text-greyscale-600 ",children:(0,v.rl)(X[e.account]||0)}),(0,r.jsxs)("div",{className:"text-xs text-greyscale-500 ",children:["(当前",(0,v.rl)($[e.account]||0),")"]})]})})]},e.account)}):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,className:"text-center py-4",children:"暂无数据"})}),g&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2",children:(0,r.jsx)("div",{className:"text-left",children:(0,r.jsx)("div",{className:"text-sm text-greyscale-800",children:(0,r.jsx)("span",{children:"弃权票数："})})})}),(0,r.jsx)("td",{className:"py-2 w-16 px-1",children:(0,r.jsxs)("div",{className:"flex items-center text-left",children:[(0,r.jsx)("input",{type:"number",min:"0",value:K,placeholder:"0",onChange:function(e){return U(e.target.value)},className:"w-10 px-1 py-1 border rounded text-xs",disabled:ee||et}),(0,r.jsx)("span",{className:"text-greyscale-500 text-xs",children:"分"})]})}),(0,r.jsx)("td",{className:"py-2 text-center w-14 whitespace-nowrap px-1",children:(0,r.jsxs)("div",{className:"text-greyscale-500 text-xs leading-tight",children:[(0,r.jsx)("div",{children:(0,v.rl)(W)}),(0,r.jsxs)("div",{children:["(当前",(0,v.rl)(H>BigInt(0)?Number(R||BigInt(0))/Number(H)*100:0),")"]})]})})]})]})]})}),(0,r.jsxs)(w.z,{onClick:function(){if(f<=BigInt(2)?(B.Am.error("剩余票数不足，无法验证"),!1):!Object.values(D).every(function(e){return 0===parseInt(e)||""===e})||0!==parseInt(K)&&""!==K||(B.Am.error("请至少给一个地址或弃权投票打分"),!1)){var e=Object.values(D).reduce(function(e,n){return e+(parseInt(n)||0)},0)+(parseInt(K)||0),n=[],t=BigInt(0);g.forEach(function(s,r){var c=parseInt(D[s.account])||0,a=BigInt(Math.floor(Number(f)*(c/e)));if((t+=a)>f){var i=t-f;t-=i,n.push(a-i)}else n.push(a)});var s=n.reduce(function(e,n){return e+n},BigInt(0));if(parseInt(K)>0){var r=f>s?f-s:BigInt(0);J(null==h?void 0:h.address,i,r,n)}else{if(s<f){var c=n.findIndex(function(e){return e>BigInt(0)});-1!==c&&(n[c]+=f-s)}J(null==h?void 0:h.address,i,BigInt(0),n)}}},disabled:ee||en||et,className:"mt-6 w-1/2",children:[!ee&&!en&&!et&&"提交验证",ee&&"提交中...",en&&"确认中...",et&&"已验证"]}),(0,r.jsx)(k.Z,{isLoading:ee||en,text:ee?"提交交易...":"确认交易..."})]})},M=t(42171),A=t(4307),O=function(e){var n=e.currentRound,t=e.actionId,c=e.actionInfo,a=((0,l.useContext)(u.M)||{}).token,i=(0,m.m)().address,x=(0,s._)((0,l.useState)(new Set),2),f=x[0],p=x[1],y=(0,o.LW)(null==a?void 0:a.address,n,t,"0x0000000000000000000000000000000000000000"),w=y.scoreByActionIdByAccount,B=y.isPending,_=y.error,k=(0,C.pK)(null==a?void 0:a.address,n,t),P=k.verifiedAddresses,S=k.isPending,O=k.error,R=(0,C.X5)(null==a?void 0:a.address,n,t),T=R.verificationInfos,V=R.isPending,D=R.error,L=(0,g.wD)(null==a?void 0:a.address,n,t),F=L.votesNumByActionId,K=(L.isPending,L.error),q=(0,d.S)().handleContractError;(0,l.useEffect)(function(){O&&q(O,"dataViewer"),D&&q(D,"dataViewer"),_&&q(_,"verify"),K&&q(K,"vote")},[O,D,_,K]);var z=function(e){var n=new Set(f);n.has(e)?n.delete(e):n.add(e),p(n)},X=((null==P?void 0:P.reduce(function(e,n){return e+n.score},BigInt(0)))||BigInt(0))+(w||BigInt(0)),W=Number(X)/Number(F||BigInt(0))*100;return(0,r.jsxs)("div",{className:"relative px-4 pb-4 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.Z,{title:"当前轮最新验证结果"}),(0,r.jsxs)("span",{className:"text-sm text-greyscale-500 ml-2",children:["(验证进度：",(0,v.rl)(W),")"]})]}),(0,r.jsx)("div",{className:"flex justify-left mt-2",children:(0,r.jsx)(N.Z,{currentRound:n,roundType:"verify"})}),V||S||B?(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(j.Z,{})}):T&&0!==T.length?(0,r.jsxs)("table",{className:"table w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,r.jsx)("th",{}),(0,r.jsx)("th",{children:"被抽中地址"}),(0,r.jsx)("th",{className:"px-1 text-right",children:"获得验证票"}),(0,r.jsx)("th",{className:"px-1 text-right",children:"验证票占比"})]})}),(0,r.jsxs)("tbody",{children:[T.map(function(e){var n=null==P?void 0:P.find(function(n){return n.account===e.account});return(0,I._)((0,b._)({},e),{score:(null==n?void 0:n.score)||BigInt(0)})}).sort(function(e,n){return e.score>n.score?-1:e.score<n.score?1:0}).map(function(e){var n=null==P?void 0:P.find(function(n){return n.account===e.account}),t=f.has(e.account);return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("tr",{className:"border-b border-gray-100 ".concat(e.account===i?"text-secondary":""),children:[(0,r.jsx)("td",{className:"px-1 w-8",children:(0,r.jsx)("button",{onClick:function(){return z(e.account)},className:"text-greyscale-400 hover:text-greyscale-600",children:t?(0,r.jsx)(M.Z,{size:16}):(0,r.jsx)(A.Z,{size:16})})}),(0,r.jsx)("td",{className:"px-1",children:(0,r.jsx)(E.Z,{address:e.account,showCopyButton:!0,word:e.account===i?"(我)":""})}),(0,r.jsx)("td",{className:"px-1 text-right",children:(0,v.tY)((null==n?void 0:n.score)||BigInt(0))}),(0,r.jsx)("td",{className:"px-1 text-right",children:(0,v.rl)(Number((null==n?void 0:n.score)||BigInt(0))/Number(X||BigInt(0))*100)})]}),c&&t&&(0,r.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50",children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",{colSpan:2,className:"px-1 py-3",children:(0,r.jsxs)("div",{className:"text-sm text-greyscale-600",children:[(0,r.jsx)("div",{className:"text-xs text-greyscale-400 mb-2",children:"验证信息:"}),c.body.verificationKeys.map(function(n,t){return(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsxs)("span",{className:"text-greyscale-500",children:[n,":"]})," ",(0,r.jsx)(Z.L,{text:e.infos[t]})]},t)})]})})]})]},e.account)}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-1"}),(0,r.jsx)("td",{className:"px-1 text-greyscale-500",children:"弃权票"}),(0,r.jsx)("td",{className:"px-1 text-right",children:(0,v.tY)(w||BigInt(0))}),(0,r.jsx)("td",{className:"px-1 text-right",children:(0,v.rl)(Number(w||BigInt(0))/Number(X||BigInt(0))*100)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-1"}),(0,r.jsx)("td",{className:"px-1 text-greyscale-500",children:"汇总 "}),(0,r.jsx)("td",{className:"px-1 text-right",children:(0,v.tY)(X||BigInt(0))}),(0,r.jsx)("td",{className:"px-1 text-right",children:"100%"})]})]})]}):(0,r.jsx)("div",{className:"text-center text-sm text-greyscale-400 p-4",children:"没有验证地址"})]})},R=function(){var e=BigInt((0,c.useRouter)().query.id||"0"),n=((0,l.useContext)(u.M)||{}).token,t=(0,o.Bk)(),a=t.currentRound,m=t.error,g=(0,d.S)().handleContractError;(0,l.useEffect)(function(){m&&g(m,"verify")},[m]);var v=(0,s._)((0,l.useState)(BigInt(-1)),2),y=v[0],b=v[1],I=(0,s._)((0,l.useState)(void 0),2),w=I[0],B=I[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{title:"验证",backUrl:"/verify/?symbol=".concat(null==n?void 0:n.symbol)}),(0,r.jsxs)("main",{className:"flex-grow",children:[y>0&&(0,r.jsxs)("div",{className:"px-4 pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(h.Z,{title:"请分配您的验证票："}),(0,r.jsx)(i(),{href:"/action/info/?id=".concat(e,"&symbol=").concat(null==n?void 0:n.symbol,"&tab=verify&tab2=current"),className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"验证结果>>"})]}),(0,r.jsx)(N.Z,{currentRound:a,roundType:"verify",showCountdown:!1})]}),(0,r.jsx)(p,{currentRound:a,actionId:e,onRemainingVotesChange:function(e){b(e)}}),(0,r.jsxs)("div",{className:"flex flex-col items-center p-4",children:[y>BigInt(1)&&(0,r.jsx)(S,{currentRound:a,actionId:e,actionInfo:w,remainingVotes:y}),y>=BigInt(0)&&y<=BigInt(1)&&(0,r.jsx)(O,{currentRound:a,actionId:e,actionInfo:w}),y<BigInt(0)&&(0,r.jsx)(j.Z,{})]}),(0,r.jsx)(f.Z,{actionId:e,round:BigInt(a||0),showSubmitter:!0,onActionInfo:B})]})]})}},88504:function(e,n,t){"use strict";t.d(n,{O:function(){return f}});var s=t(72253),r=t(14932),c=t(3628),a=t(97712),i=t(81946),l=t(36100),o=t(95159),d=t(39360),u=t(78942),x=t(63973);function f(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=t.query,h=void 0===f?{}:f,m=t.watch,g=(0,u.Z)(t),v=(0,c.NL)(),j=(0,d.x)({config:g}),p=null!==(e=t.chainId)&&void 0!==e?e:j,N=function(e,n={}){return{gcTime:0,async queryFn({queryKey:n}){let{scopeKey:t,...s}=n[1];return await function(e,n={}){let{chainId:t,...s}=n,r=e.getClient({chainId:t});return(0,i.s)(r,a.z,"getBlockNumber")(s)}(e,s)??null},queryKey:function(e={}){return["blockNumber",(0,l.OP)(e)]}(n)}}(g,(0,r._)((0,s._)({},t),{chainId:p}));return(0,x.x)((0,r._)((0,s._)({},(0,s._)({config:t.config,chainId:t.chainId},"object"==typeof m?m:{})),{enabled:!!((null===(n=h.enabled)||void 0===n||n)&&("object"==typeof m?m.enabled:m)),onBlockNumber:function(e){v.setQueryData(N.queryKey,e)}})),(0,o.aM)((0,s._)({},h,N))}},63973:function(e,n,t){"use strict";t.d(n,{x:function(){return u}});var s=t(72253),r=t(14932),c=t(47702),a=t(65185),i=t(81946),l=t(67294),o=t(39360),d=t(78942);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.enabled,u=void 0===t||t,x=n.onBlockNumber,f=(n.config,(0,c._)(n,["enabled","onBlockNumber","config"])),h=(0,d.Z)(n),m=(0,o.x)({config:h}),g=null!==(e=n.chainId)&&void 0!==e?e:m;(0,l.useEffect)(function(){if(u&&x)return function(e,n){let t,s;let{syncConnectedChain:r=e._internal.syncConnectedChain,...c}=n,l=n=>{t&&t();let s=e.getClient({chainId:n});return t=(0,i.s)(s,a.q,"watchBlockNumber")(c)},o=l(n.chainId);return r&&!n.chainId&&(s=e.subscribe(({chainId:e})=>e,async e=>l(e))),()=>{o?.(),s?.()}}(h,(0,r._)((0,s._)({},f),{chainId:g,onBlockNumber:x}))},[g,h,u,x,f.onError,f.emitMissed,f.emitOnBegin,f.poll,f.pollingInterval,f.syncConnectedChain])}}},function(e){e.O(0,[8239,367,3494,2252,3950,7724,7250,5370,2888,9774,179],function(){return e(e.s=81130)}),_N_E=e.O()}]);