(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9871],{1709:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(37876);let n=e=>{var s=e.title;return(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h1",{className:"text-lg font-bold",children:s})})}},12293:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(37876),n=t(7446);let r=()=>(0,a.jsx)(n.A,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})},18651:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var a=t(40854),n=t(37876),r=t(14232),l=t(63934),c=t(83416);let i=e=>{var s=e.initialTimeLeft,t=e.onTick,l=(0,a._)((0,r.useState)(Date.now()+1e3*s),2),c=l[0],i=l[1],d=(0,a._)((0,r.useState)(s),2),o=d[0],x=d[1];(0,r.useEffect)(()=>{i(Date.now()+1e3*s)},[s]),(0,r.useEffect)(()=>{var e=setInterval(()=>{var s=Math.max(0,Math.floor((c-Date.now())/1e3));x(s),t&&t(s),s<=0&&(clearInterval(e),window.location.reload())},1e3);return()=>clearInterval(e)},[c,t]);var m=Math.floor(o/86400),u=Math.floor(o%86400/3600),h=Math.floor(o%3600/60);return(0,n.jsxs)("div",{className:"inline-flex gap-1 text-greyscale-400",children:[m>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":m}})}),"天"]}),(u>0||m>0)&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":u}})}),"时"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":h}})}),"分"]}),m<=0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":o%60}})}),"秒"]})]})};var d=t(12293);let o=e=>{var s=e.currentRound,t=e.roundType,o=e.showCountdown,x=(0,l.y)().data,m=(0,r.useContext)(c.N),u=m?m.token:void 0,h=!x||!u||void 0===u.voteOriginBlocks,j=(0,a._)((0,r.useState)(0n),2),v=j[0],N=j[1],f=Number("33784")||0,g=Number("255")||0,p=u?Number(u.voteOriginBlocks):0,y=f-(Number(x)-p)%f,b=y>0?Math.ceil(y*g/100):0,w=(0,a._)((0,r.useState)(b),2),A=w[0],I=w[1];(0,r.useEffect)(()=>{if(x){var e=f-(Number(x)-p)%f;I(e>0?Math.ceil(e*g/100):0)}},[x,f,g,p]),(0,r.useEffect)(()=>{u&&s>0n&&N(s-BigInt(u.initialStakeRound)+1n)},[s,u]);var C=null!=v?v.toString():"0";return(null==u?void 0:u.initialStakeRound)&&!(v<=0n)?h||null==v||v<0n?((null==v||v<0n)&&(console.log("currentTokenRound",v),console.log("currentRound",s),console.log("token.initialStakeRound",null==u?void 0:u.initialStakeRound),console.log("token",u)),(0,n.jsx)(d.A,{})):(0,n.jsx)("div",{className:"flex items-center mb-3",children:(0,n.jsxs)("span",{className:"text-sm text-greyscale-400",children:["( 第",(0,n.jsx)("span",{className:"text-greyscale-400",children:C}),"轮","vote"===t?"投票":"verify"===t?"验证":"行动","阶段，",(0,n.jsx)("span",{className:"text-greyscale-400",children:"剩余"}),(0,n.jsx)("span",{className:"text-greyscale-400",children:Math.ceil(100*A/g)}),(0,n.jsx)("span",{className:"text-greyscale-400 mr-1",children:"块, 约"}),void 0===o||o?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i,{initialTimeLeft:b,onTick:I})}):(0,n.jsx)("span",{className:"text-greyscale-400",children:A<60?"".concat(A,"秒"):A<=300?"".concat(Math.floor(A/60),"分钟").concat(A%60,"秒"):A<3600?"".concat(Math.floor(A/60),"分钟"):"".concat(Math.floor(A/3600),"小时").concat(Math.floor(A%3600/60),"分钟")}),(0,n.jsx)("span",{className:"text-greyscale-400",children:" )"})]})}):(0,n.jsx)(n.Fragment,{})}},23426:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>B});var a=t(40854),n=t(37876),r=t(89099),l=t(14232),c=t(29898),i=t(20451),d=t(66663),o=t(92101),x=t(1709),m=t(8047),u=t(98684),h=t(83416),j=t(20442),v=t(12293);let N=e=>{var s=e.currentRound,t=e.actionId,a=e.onRemainingVotesChange,r=((0,l.useContext)(h.N)||{}).token,d=(0,m.F)().address,o=(0,u.$6)(null==r?void 0:r.address,s,d||"",t),x=o.votesNumByAccountByActionId,N=o.isPending,f=o.error,g=(0,c.XC)(null==r?void 0:r.address,s,d||"",t),p=g.scoreByVerifierByActionId,y=g.isPending,b=g.error,w=N||y?BigInt(0):x-p;(0,l.useEffect)(()=>{N||y||(console.log("remainingVotes",w),console.log("isPendingVotesNumByAccount",N),console.log("isPendingScoreByVerifier",y),null==a||a(w))},[w,N,y]);var A=(0,i.g)().handleContractError;return((0,l.useEffect)(()=>{f&&A(f,"vote"),b&&A(b,"verify")},[f,b]),w<=0)?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("div",{className:"px-4",children:(0,n.jsxs)("div",{className:"text-center bg-greyscale-100 p-4 rounded-lg",children:[(0,n.jsxs)("span",{className:"text-greyscale-800 text-base",children:["我的剩余验证票数：",N||y?(0,n.jsx)(v.A,{}):(0,n.jsx)("span",{className:"text-secondary",children:(0,j.NJ)(w)})]}),(0,n.jsx)("div",{className:"mt-2 text-sm text-greyscale-500 text-center",children:"提示: 您的验证票，将按“打分比例”分配给行动参与者"})]})})};var f=t(18651),g=t(3576),p=t(62701),y=t(6960),b=t(97685),w=t(42038),A=t(52372),I=t(87577),C=t(99574),E=t(43885);let k=e=>{var s=e.currentRound,t=e.actionId,d=e.actionInfo,o=e.remainingVotes,x=((0,l.useContext)(h.N)||{}).token,u=(0,m.F)().chain,N=(0,r.useRouter)(),f=(0,A.Zp)(null==x?void 0:x.address,s,t),k=f.verificationInfos,S=f.isPending,_=f.error,R=(0,a._)((0,l.useState)({}),2),B=R[0],V=R[1],P=(0,a._)((0,l.useState)("0"),2),F=P[0],M=P[1];(0,l.useEffect)(()=>{if(k&&k.length>0){var e={};k.forEach(s=>{e[s.account]=""}),V(e),M("")}},[k]);var T=(()=>{var e=Object.values(B).map(e=>parseInt(e)||0),s=parseInt(F)||0,t=e.reduce((e,s)=>e+s,0)+s;if(0===t)return{addressPercentages:{},abstainPercentage:0};var a={};return Object.keys(B).forEach(e=>{var s=parseInt(B[e])||0;a[e]=s/t*100}),{addressPercentages:a,abstainPercentage:s/t*100}})(),$=T.addressPercentages,L=T.abstainPercentage,O=(e,s)=>{(""===s||/^[0-9]+$/.test(s))&&V((0,p._)((0,g._)({},B),{[e]:s}))},D=e=>{(""===e||/^[0-9]+$/.test(e))&&M(e)},H=(0,c.VI)(),K=H.verify,z=H.isWriting,X=H.isConfirming,Z=H.isConfirmed,J=H.writeError,W=()=>!!(0,w.C)(u)&&(o<=2n?(b.oR.error("剩余票数不足，无法验证"),!1):!Object.values(B).every(e=>0===parseInt(e)||""===e)||0!==parseInt(F)&&""!==F||(b.oR.error("请至少给一个地址或弃权投票打分"),!1));(0,l.useEffect)(()=>{Z&&!J&&(b.oR.success("提交成功",{duration:2e3}),setTimeout(()=>{N.push("/verify/?symbol=".concat(null==x?void 0:x.symbol))},2e3))},[Z,J]);var Y=(0,i.g)().handleContractError;return(0,l.useEffect)(()=>{J&&Y(J,"verify"),_&&Y(_,"dataViewer")},[J,_]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full max-w-2xl",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,n.jsx)("th",{className:"pb-3 text-left text-sm text-greyscale-500",children:"被抽中的行动参与者"}),(0,n.jsx)("th",{className:"pb-3 pl-2 text-left whitespace-nowrap w-20 text-sm text-greyscale-500",children:"打分"}),(0,n.jsx)("th",{className:"pb-3 text-center whitespace-nowrap w-16 text-sm text-greyscale-500",children:"分配"})]})}),(0,n.jsxs)("tbody",{children:[S&&(0,n.jsx)(v.A,{}),k&&k.length>0?k.map((e,s)=>(0,n.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,n.jsx)("td",{className:"py-2",children:(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("div",{className:"font-mono",children:(0,n.jsx)(I.A,{address:e.account})}),d&&(0,n.jsx)("div",{className:"text-sm text-greyscale-800",children:d.body.verificationKeys.map((s,t)=>(0,n.jsxs)("div",{children:[s,": ",(0,n.jsx)(E.H,{text:e.infos[t]})]},t))})]})}),(0,n.jsx)("td",{className:"py-2 w-20",children:(0,n.jsxs)("div",{className:"flex items-center text-left",children:[(0,n.jsx)("input",{type:"number",min:"0",value:B[e.account]||"",placeholder:"0",onChange:s=>O(e.account,s.target.value),className:"w-11 px-1 py-1 border rounded",disabled:z||Z}),(0,n.jsx)("span",{className:"text-greyscale-500 text-sm",children:"分"})]})}),(0,n.jsx)("td",{className:"py-2 text-center w-16 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-greyscale-500 text-sm",children:(0,j.Ee)($[e.account]||0)})})]},e.account)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:3,className:"text-center py-4",children:"暂无数据"})}),k&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"py-2",children:(0,n.jsx)("div",{className:"text-left",children:(0,n.jsx)("div",{className:"text-sm text-greyscale-800",children:(0,n.jsx)("span",{children:"弃权票数："})})})}),(0,n.jsx)("td",{className:"py-2 w-20",children:(0,n.jsxs)("div",{className:"flex items-center text-left",children:[(0,n.jsx)("input",{type:"number",min:"0",value:F,placeholder:"0",onChange:e=>D(e.target.value),className:"w-11 px-1 py-1 border rounded",disabled:z||Z}),(0,n.jsx)("span",{className:"text-greyscale-500 text-sm",children:"分"})]})}),(0,n.jsx)("td",{className:"py-2 text-center w-16 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-greyscale-500 text-sm",children:(0,j.Ee)(L)})})]})]})]})}),(0,n.jsxs)(y.$,{onClick:()=>{if(W()){var e=Object.values(B).reduce((e,s)=>e+(parseInt(s)||0),0)+(parseInt(F)||0);console.log("-------handleSubmit()-------"),console.log("scoreSum",e);var s=[],a=0n;k.forEach((t,n)=>{var r=parseInt(B[t.account])||0,l=BigInt(Math.floor(Number(o)*(r/e)));if((a+=l)>o){var c=a-o;a-=c,s.push(l-c)}else s.push(l)});var n=s.reduce((e,s)=>e+s,0n);if(console.log("remainingVotes",o),console.log("scoresArrayTotal",n),console.log("scoresArrayForSubmit",s),parseInt(F)>0){var r=o>n?o-n:0n;console.log("abstainVotes",r),K(null==x?void 0:x.address,t,r,s)}else{if(n<o){var l=s.findIndex(e=>e>0n);-1!==l&&(s[l]+=o-n)}console.log("abstainVotes",0n),K(null==x?void 0:x.address,t,0n,s)}}},disabled:z||X||Z,className:"mt-6 w-1/2",children:[!z&&!X&&!Z&&"提交验证",z&&"提交中...",X&&"确认中...",Z&&"已验证"]}),(0,n.jsx)(C.A,{isLoading:z||X,text:z?"提交交易...":"确认交易..."})]})};var S=t(30822),_=t(96108);let R=e=>{var s=e.currentRound,t=e.actionId,r=e.actionInfo;e.remainingVotes;var d=((0,l.useContext)(h.N)||{}).token,o=(0,m.F)().address,N=(0,a._)((0,l.useState)(new Set),2),y=N[0],b=N[1],w=(0,c.YZ)(null==d?void 0:d.address,s,t,"0x0000000000000000000000000000000000000000"),C=w.scoreByActionIdByAccount,k=w.isPending,R=w.error,B=(0,A.p$)(null==d?void 0:d.address,s,t),V=B.verifiedAddresses,P=B.isPending,F=B.error,M=(0,A.Zp)(null==d?void 0:d.address,s,t),T=M.verificationInfos,$=M.isPending,L=M.error,O=(0,u.xe)(null==d?void 0:d.address,s,t),D=O.votesNumByActionId,H=(O.isPending,O.error),K=(0,i.g)().handleContractError;(0,l.useEffect)(()=>{F&&K(F,"dataViewer"),L&&K(L,"dataViewer"),R&&K(R,"verify"),H&&K(H,"vote")},[F,L,R,H]);var z=e=>{var s=new Set(y);s.has(e)?s.delete(e):s.add(e),b(s)},X=(null==V?void 0:V.reduce((e,s)=>e+s.score,0n))||0n,Z=Number(X)/Number(D||0n)*100;return(0,n.jsxs)("div",{className:"relative px-4 pb-4 w-full",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(x.A,{title:"当前轮最新验证结果"}),(0,n.jsxs)("span",{className:"text-sm text-greyscale-500 ml-2",children:["(验证进度：",(0,j.Ee)(Z),")"]})]}),(0,n.jsx)("div",{className:"flex justify-left mt-2",children:(0,n.jsx)(f.A,{currentRound:s,roundType:"verify"})}),$||P||k?(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)(v.A,{})}):T&&0!==T.length?(0,n.jsxs)("table",{className:"table w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{children:"被抽中地址"}),(0,n.jsx)("th",{className:"px-1 text-right",children:"获得验证票"}),(0,n.jsx)("th",{className:"px-1 text-right",children:"验证票占比"})]})}),(0,n.jsxs)("tbody",{children:[T.map(e=>{var s=null==V?void 0:V.find(s=>s.account===e.account);return(0,p._)((0,g._)({},e),{score:(null==s?void 0:s.score)||0n})}).sort((e,s)=>e.score>s.score?-1:+(e.score<s.score)).map(e=>{var s=null==V?void 0:V.find(s=>s.account===e.account),t=y.has(e.account);return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsxs)("tr",{className:"border-b border-gray-100 ".concat(e.account===o?"text-secondary":""),children:[(0,n.jsx)("td",{className:"px-1 w-8",children:(0,n.jsx)("button",{onClick:()=>z(e.account),className:"text-greyscale-400 hover:text-greyscale-600",children:t?(0,n.jsx)(S.A,{size:16}):(0,n.jsx)(_.A,{size:16})})}),(0,n.jsx)("td",{className:"px-1",children:(0,n.jsx)(I.A,{address:e.account,showCopyButton:!0,word:e.account===o?"(我)":""})}),(0,n.jsx)("td",{className:"px-1 text-right",children:(0,j.$w)((null==s?void 0:s.score)||0n)}),(0,n.jsx)("td",{className:"px-1 text-right",children:(0,j.Ee)(Number((null==s?void 0:s.score)||0n)/Number(X||0n)*100)})]}),r&&t&&(0,n.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50",children:[(0,n.jsx)("td",{}),(0,n.jsx)("td",{colSpan:2,className:"px-1 py-3",children:(0,n.jsxs)("div",{className:"text-sm text-greyscale-600",children:[(0,n.jsx)("div",{className:"text-xs text-greyscale-400 mb-2",children:"验证信息:"}),r.body.verificationKeys.map((s,t)=>(0,n.jsxs)("div",{className:"mb-1",children:[(0,n.jsxs)("span",{className:"text-greyscale-500",children:[s,":"]})," ",(0,n.jsx)(E.H,{text:e.infos[t]})]},t))]})})]})]},e.account)}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-1"}),(0,n.jsx)("td",{className:"px-1 text-greyscale-500",children:"弃权票"}),(0,n.jsx)("td",{className:"px-1 text-right",children:(0,j.$w)(C||0n)}),(0,n.jsx)("td",{className:"px-1 text-right",children:(0,j.Ee)(Number(C||0n)/Number(X||0n)*100)})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-1"}),(0,n.jsx)("td",{className:"px-1 text-greyscale-500",children:"汇总 "}),(0,n.jsx)("td",{className:"px-1 text-right",children:(0,j.$w)(X||0n)}),(0,n.jsx)("td",{className:"px-1 text-right",children:"100%"})]})]})]}):(0,n.jsx)("div",{className:"text-center text-sm text-greyscale-400 p-4",children:"没有地址参与行动"})]})},B=()=>{var e=BigInt((0,r.useRouter)().query.id||"0"),s=(0,c.vC)(),t=s.currentRound,m=s.error,u=(0,i.g)().handleContractError;(0,l.useEffect)(()=>{m&&u(m,"verify")},[m]);var h=(0,a._)((0,l.useState)(BigInt(-1n)),2),j=h[0],g=h[1];console.log("remainingVotes",j);var p=(0,a._)((0,l.useState)(void 0),2),y=p[0],b=p[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{title:"验证"}),(0,n.jsxs)("main",{className:"flex-grow",children:[j>0&&(0,n.jsxs)("div",{className:"px-4 pt-4",children:[(0,n.jsx)(x.A,{title:"请分配您的验证票："}),(0,n.jsx)(f.A,{currentRound:t,roundType:"verify",showCountdown:!1})]}),(0,n.jsx)(N,{currentRound:t,actionId:e,onRemainingVotesChange:function(e){g(e)}}),(0,n.jsxs)("div",{className:"flex flex-col items-center p-4",children:[j>1n&&(0,n.jsx)(k,{currentRound:t,actionId:e,actionInfo:y,remainingVotes:j}),j>=0n&&j<=1n&&(0,n.jsx)(R,{currentRound:t,actionId:e,actionInfo:y,remainingVotes:j}),j<0n&&(0,n.jsx)(v.A,{})]}),(0,n.jsx)(o.A,{actionId:e,round:BigInt(t||0),showSubmitter:!0,onActionInfo:b})]})]})}},42038:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var a=t(97685),n=e=>!!e||(a.oR.error("请先将钱包链接 ".concat("thinkium801")),!1)},43885:(e,s,t)=>{"use strict";t.d(s,{H:()=>l});var a=t(37876);t(14232);var n=t(54680),r=e=>{if(!e)return e;var s=/(https?:\/\/[^\s]+)/g;if(!s.test(e))return e;var t=e.split(s),r=e.match(s)||[];return(0,a.jsx)(a.Fragment,{children:t.map((e,s)=>{if(s%2==0)return e;var t=r[(s-1)/2];return(0,a.jsx)("a",{href:t,onClick:e=>{e.preventDefault(),n.a.handleExternalLink(t)},className:"text-blue-500 underline hover:text-blue-700",children:t},s)})})},l=e=>{var s=e.text;return(0,a.jsx)(a.Fragment,{children:r(s)})}},87577:(e,s,t)=>{"use strict";t.d(s,{A:()=>x});var a=t(40854),n=t(37876),r=t(14232),l=t(48447),c=t(33276),i=t(70801),d=t(97685),o=t(20442);let x=e=>{var s=e.address,t=e.word,x=e.showCopyButton,m=e.showAddress,u=void 0===m||m,h=e.colorClassName,j=void 0===h?"":h,v=e.colorClassName2,N=void 0===v?"":v,f=(0,a._)((0,r.useState)(!1),2),g=f[0],p=f[1];return(0,n.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,n.jsx)("span",{className:"text-xs",children:t}),u&&!N&&(0,n.jsx)("span",{className:"text-xs ".concat(null!=j?j:"text-greyscale-500"),children:(0,o.W_)(s)}),u&&N&&(0,n.jsxs)("span",{className:"text-[0px]",children:[(0,n.jsx)("span",{className:"text-xs ".concat(null!=j?j:"text-greyscale-500"),children:"".concat(s.substring(0,6),"...")}),(0,n.jsx)("span",{className:"text-xs ".concat(N),children:"".concat(s.substring(s.length-4))})]}),(void 0===x||x)&&(0,n.jsx)(l.CopyToClipboard,{text:s,onCopy:(e,s)=>{s?p(!0):d.Ay.error("复制失败")},children:(0,n.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:g?(0,n.jsx)(c.A,{className:"h-4 w-4 ".concat(null!=j?j:"text-greyscale-500")}):(0,n.jsx)(i.A,{className:"h-4 w-4 ".concat(null!=j?j:"text-greyscale-500")})})})]})}},92101:(e,s,t)=>{"use strict";t.d(s,{A:()=>v});var a=t(37876),n=t(14232),r=t(6960),l=t(48230),c=t.n(l),i=t(64115),d=t(20451),o=t(83416),x=t(20442),m=t(43885),u=t(87577),h=t(12293),j=t(1709);let v=e=>{var s,t=e.actionId,l=e.round,v=e.showSubmitter,N=e.showVerifyHistory,f=e.onActionInfo,g=((0,n.useContext)(o.N)||{}).token,p=(0,i.Y4)(null==g?void 0:g.address,t),y=p.actionInfo,b=p.isPending,w=p.error;(0,n.useEffect)(()=>{f&&y&&f(y)},[y]);var A=(0,i.VD)(null==g?void 0:g.address,v?l:0n),I=A.actionSubmits,C=A.isPending,E=A.error,k=(null==I||null==(s=I.find(e=>e.actionId==Number(t)))?void 0:s.submitter)||"N/A",S=(0,d.g)().handleContractError;return((0,n.useEffect)(()=>{w&&S(w,"submit"),E&&S(E,"submit")},[w,E]),b)?(0,a.jsx)(h.A,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mx-auto p-4 pb-2 border-t border-greyscale-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)(j.A,{title:"行动详情"}),(void 0===N||N)&&(0,a.jsx)(r.$,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(c(),{href:"/my/actrewards/?id=".concat(t,"&symbol=").concat(null==g?void 0:g.symbol),children:"查看铸造激励 >>"})})]})}),(0,a.jsxs)("div",{className:"mx-auto p-4 pb-2 ",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:"text-sm text-greyscale-500",children:["No.",null==y?void 0:y.head.id.toString()]}),(0,a.jsx)("span",{className:"text-xl font-bold text-black",children:null==y?void 0:y.body.action})]}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("span",{className:"text-greyscale-600",children:null==y?void 0:y.body.consensus})}),(0,a.jsxs)("div",{className:"mt-0 text-xs text-greyscale-500 flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:["创建人 ",(0,a.jsx)(u.A,{address:null==y?void 0:y.head.author})]}),v&&(0,a.jsxs)("div",{className:"flex items-center",children:["推举人"," ",C?(0,a.jsx)(h.A,{}):(0,a.jsx)(u.A,{address:k})]})]})]}),(0,a.jsx)("div",{className:"mx-auto p-4 pb-2",children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:"最小参与代币数"}),(0,a.jsx)("p",{className:"text-greyscale-500",children:(0,x.NJ)((null==y?void 0:y.body.minStake)||BigInt(0))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:"最大抽取验证地址数"}),(0,a.jsx)("p",{className:"text-greyscale-500",children:(null==y?void 0:y.body.maxRandomAccounts.toString())||"-"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:"验证规则"}),(0,a.jsx)("p",{className:"text-greyscale-500 whitespace-pre-wrap",children:(0,a.jsx)(m.H,{text:null==y?void 0:y.body.verificationRule})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:"报名参加行动时，行动者要提供的信息"}),(null==y?void 0:y.body.verificationKeys)&&(null==y?void 0:y.body.verificationKeys.length)>0?(0,a.jsx)("ul",{className:"list-disc pl-5",children:y.body.verificationKeys.map((e,s)=>(0,a.jsxs)("li",{className:"text-greyscale-500",children:[e," : ",y.body.verificationInfoGuides[s]]},s))}):(0,a.jsx)("span",{className:"text-greyscale-500",children:"无"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:"白名单"}),(0,a.jsx)("p",{className:"text-greyscale-500 flex flex-wrap items-center",children:(null==y?void 0:y.body.whiteList.length)?y.body.whiteList.map((e,s)=>(0,a.jsx)("span",{className:"flex items-center mr-2",children:(0,a.jsx)(u.A,{address:e})},s)):"无限制"})]})]})})]})}},98980:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify/[id]",function(){return t(23426)}])},99574:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(37876);t(14232);var n=t(7446);let r=e=>{var s=e.isLoading,t=e.text;return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(n.A,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,a.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:void 0===t?"Loading":t})]})}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[8230,9489,2569,2840,9898,636,6593,8792],()=>s(98980)),_N_E=e.O()}]);