try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3bc63aa2-3cd2-493b-9704-8c4dfebb4aa1",e._sentryDebugIdIdentifier="sentry-dbid-3bc63aa2-3cd2-493b-9704-8c4dfebb4aa1")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7690],{81130:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify/action",function(){return n(78385)}])},20725:function(e,t,n){"use strict";var r=n(85893),s=n(67294),a=n(93566),i=n(73591),c=n(93778),l=n(91529),o=n(72107),d=n(31084),u=n(44746),x=n(27460),f=n(42083);t.Z=function(e){var t=e.actionId,n=e.round,m=e.showSubmitter,h=(e.showVerifyHistory,e.onActionInfo),g=((0,s.useContext)(c.M)||{}).token,v=(0,a.dI)(null==g?void 0:g.address,t),b=v.actionInfo,p=v.isPending,j=v.error;(0,s.useEffect)(function(){h&&b&&h(b)},[b]);var y=(0,a.sK)(null==g?void 0:g.address,m?n:BigInt(0),t),N=y.submitInfo,w=y.isPending,I=y.error,B=(null==N?void 0:N.submitter)||"N/A",C=(0,i.S)().handleContractError;return((0,s.useEffect)(function(){j&&C(j,"submit"),I&&C(I,"submit")},[j,I]),p)?(0,r.jsx)(f.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mx-auto p-4 pb-2 ",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("span",{className:"text-sm text-greyscale-500",children:["No.",null==b?void 0:b.head.id.toString()]}),(0,r.jsx)("span",{className:"text-xl font-bold text-black",children:null==b?void 0:b.body.title})]}),(0,r.jsxs)("div",{className:"mt-0 text-xs text-greyscale-500 flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:["创建人 ",(0,r.jsx)(x.Z,{address:null==b?void 0:b.head.author})]}),m&&(0,r.jsxs)("div",{className:"flex items-center",children:["推举人"," ",w?(0,r.jsx)(f.Z,{}):(0,r.jsx)(x.Z,{address:B})]})]})]}),(0,r.jsx)("div",{className:"mx-auto p-4 pb-2",children:(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-bold",children:"最小参与代币数"}),(0,r.jsx)("p",{className:"text-greyscale-500",children:(0,l.LH)((null==b?void 0:b.body.minStake)||BigInt(0))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)("h3",{className:"text-sm font-bold",children:"最大激励地址数"}),(0,r.jsx)(u.Z,{title:"最大激励地址数说明",content:(0,r.jsxs)("p",{className:"leading-relaxed text-base",children:["每轮从所有参与行动的代币中，随机抽取",(0,r.jsx)("span",{className:"font-mono font-bold text-blue-600 mx-1 text-base",children:null==b?void 0:b.body.maxRandomAccounts.toString()}),"份代币，返回对应地址。若多份代币对应相同地址，则会合并为一个地址。"]})})]}),(0,r.jsx)("p",{className:"text-greyscale-500",children:(null==b?void 0:b.body.maxRandomAccounts.toString())||"-"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-bold mb-2",children:"验证规则"}),(0,r.jsx)("div",{className:"text-greyscale-500",children:(0,r.jsx)(o.L,{text:null==b?void 0:b.body.verificationRule,preserveLineBreaks:!0})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-bold mb-2",children:"报名参加行动时，行动者要提供的信息"}),(null==b?void 0:b.body.verificationKeys)&&(null==b?void 0:b.body.verificationKeys.length)>0?(0,r.jsx)("ul",{className:"list-disc pl-5",children:b.body.verificationKeys.map(function(e,t){return(0,r.jsxs)("li",{className:"text-greyscale-500",children:[(0,r.jsxs)("div",{className:"text-sm font-bold text-greyscale-900 mb-1",children:[(0,r.jsx)(d.Z,{text:e,showWarning:!0})," :"]}),(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{text:b.body.verificationInfoGuides[t],showWarning:!0,preserveLineBreaks:!0})})]},t)})}):(0,r.jsx)("span",{className:"text-greyscale-500",children:"无"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-bold",children:"白名单"}),(0,r.jsx)("p",{className:"text-greyscale-500 flex flex-wrap items-center",children:(null==b?void 0:b.body.whiteListAddress)&&"0x0000000000000000000000000000000000000000"!==b.body.whiteListAddress?(0,r.jsx)("span",{className:"flex items-center mr-2",children:(0,r.jsx)(x.Z,{address:b.body.whiteListAddress})}):"无限制"})]})]})})]})}},44746:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(72253),s=n(14932),a=n(91309),i=n(85893),c=n(67294),l=n(74598),o=n(35810),d=n(26986),u=n(79995);function x(e){var t=e.title,n=e.content,x=e.className,f=void 0===x?"":x,m=(0,a._)((0,c.useState)(!1),2),h=m[0],g=m[1],v=(0,u.Z)("(min-width: 768px)"),b=c.forwardRef(function(e,n){return(0,i.jsx)("button",(0,s._)((0,r._)({ref:n,type:"button",className:"inline-flex items-center p-1 rounded hover:bg-gray-100 transition-colors ".concat(f),"aria-label":"查看".concat(t)},e),{children:(0,i.jsx)(l.Z,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"})}))});b.displayName="TriggerButton";var p=function(){return(0,i.jsx)("div",{className:"text-gray-700",children:"string"==typeof n?(0,i.jsx)("p",{className:"leading-relaxed text-sm",children:n}):n})};return(0,i.jsxs)(i.Fragment,{children:[v&&(0,i.jsxs)(o.Vq,{open:h,onOpenChange:g,children:[(0,i.jsx)(o.hg,{asChild:!0,children:(0,i.jsx)(b,{})}),(0,i.jsxs)(o.cZ,{className:"sm:max-w-[425px]",children:[(0,i.jsx)(o.$N,{className:"text-lg font-semibold",children:t}),(0,i.jsx)("div",{className:"pt-2 pb-4",children:(0,i.jsx)(p,{})})]})]}),!v&&(0,i.jsxs)(d.dy,{open:h,onOpenChange:g,children:[(0,i.jsx)(d.Qz,{asChild:!0,children:(0,i.jsx)(b,{})}),(0,i.jsxs)(d.sc,{className:"pb-safe",children:[(0,i.jsx)(d.OX,{children:(0,i.jsx)(d.iI,{className:"text-lg font-semibold",children:t})}),(0,i.jsx)("div",{className:"px-4 pb-8 mb-10",children:(0,i.jsx)(p,{})})]})]})]})}},64777:function(e,t,n){"use strict";var r=n(85893);t.Z=function(e){var t=e.title;return(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-lg font-bold",children:t})})}},21338:function(e,t,n){"use strict";var r=n(91309),s=n(85893),a=n(67294),i=n(88504),c=n(93778),l=n(74089),o=n(42083);t.Z=function(e){var t=e.currentRound,n=e.roundType,d=e.showCountdown,u=(0,i.O)().data,x=(0,a.useContext)(c.M),f=x?x.token:void 0,m=!u||!f||void 0===f.voteOriginBlocks,h=(0,r._)((0,a.useState)(BigInt(0)),2),g=h[0],v=h[1],b=Number("30126")||0,p=Number("2868")||0,j=f?Number(f.voteOriginBlocks):0,y=b-(Number(u)-j)%b,N=y>0?Math.ceil(y*p/1e3):0,w=(0,r._)((0,a.useState)(N),2),I=w[0],B=w[1];(0,a.useEffect)(function(){if(u){var e=b-(Number(u)-j)%b;B(e>0?Math.ceil(e*p/1e3):0)}},[u,b,p,j]),(0,a.useEffect)(function(){t>BigInt(0)&&v(t)},[t]);var C=null!=g?g.toString():"0";return g<=BigInt(0)?(0,s.jsx)(s.Fragment,{}):m||null==g||g<BigInt(0)?(null==g||BigInt(0),(0,s.jsx)(o.Z,{})):(0,s.jsx)("div",{className:"flex items-center mb-3",children:(0,s.jsxs)("span",{className:"text-sm text-greyscale-400",children:["(第",(0,s.jsx)("span",{className:"text-greyscale-400",children:C}),"轮","vote"===n?"投票":"verify"===n?"验证":"行动","阶段，",(0,s.jsx)("span",{className:"text-greyscale-400",children:"剩余"}),(0,s.jsx)("span",{className:"text-greyscale-400",children:Math.ceil(1e3*I/p)}),(0,s.jsx)("span",{className:"text-greyscale-400 mr-1",children:"块, 约"}),void 0===d||d?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{initialTimeLeft:N,onTick:B})}):(0,s.jsx)("span",{className:"text-greyscale-400",children:I<60?"".concat(I,"秒"):I<=300?"".concat(Math.floor(I/60),"分钟").concat(I%60,"秒"):I<3600?"".concat(Math.floor(I/60),"分钟"):"".concat(Math.floor(I/3600),"小时").concat(Math.floor(I%3600/60),"分钟")}),(0,s.jsx)("span",{className:"text-greyscale-400",children:")"})]})})}},31084:function(e,t,n){"use strict";var r=n(85893);n(67294);var s=n(45655);t.Z=function(e){var t=e.text,n=e.className,a=e.maxLength,i=e.showWarning,c=e.preserveLineBreaks;if(!t)return null;var l=t;a&&t.length>a&&(l=t.substring(0,a)+"...");var o=(0,s.KL)(l,void 0!==c&&c),d=t!==l||/<[^>]*>/g.test(t)||/script|javascript|onclick|onerror|onload/gi.test(t);return(0,r.jsxs)("span",{className:void 0===n?"":n,children:[(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:o}}),void 0!==i&&i&&d&&(0,r.jsx)("span",{className:"text-yellow-500 text-xs ml-1",children:"⚠️ 内容已被安全过滤"})]})}},78385:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ee}});var r,s,a=n(91309),i=n(85893),c=n(11163),l=n(41664),o=n.n(l),d=n(67294),u=n(59271),x=n(73591),f=n(93778),m=n(83494),h=n(20725),g=n(64777),v=n(42130),b=n(7080),p=n(91529),j=n(42083),y=function(e){var t=e.currentRound,n=e.actionId,r=e.onRemainingVotesChange,s=((0,d.useContext)(f.M)||{}).token,a=(0,v.m)().address,c=(0,b.Ol)(null==s?void 0:s.address,t,a||"",n),l=c.votesNumByAccountByActionId,o=c.isPending,m=c.error,h=(0,u.Tl)(null==s?void 0:s.address,t,a||"",n),g=h.scoreByVerifierByActionId,y=h.isPending,N=h.error,w=o||y?BigInt(0):l-g;(0,d.useEffect)(function(){o||y||null==r||r(w)},[w,o,y]);var I=(0,x.S)().handleContractError;return((0,d.useEffect)(function(){m&&I(m,"vote"),N&&I(N,"verify")},[m,N]),w<=0)?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("div",{className:"px-4",children:(0,i.jsxs)("div",{className:"text-center bg-greyscale-100 p-4 rounded-lg",children:[(0,i.jsxs)("span",{className:"text-greyscale-800 text-base",children:["我的剩余验证票数：",o||y?(0,i.jsx)(j.Z,{}):(0,i.jsx)("span",{className:"text-secondary",children:(0,p.LH)(w)})]}),(0,i.jsx)("div",{className:"mt-2 text-sm text-greyscale-500 text-center",children:"提示: 您的验证票，将按“打分比例”分配给行动参与者"})]})})},N=n(21338),w=n(11010),I=n(75766),B=n(72253),C=n(14932),k=n(97582),_=n(27245),E=n(35810),A=n(21774),S=n(86501),Z=n(44746),L=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,s=e.title,a=e.description,c=e.placeholder,l=(0,d.useRef)(null);return((0,d.useEffect)(function(){var e=function(e){"Escape"===e.key&&n()};return t&&(document.addEventListener("keydown",e),setTimeout(function(){var e;null===(e=l.current)||void 0===e||e.focus()},100)),function(){document.removeEventListener("keydown",e)}},[t,n]),t)?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000] p-5",onClick:function(e){e.target===e.currentTarget&&n()},children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md text-center shadow-xl",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:void 0===s?"粘贴分数数据":s}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:void 0===a?"请将复制的分数数据粘贴到下方文本框中（每行一个数字）":a}),(0,i.jsx)("textarea",{ref:l,placeholder:void 0===c?"请粘贴分数数据...":c,className:"w-full h-32 p-3 border border-gray-300 rounded-md font-mono text-sm resize-none mb-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),(0,i.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,i.jsx)("button",{onClick:function(){var e,t=(null===(e=l.current)||void 0===e?void 0:e.value.trim())||"";t?(r(t),n()):S.Am.error("请输入分数数据")},className:"px-4 py-2 bg-[#1e3a8a] text-white rounded-md hover:bg-gray-500/90 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors font-medium",children:"确认粘贴"}),(0,i.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors font-medium",children:"取消"})]})]})}):null},M=function(e){var t=e.isOpen,n=e.onClose,r=e.text,s=e.title,a=e.description,c=e.autoCloseDelay,l=void 0===c?3e4:c,o=(0,d.useRef)(null);return((0,d.useEffect)(function(){var e=function(e){"Escape"===e.key&&n()};if(t){document.addEventListener("keydown",e),setTimeout(function(){o.current&&(o.current.focus(),o.current.select(),o.current.setSelectionRange(0,o.current.value.length))},100);var r=null;return l>0&&(r=setTimeout(function(){n()},l)),function(){document.removeEventListener("keydown",e),r&&clearTimeout(r)}}},[t,n,l]),t)?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000] p-5",onClick:function(e){e.target===e.currentTarget&&n()},children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md text-center shadow-xl",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:void 0===s?"请手动复制":s}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed",children:void 0===a?"自动复制功能不可用，请手动选择并复制以下内容：":a}),(0,i.jsx)("textarea",{ref:o,value:r,readOnly:!0,className:"w-full h-32 p-3 border border-gray-300 rounded-md font-mono text-sm resize-none mb-4 bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),(0,i.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,i.jsx)("button",{onClick:function(){o.current&&(o.current.focus(),o.current.select(),o.current.setSelectionRange(0,o.current.value.length),S.Am.success("已全选文本，请按 Ctrl+C 复制"))},className:"px-4 py-2 bg-[#1e3a8a] text-white rounded-md hover:bg-gray-500/90 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors font-medium",children:"全选文本"}),(0,i.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors font-medium",children:"关闭"})]}),l>0&&(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:[Math.round(l/1e3)," 秒后自动关闭"]})]})}):null},O=(r=(0,w._)(function(e){var t,n;return(0,k.Jh)(this,function(r){switch(r.label){case 0:if(!(navigator.clipboard&&navigator.clipboard.writeText))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(e)];case 2:return r.sent(),[2,{success:!0,method:"clipboard"}];case 3:return r.sent(),[3,4];case 4:try{if((t=document.createElement("textarea")).value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.style.opacity="0",t.style.pointerEvents="none",t.setAttribute("readonly",""),document.body.appendChild(t),t.focus(),t.select(),t.setSelectionRange(0,t.value.length),n=document.execCommand("copy"),document.body.removeChild(t),n)return[2,{success:!0,method:"execCommand"}]}catch(e){}return[2,{success:!1,method:"manual",error:"浏览器不支持自动复制，需要手动复制"}]}})}),function(e){return r.apply(this,arguments)}),T=(s=(0,w._)(function(e,t,n){var r;return(0,k.Jh)(this,function(s){switch(s.label){case 0:return[4,O(e)];case 1:return(r=s.sent()).success?S.Am.success(t):n?n(e):S.Am.error(r.error||"复制失败，请手动复制"),[2]}})}),function(e,t,n){return s.apply(this,arguments)}),P=n(31134),R=(0,P.Z)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),V=n(18289),K=(0,P.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),z=n(93950),D=n(67516),F=n(43637),q=function(e){var t=e.verifier,n=e.round,r=e.tokenAddress,s=e.actionId,a=e.accounts,i=e.enabled,c=void 0===i||i,l=(0,d.useMemo)(function(){return c&&0!==a.length&&t&&r?a.map(function(e){return{address:"0x547b4a36980Ec030fBfC0162eE4B4904d9Cc0Da9",abi:F.w,functionName:"scoreByVerifierByActionIdByAccount",args:[r,n,t,s,e]}}):[]},[r,n,t,s,a,c]),o=(0,D.N)({contracts:l,query:{enabled:c&&l.length>0}}),u=o.data,x=o.isLoading,f=o.error,m=o.isSuccess,h=(0,d.useMemo)(function(){if(!c||0===a.length)return{scores:[],isLoading:!1,hasError:!1,allLoaded:!0};var e=a.map(function(e,t){var n=null==u?void 0:u[t];return{account:e,score:(null==n?void 0:n.status)==="success"&&n.result||BigInt(0),isPending:x,error:(null==n?void 0:n.status)==="failure"?n.error:f||null}}),t=!!f||e.some(function(e){return null!==e.error});return{scores:e,isLoading:x,hasError:t,allLoaded:m}},[u,a,c,x,f,m]);return{scores:h.scores,isLoading:h.isLoading,hasError:h.hasError,allLoaded:h.allLoaded,getScoresArray:function(){return h.scores.map(function(e){return e.score})},getScoresMap:function(){var e={};return h.scores.forEach(function(t){e[t.account]=t.score}),e},hasValidData:c&&a.length>0&&!!t&&!!r}},H=n(27460),J=n(44576),W=n(72107),$=n(1938),X=n(4586),Y=function(e){var t,n,r,s,c,l=e.currentRound,o=e.actionId,m=e.actionInfo,h=e.remainingVotes,g=((0,d.useContext)(f.M)||{}).token,v=(0,z.X5)(null==g?void 0:g.address,l,o),b=v.verificationInfos,y=v.isPending,N=v.error,O=(0,z.pK)(null==g?void 0:g.address,l,o),P=O.verifiedAddresses,D=(O.isPending,O.error),F=(0,u.LW)(null==g?void 0:g.address,l,o,"0x0000000000000000000000000000000000000000"),Y=F.scoreByActionIdByAccount,U=(F.isPending,F.error),G=(0,a._)((0,d.useState)({}),2),Q=G[0],ee=G[1],et=(0,a._)((0,d.useState)("0"),2),en=et[0],er=et[1],es=(0,a._)((0,d.useState)(!1),2),ea=es[0],ei=es[1],ec=(0,a._)((0,d.useState)(!1),2),el=ec[0],eo=ec[1],ed=(0,a._)((0,d.useState)(""),2),eu=ed[0],ex=ed[1],ef=(0,a._)((0,d.useState)(!1),2),em=ef[0],eh=ef[1],eg=(0,a._)((0,d.useState)(""),2),ev=eg[0],eb=eg[1],ep=(0,a._)((0,d.useState)(!1),2),ej=ep[0],ey=ep[1],eN=(0,a._)((0,d.useState)(!1),2),ew=eN[0],eI=eN[1],eB=(0,d.useMemo)(function(){return(null==b?void 0:b.map(function(e){return e.account}))||[]},[b]),eC=(0,d.useMemo)(function(){var e,t;return ew?(e=(0,X._)(eB),t="0x0000000000000000000000000000000000000000",e.includes(t)||e.push(t),e):eB},[eB,ew]),ek=q({verifier:ev,round:l,tokenAddress:null==g?void 0:g.address,actionId:o,accounts:eC,enabled:ew&&!!ev&&eC.length>0});(0,d.useEffect)(function(){if(b&&b.length>0){var e={};b.forEach(function(t){e[t.account]=""}),ee(e),er("")}},[b]),(0,d.useEffect)(function(){if(ew&&ek.allLoaded&&!ek.isLoading){if(ey(!1),ek.hasError){S.Am.error("获取验证者打分失败，请检查地址是否正确"),eI(!1);return}var e,t=ek.getScoresMap(),n={};Object.entries(t).forEach(function(e){var t=(0,a._)(e,2),r=t[0],s=t[1];n[r]=s});var r=function(e){var t=Object.values(e);if(0===t.length)return{};var n=t.reduce(function(e,t){return t>e?t:e},BigInt(0));if(n===BigInt(0)){var r={};return Object.keys(e).forEach(function(e){r[e]="0"}),r}var s={};return Object.entries(e).forEach(function(e){var t=(0,a._)(e,2),r=t[0],i=t[1],c=i*BigInt(1e3)/n,l=i*BigInt(1e3)%n*BigInt(2)>=n?Number(c)+1:Number(c);s[r]=l.toString()}),s}(n),s=r["0x0000000000000000000000000000000000000000"]||"0",i=(e=(0,B._)({},r),delete e["0x0000000000000000000000000000000000000000"],e),c=(0,B._)({},Q);b&&b.forEach(function(e){var t=i[e.account];c[e.account]=t||"0"}),ee(c),er(s),eh(!1),eI(!1),S.Am.success("已应用验证者 ".concat(ev.slice(0,6),"...").concat(ev.slice(-4)," 的打分（已缩放到0-1000）"))}},[ew,ek.allLoaded,ek.isLoading,ek.hasError,ek,Q,b,ev]);var e_=function(){var e=Object.values(Q).map(function(e){return parseInt(e)||0}),t=parseInt(en)||0,n=e.reduce(function(e,t){return e+t},0)+t;if(0===n)return{addressPercentages:{},abstainPercentage:0};var r={};return Object.keys(Q).forEach(function(e){var t=parseInt(Q[e])||0;r[e]=t/n*100}),{addressPercentages:r,abstainPercentage:t/n*100}}(),eE=e_.addressPercentages,eA=e_.abstainPercentage,eS=(t={},(n=((null==P?void 0:P.reduce(function(e,t){return e+t.score},BigInt(0)))||BigInt(0))+(Y||BigInt(0)))>BigInt(0)&&(null==b||b.forEach(function(e){var r=null==P?void 0:P.find(function(t){return t.account===e.account}),s=(null==r?void 0:r.score)||BigInt(0);t[e.account]=Number(s)/Number(n)*100})),{verificationPercentages:t,totalVerifiedVotes:n}),eZ=eS.verificationPercentages,eL=eS.totalVerifiedVotes,eM=function(e,t){(""===t||/^[0-9]+$/.test(t))&&ee((0,C._)((0,B._)({},Q),(0,I._)({},e,t)))},eO=function(e){(""===e||/^[0-9]+$/.test(e))&&er(e)},eT=(r=(0,w._)(function(){var e,t,n;return(0,k.Jh)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,10,,11]),e="",t=!1,n=/Trust/i.test(navigator.userAgent),!(navigator.clipboard&&navigator.clipboard.readText&&!n))return[3,8];r.label=1;case 1:return r.trys.push([1,6,,7]),[4,navigator.permissions.query({name:"clipboard-read"})];case 2:if("denied"!==r.sent().state)return[3,3];return t=!0,[3,5];case 3:return[4,navigator.clipboard.readText()];case 4:e=r.sent(),r.label=5;case 5:return[3,7];case 6:return r.sent(),t=!0,[3,7];case 7:return[3,9];case 8:t=!0,r.label=9;case 9:if(t||!e)return ei(!0),[2];return eP(e),[3,11];case 10:return r.sent(),ei(!0),[3,11];case 11:return[2]}})}),function(){return r.apply(this,arguments)}),eP=function(e){var t=e.split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e}),n=[],r=!0,s=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value;if(/^[0-9]+$/.test(l))n.push(l);else if(""!==l){S.Am.error('无效的数字格式: "'.concat(l,'"'));return}}}catch(e){s=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}if(0===n.length){S.Am.error("没有找到有效的数字");return}var o=((null==b?void 0:b.length)||0)+1;if(n.length>o){S.Am.error("数字过多，最多支持 ".concat(o," 个数字"));return}var d=(0,B._)({},Q),u=0;if(b)for(var x=0;x<b.length&&u<n.length;x++)d[b[x].account]=n[u],u++;var f=en;u<n.length&&(f=n[u]),ee(d),er(f),S.Am.success("成功粘贴 ".concat(n.length," 个分数"))},eR=(s=(0,w._)(function(){var e;return(0,k.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=[],b&&b.forEach(function(t){var n=Q[t.account]||"0";e.push(n)}),e.push(en||"0"),[4,T(e.join("\n"),"已复制 ".concat(e.length," 个分数到剪贴板"),function(e){ex(e),eo(!0)})];case 1:return t.sent(),[3,3];case 2:return t.sent(),S.Am.error("复制功能暂时不可用，请手动记录分数"),[3,3];case 3:return[2]}})}),function(){return s.apply(this,arguments)}),eV=function(e){eb(e)},eK=(c=(0,w._)(function(){return(0,k.Jh)(this,function(e){return ev?/^0x[a-fA-F0-9]{40}$/.test(ev)?b&&0!==b.length?(ey(!0),eI(!0)):S.Am.error("没有可验证的地址"):S.Am.error("请输入有效的以太坊地址"):S.Am.error("请输入验证者地址"),[2]})}),function(){return c.apply(this,arguments)}),ez=function(e,t){if((e.ctrlKey||e.metaKey)&&"v"===e.key){e.preventDefault(),eT();return}if("Enter"===e.key||"Tab"===e.key){e.preventDefault();var n=document.querySelectorAll('input[type="number"]:not([disabled])'),r=(t+1)%n.length,s=n[r];s&&(s.focus(),s.select())}},eD=(0,u.yl)(),eF=eD.verify,eq=eD.isPending,eH=eD.isConfirming,eJ=eD.isConfirmed,eW=eD.writeError;(0,d.useEffect)(function(){eJ&&!eW&&(S.Am.success("提交成功",{duration:2e3}),setTimeout(function(){$.N.reloadWithOverlay()},2e3))},[eJ,eW]);var e$=(0,x.S)().handleContractError;return(0,d.useEffect)(function(){eW&&e$(eW,"verify"),N&&e$(N,"dataViewer"),D&&e$(D,"dataViewer"),U&&e$(U,"verify")},[eW,N,D,U]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-full max-w-2xl",children:(0,i.jsxs)("table",{className:"w-full border-collapse",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,i.jsx)("th",{className:"pb-3 text-left text-sm text-greyscale-500",children:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:["被抽中的行动参与者",(0,i.jsx)(Z.Z,{title:"最大激励地址数说明",content:(0,i.jsxs)("p",{className:"leading-relaxed text-base",children:["每轮从所有参与行动的代币中，随机抽取",(0,i.jsx)("span",{className:"font-mono font-bold text-blue-600 mx-1 text-base",children:null==m?void 0:m.body.maxRandomAccounts.toString()}),"份代币，返回对应地址。若多份代币对应相同地址，则会合并为一个地址。"]})})]})}),(0,i.jsx)("th",{className:"pb-3 text-left whitespace-nowrap w-16 text-sm text-greyscale-500",children:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:["打分",(0,i.jsx)("button",{onClick:eT,disabled:eq||eJ,className:"ml-1 p-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded disabled:text-gray-300 disabled:cursor-not-allowed transition-colors",title:"粘贴分数数据（自动检测剪贴板或手动输入，每行一个数字）",children:(0,i.jsx)(R,{size:14})}),!1]})}),(0,i.jsx)("th",{className:"pb-3 text-center whitespace-nowrap w-14 text-sm text-greyscale-500",children:"分配"})]})}),(0,i.jsxs)("tbody",{children:[y&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:3,className:"text-center py-4",children:(0,i.jsx)(j.Z,{})})}),b&&b.length>0?b.map(function(e,t){return(0,i.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,i.jsx)("td",{className:"py-1",children:(0,i.jsxs)("div",{className:"text-left",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs font-bold text-gray-500 min-w-[4px]",children:t+1}),(0,i.jsx)("div",{className:"font-mono",children:(0,i.jsx)(H.Z,{address:e.account,showCopyLast4Button:!0})})]}),m&&(0,i.jsx)("div",{className:"text-sm text-greyscale-800 ml-3",children:m.body.verificationKeys.map(function(t,n){return(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-1",children:[t,":"]}),(0,i.jsx)("div",{children:(0,i.jsx)(W.L,{text:e.infos[n]})})]},n)})})]})}),(0,i.jsx)("td",{className:"py-1 w-18 px-1",children:(0,i.jsxs)("div",{className:"flex items-center text-left",children:[(0,i.jsx)("input",{type:"number",min:"0",value:Q[e.account]||"",placeholder:"0",onChange:function(t){return eM(e.account,t.target.value)},onKeyDown:function(e){return ez(e,t)},tabIndex:t+1,className:"w-12 px-1 py-1 border rounded text-xs focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:eq||eJ}),(0,i.jsx)("span",{className:"text-greyscale-500 text-xs",children:"分"})]})}),(0,i.jsx)("td",{className:"py-1 text-center w-14 whitespace-nowrap px-1",children:(0,i.jsxs)("div",{className:"leading-tight",children:[(0,i.jsx)("div",{className:"text-sm text-greyscale-600 ",children:(0,p.rl)(eE[e.account]||0)}),(0,i.jsxs)("div",{className:"text-xs text-greyscale-500 ",children:["(当前",(0,p.rl)(eZ[e.account]||0),")"]})]})})]},e.account)}):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:3,className:"text-center py-4",children:"暂无数据"})}),b&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"py-2",children:(0,i.jsx)("div",{className:"text-left",children:(0,i.jsx)("div",{className:"text-sm text-greyscale-800",children:(0,i.jsx)("span",{children:"弃权票数："})})})}),(0,i.jsx)("td",{className:"py-2 w-16 px-1",children:(0,i.jsxs)("div",{className:"flex items-center text-left",children:[(0,i.jsx)("input",{type:"number",min:"0",value:en,placeholder:"0",onChange:function(e){return eO(e.target.value)},onKeyDown:function(e){return ez(e,(null==b?void 0:b.length)||0)},tabIndex:((null==b?void 0:b.length)||0)+1,className:"w-10 px-1 py-1 border rounded text-xs focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:eq||eJ}),(0,i.jsx)("span",{className:"text-greyscale-500 text-xs",children:"分"})]})}),(0,i.jsx)("td",{className:"py-2 text-center w-14 whitespace-nowrap px-1",children:(0,i.jsxs)("div",{className:"text-greyscale-500 text-xs leading-tight",children:[(0,i.jsx)("div",{children:(0,p.rl)(eA)}),(0,i.jsxs)("div",{children:["(当前",(0,p.rl)(eL>BigInt(0)?Number(Y||BigInt(0))/Number(eL)*100:0),")"]})]})})]})]})]})}),(0,i.jsxs)("div",{className:"mt-4 flex justify-center gap-3",children:[(0,i.jsxs)("button",{onClick:eR,disabled:eq||eJ,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg border border-gray-200 hover:border-blue-200 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",title:"复制当前所有分数到剪贴板（每行一个分数）",children:[(0,i.jsx)(V.Z,{size:16}),"复制当前分数"]}),(0,i.jsxs)("button",{onClick:function(){return eh(!0)},disabled:eq||eJ||!b||0===b.length,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg border border-gray-200 hover:border-green-200 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",title:"输入验证者地址，自动获取其打分并填入表单",children:[(0,i.jsx)(K,{size:16}),"采用其他验证者打分"]})]}),(0,i.jsxs)(_.z,{onClick:function(){if(h<=BigInt(2)?(S.Am.error("剩余票数不足，无法验证"),!1):!Object.values(Q).every(function(e){return 0===parseInt(e)||""===e})||0!==parseInt(en)&&""!==en||(S.Am.error("请至少给一个地址或弃权投票打分"),!1)){for(var e=Object.values(Q).reduce(function(e,t){return e+(parseInt(t)||0)},0)+(parseInt(en)||0),t=[],n=BigInt(0),r=BigInt(e),s=0;s<b.length;s++){var a=h*BigInt(parseInt(Q[b[s].account])||0)/r,i=n+a>h?h-n:a;if(t.push(i),(n+=i)>=h){for(var c=s+1;c<b.length;c++)t.push(BigInt(0));break}}var l=t.reduce(function(e,t){return e+t},BigInt(0));if(l>h){S.Am.error("票数分配计算错误，请重试");return}var d=h-l;if(d<BigInt(0)){S.Am.error("票数分配计算错误，请重试");return}if(l+d!==h){S.Am.error("票数分配不完整，请重试");return}eF(null==g?void 0:g.address,o,d,t)}},disabled:eq||eH||eJ,className:"mt-6 w-1/2",children:[!eq&&!eH&&!eJ&&"提交验证",eq&&"提交中...",eH&&"确认中...",eJ&&"已验证"]}),(0,i.jsx)(J.Z,{isLoading:eq||eH,text:eq?"提交交易...":"确认交易..."}),(0,i.jsx)(L,{isOpen:ea,onClose:function(){return ei(!1)},onConfirm:eP,title:"粘贴分数数据",description:"请将复制的分数数据粘贴到下方文本框中（每行一个数字）",placeholder:"请粘贴分数数据... 例如： 10 20 5 0"}),(0,i.jsx)(M,{isOpen:el,onClose:function(){return eo(!1)},text:eu,title:"请手动复制分数",description:"自动复制功能不可用，请选择以下文本并手动复制（每行一个分数）："}),(0,i.jsx)(E.Vq,{open:em,onOpenChange:eh,children:(0,i.jsxs)(E.cZ,{className:"sm:max-w-md",children:[(0,i.jsx)(E.fK,{children:(0,i.jsx)(E.$N,{children:"选择他验证者"})}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"verifier-address",className:"text-sm font-medium text-gray-700",children:"验证者地址"}),(0,i.jsx)(A.I,{id:"verifier-address",type:"text",placeholder:"请输入验证者的以太坊地址 (0x...)",value:ev,onChange:function(e){return eV(e.target.value)},className:"font-mono text-sm",disabled:ej}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"验证者打分，会等比例缩放到区间 0~1000"})]})}),(0,i.jsxs)(E.cN,{className:"flex gap-2",children:[(0,i.jsx)(_.z,{variant:"outline",onClick:function(){eh(!1),eb(""),ey(!1),eI(!1)},disabled:ej,children:"取消"}),(0,i.jsx)(_.z,{onClick:eK,disabled:!ev||ej,className:"min-w-[100px]",children:ej?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(j.Z,{}),"获取中..."]}):"确认"})]})]})})]})},U=n(42171),G=n(4307),Q=function(e){var t=e.currentRound,n=e.actionId,r=e.actionInfo,s=((0,d.useContext)(f.M)||{}).token,c=(0,v.m)().address,l=(0,a._)((0,d.useState)(new Set),2),o=l[0],m=l[1],h=(0,u.LW)(null==s?void 0:s.address,t,n,"0x0000000000000000000000000000000000000000"),y=h.scoreByActionIdByAccount,w=h.isPending,I=h.error,k=(0,z.pK)(null==s?void 0:s.address,t,n),_=k.verifiedAddresses,E=k.isPending,A=k.error,S=(0,z.X5)(null==s?void 0:s.address,t,n),Z=S.verificationInfos,L=S.isPending,M=S.error,O=(0,b.wD)(null==s?void 0:s.address,t,n),T=O.votesNumByActionId,P=(O.isPending,O.error),R=(0,x.S)().handleContractError;(0,d.useEffect)(function(){A&&R(A,"dataViewer"),M&&R(M,"dataViewer"),I&&R(I,"verify"),P&&R(P,"vote")},[A,M,I,P]);var V=function(e){var t=new Set(o);t.has(e)?t.delete(e):t.add(e),m(t)},K=((null==_?void 0:_.reduce(function(e,t){return e+t.score},BigInt(0)))||BigInt(0))+(y||BigInt(0)),D=Number(K)/Number(T||BigInt(0))*100;return(0,i.jsxs)("div",{className:"relative px-2 pb-4 w-full",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(g.Z,{title:"当前轮最新验证结果"}),(0,i.jsxs)("span",{className:"text-sm text-greyscale-500 ml-2",children:["(验证进度：",(0,p.rl)(D),")"]})]}),(0,i.jsx)("div",{className:"flex justify-left mt-2",children:(0,i.jsx)(N.Z,{currentRound:t,roundType:"verify"})}),L||E||w?(0,i.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,i.jsx)(j.Z,{})}):Z&&0!==Z.length?(0,i.jsxs)("table",{className:"table w-full",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,i.jsx)("th",{}),(0,i.jsx)("th",{children:"被抽中地址"}),(0,i.jsx)("th",{className:"px-1 text-right",children:"获得验证票"}),(0,i.jsx)("th",{className:"px-1 text-right",children:"验证票占比"})]})}),(0,i.jsxs)("tbody",{children:[Z.map(function(e){var t=null==_?void 0:_.find(function(t){return t.account===e.account});return(0,C._)((0,B._)({},e),{score:(null==t?void 0:t.score)||BigInt(0)})}).sort(function(e,t){return e.score>t.score?-1:e.score<t.score?1:0}).map(function(e){var t=null==_?void 0:_.find(function(t){return t.account===e.account}),n=o.has(e.account);return(0,i.jsxs)(d.Fragment,{children:[(0,i.jsxs)("tr",{className:"border-b border-gray-100 ".concat(e.account===c?"text-secondary":""),children:[(0,i.jsx)("td",{className:"px-1 w-8",children:(0,i.jsx)("button",{onClick:function(){return V(e.account)},className:"text-greyscale-400 hover:text-greyscale-600",children:n?(0,i.jsx)(U.Z,{size:16}):(0,i.jsx)(G.Z,{size:16})})}),(0,i.jsx)("td",{className:"px-1",children:(0,i.jsx)(H.Z,{address:e.account,showCopyButton:!0,word:e.account===c?"(我)":""})}),(0,i.jsx)("td",{className:"px-1 text-right",children:(0,p.tY)((null==t?void 0:t.score)||BigInt(0))}),(0,i.jsx)("td",{className:"px-1 text-right",children:(0,p.rl)(Number((null==t?void 0:t.score)||BigInt(0))/Number(K||BigInt(0))*100)})]}),r&&n&&(0,i.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50",children:[(0,i.jsx)("td",{}),(0,i.jsx)("td",{colSpan:3,className:"px-1 py-3",children:(0,i.jsxs)("div",{className:"text-sm text-greyscale-600",children:[(0,i.jsx)("div",{className:"text-xs text-greyscale-400 mb-2",children:"验证信息:"}),r.body.verificationKeys.map(function(t,n){return(0,i.jsxs)("div",{className:"mb-1",children:[(0,i.jsxs)("span",{className:"text-greyscale-500",children:[t,":"]})," ",(0,i.jsx)(W.L,{text:e.infos[n]})]},n)})]})})]})]},e.account)}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"px-1"}),(0,i.jsx)("td",{className:"px-1 text-greyscale-500",children:"弃权票"}),(0,i.jsx)("td",{className:"px-1 text-right",children:(0,p.tY)(y||BigInt(0))}),(0,i.jsx)("td",{className:"px-1 text-right",children:(0,p.rl)(Number(y||BigInt(0))/Number(K||BigInt(0))*100)})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"px-1"}),(0,i.jsx)("td",{className:"px-1 text-greyscale-500",children:"汇总 "}),(0,i.jsx)("td",{className:"px-1 text-right",children:(0,p.tY)(K||BigInt(0))}),(0,i.jsx)("td",{className:"px-1 text-right",children:"100%"})]})]})]}):(0,i.jsx)("div",{className:"text-center text-sm text-greyscale-400 p-4",children:"没有验证地址"})]})},ee=function(){var e=BigInt((0,c.useRouter)().query.id||"0"),t=((0,d.useContext)(f.M)||{}).token,n=(0,u.Bk)(),r=n.currentRound,s=n.error,l=(0,x.S)().handleContractError;(0,d.useEffect)(function(){s&&l(s,"verify")},[s]);var v=(0,a._)((0,d.useState)(BigInt(-1)),2),b=v[0],p=v[1],w=(0,a._)((0,d.useState)(void 0),2),I=w[0],B=w[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{title:"验证",backUrl:"/verify/?symbol=".concat(null==t?void 0:t.symbol)}),(0,i.jsxs)("main",{className:"flex-grow",children:[b>0&&(0,i.jsxs)("div",{className:"px-2 pt-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(g.Z,{title:"请分配您的验证票："}),(0,i.jsx)(o(),{href:"/action/info/?id=".concat(e,"&symbol=").concat(null==t?void 0:t.symbol,"&tab=verify&tab2=current"),className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"验证结果>>"})]}),(0,i.jsx)(N.Z,{currentRound:r,roundType:"verify",showCountdown:!1})]}),(0,i.jsx)(y,{currentRound:r,actionId:e,onRemainingVotesChange:function(e){p(e)}}),(0,i.jsxs)("div",{className:"flex flex-col items-center px-2 py-4",children:[b>BigInt(1)&&(0,i.jsx)(Y,{currentRound:r,actionId:e,actionInfo:I,remainingVotes:b}),b>=BigInt(0)&&b<=BigInt(1)&&(0,i.jsx)(Q,{currentRound:r,actionId:e,actionInfo:I}),b<BigInt(0)&&(0,i.jsx)(j.Z,{})]}),(0,i.jsx)(h.Z,{actionId:e,round:BigInt(r||0),showSubmitter:!0,onActionInfo:B})]})]})}},67516:function(e,t,n){"use strict";n.d(t,{N:function(){return u}});var r=n(72253),s=n(14932),a=n(97995),i=n(36100),c=n(67294),l=n(95159),o=n(39360),d=n(78942);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.contracts,u=void 0===n?[]:n,x=t.query,f=void 0===x?{}:x,m=(0,d.Z)(t),h=(0,o.x)({config:m}),g=function(e,t={}){return{async queryFn({queryKey:n}){let r=[],s=n[1].contracts.length;for(let e=0;e<s;e++){let s=n[1].contracts[e],a=(t.contracts?.[e]).abi;r.push({...s,abi:a})}let{scopeKey:i,...c}=n[1];return(0,a.J)(e,{...c,contracts:r})},queryKey:function(e={}){let t=[];for(let n of e.contracts??[]){let{abi:r,...s}=n;t.push({...s,chainId:s.chainId??e.chainId})}return["readContracts",(0,i.OP)({...e,contracts:t})]}(t)}}(m,(0,s._)((0,r._)({},t),{chainId:h})),v=(0,c.useMemo)(function(){var e,t=!1,n=!0,r=!1,s=void 0;try{for(var a,i=u[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value,l=c.abi,o=c.address,d=c.functionName;if(!l||!o||!d){t=!1;break}t=!0}}catch(e){r=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return!!(t&&(null===(e=f.enabled)||void 0===e||e))},[u,f.enabled]);return(0,l.aM)((0,s._)((0,r._)({},g,f),{enabled:v,structuralSharing:null!==(e=f.structuralSharing)&&void 0!==e?e:i.if}))}}},function(e){e.O(0,[8239,3615,1390,3494,3591,3950,7724,7285,9271,1489,2888,9774,179],function(){return e(e.s=81130)}),_N_E=e.O()}]);