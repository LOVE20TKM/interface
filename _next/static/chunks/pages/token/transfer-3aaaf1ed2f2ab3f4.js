try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3a4bcdf3-af8d-4aaa-a73d-5eafacd7f4c4",e._sentryDebugIdIdentifier="sentry-dbid-3a4bcdf3-af8d-4aaa-a73d-5eafacd7f4c4")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4484],{53364:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/token/transfer",function(){return t(13291)}])},34680:function(e,n,t){"use strict";t.d(n,{Ol:function(){return l},SZ:function(){return u},Zb:function(){return c},aY:function(){return f},eW:function(){return m},ll:function(){return d}});var r=t(72253),s=t(47702),a=t(85893),i=t(67294),o=t(40108),c=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},i))});c.displayName="Card";var l=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t)},i))});l.displayName="CardHeader";var d=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t)},i))});d.displayName="CardTitle";var u=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("text-sm text-muted-foreground",t)},i))});u.displayName="CardDescription";var f=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("p-6 pt-0",t)},i))});f.displayName="CardContent";var m=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("flex items-center p-6 pt-0",t)},i))});m.displayName="CardFooter"},74193:function(e,n,t){"use strict";t.d(n,{NI:function(){return b},Wi:function(){return p},l0:function(){return x},lX:function(){return y},pf:function(){return _},xJ:function(){return g},zG:function(){return j}});var r=t(34788),s=t(12796),a=t(72253),i=t(14932),o=t(47702),c=t(85893),l=t(67294),d=t(88426),u=t(87536),f=t(40108),m=t(94193),x=u.RV,h=l.createContext({}),p=function(e){var n=(0,r._)({},(0,s._)(e));return(0,c.jsx)(h.Provider,{value:{name:n.name},children:(0,c.jsx)(u.Qr,(0,a._)({},n))})},v=function(){var e=l.useContext(h),n=l.useContext(N),t=(0,u.Gc)(),r=t.getFieldState,s=t.formState,i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");var o=n.id;return(0,a._)({id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},i)},N=l.createContext({}),g=l.forwardRef(function(e,n){var t=e.className,r=(0,o._)(e,["className"]),s=l.useId();return(0,c.jsx)(N.Provider,{value:{id:s},children:(0,c.jsx)("div",(0,a._)({ref:n,className:(0,f.cn)("space-y-2",t)},r))})});g.displayName="FormItem";var y=l.forwardRef(function(e,n){var t=e.className,r=(0,o._)(e,["className"]),s=v(),i=s.error,l=s.formItemId;return(0,c.jsx)(m._,(0,a._)({ref:n,className:(0,f.cn)(i&&"text-destructive",t),htmlFor:l},r))});y.displayName="FormLabel";var b=l.forwardRef(function(e,n){var t=(0,r._)({},(0,s._)(e)),i=v(),o=i.error,l=i.formItemId,u=i.formDescriptionId,f=i.formMessageId;return(0,c.jsx)(d.g7,(0,a._)({ref:n,id:l,"aria-describedby":o?"".concat(u," ").concat(f):"".concat(u),"aria-invalid":!!o},t))});b.displayName="FormControl";var _=l.forwardRef(function(e,n){var t=e.className,r=(0,o._)(e,["className"]),s=v().formDescriptionId;return(0,c.jsx)("p",(0,a._)({ref:n,id:s,className:(0,f.cn)("text-sm text-muted-foreground",t)},r))});_.displayName="FormDescription";var j=l.forwardRef(function(e,n){var t=e.className,r=e.children,s=(0,o._)(e,["className","children"]),l=v(),d=l.error,u=l.formMessageId,m=d?String(null==d?void 0:d.message):r;return m?(0,c.jsx)("p",(0,i._)((0,a._)({ref:n,id:u,className:(0,f.cn)("text-sm font-medium text-destructive",t)},s),{children:m})):null});j.displayName="FormMessage"},94193:function(e,n,t){"use strict";t.d(n,{_:function(){return u}});var r=t(72253),s=t(47702),a=t(85893),i=t(67294),o=t(49102),c=t(12003),l=t(40108),d=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(function(e,n){var t=e.className,i=(0,s._)(e,["className"]);return(0,a.jsx)(o.f,(0,r._)({ref:n,className:(0,l.cn)(d(),t)},i))});u.displayName=o.f.displayName},88659:function(e,n,t){"use strict";t.d(n,{Bw:function(){return N},Ph:function(){return m},Ql:function(){return g},i4:function(){return h},ki:function(){return x}});var r=t(72253),s=t(14932),a=t(47702),i=t(85893),o=t(67294),c=t(76405),l=t(42171),d=t(15432),u=t(78865),f=t(40108),m=c.fC;c.ZA;var x=c.B4,h=o.forwardRef(function(e,n){var t=e.className,o=e.children,d=(0,a._)(e,["className","children"]);return(0,i.jsxs)(c.xz,(0,s._)((0,r._)({ref:n,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},d),{children:[o,(0,i.jsx)(c.JO,{asChild:!0,children:(0,i.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]}))});h.displayName=c.xz.displayName;var p=o.forwardRef(function(e,n){var t=e.className,o=(0,a._)(e,["className"]);return(0,i.jsx)(c.u_,(0,s._)((0,r._)({ref:n,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",t)},o),{children:(0,i.jsx)(d.Z,{className:"h-4 w-4"})}))});p.displayName=c.u_.displayName;var v=o.forwardRef(function(e,n){var t=e.className,o=(0,a._)(e,["className"]);return(0,i.jsx)(c.$G,(0,s._)((0,r._)({ref:n,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",t)},o),{children:(0,i.jsx)(l.Z,{className:"h-4 w-4"})}))});v.displayName=c.$G.displayName;var N=o.forwardRef(function(e,n){var t=e.className,o=e.children,l=e.position,d=void 0===l?"popper":l,u=(0,a._)(e,["className","children","position"]);return(0,i.jsx)(c.h_,{children:(0,i.jsxs)(c.VY,(0,s._)((0,r._)({ref:n,className:(0,f.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:d},u),{children:[(0,i.jsx)(p,{}),(0,i.jsx)(c.l_,{className:(0,f.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,i.jsx)(v,{})]}))})});N.displayName=c.VY.displayName,o.forwardRef(function(e,n){var t=e.className,s=(0,a._)(e,["className"]);return(0,i.jsx)(c.__,(0,r._)({ref:n,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t)},s))}).displayName=c.__.displayName;var g=o.forwardRef(function(e,n){var t=e.className,o=e.children,l=(0,a._)(e,["className","children"]);return(0,i.jsxs)(c.ck,(0,s._)((0,r._)({ref:n,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},l),{children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(c.wU,{children:(0,i.jsx)(u.Z,{className:"h-4 w-4"})})}),(0,i.jsx)(c.eT,{children:o})]}))});g.displayName=c.ck.displayName,o.forwardRef(function(e,n){var t=e.className,s=(0,a._)(e,["className"]);return(0,i.jsx)(c.Z0,(0,r._)({ref:n,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",t)},s))}).displayName=c.Z0.displayName},27460:function(e,n,t){"use strict";var r=t(91309),s=t(85893),a=t(67294),i=t(74855),o=t(78865),c=t(18289),l=t(86501),d=t(91529);n.Z=function(e){var n=e.address,t=e.word,u=e.showCopyButton,f=e.showCopyLast4Button,m=e.showAddress,x=void 0===m||m,h=e.colorClassName,p=void 0===h?"":h,v=e.colorClassName2,N=void 0===v?"":v,g=(0,r._)((0,a.useState)(!1),2),y=g[0],b=g[1],_=(0,r._)((0,a.useState)(!1),2),j=_[0],w=_[1];(0,a.useEffect)(function(){b(!1),w(!1)},[n]);var C=function(e){e.preventDefault(),e.stopPropagation()};return(0,s.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,s.jsx)("span",{className:"text-xs",children:t}),x&&!N&&(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=p?p:"text-greyscale-500"),children:(0,d.Vu)(n)}),x&&N&&(0,s.jsxs)("span",{className:"text-[0px]",children:[(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=p?p:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,s.jsx)("span",{className:"font-mono text-xs ".concat(N),children:"".concat(n.substring(n.length-4))})]}),(void 0===u||u)&&(0,s.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?(b(!0),setTimeout(function(){return b(!1)},2e3)):l.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:C,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:y?(0,s.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=p?p:"text-greyscale-500")}):(0,s.jsx)(c.Z,{className:"h-4 w-4 ".concat(null!=p?p:"text-greyscale-500")})})}),void 0!==f&&f&&(0,s.jsx)(i.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(w(!0),l.ZP.success("已复制后4位"),setTimeout(function(){return w(!1)},2e3)):l.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:C,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:j?(0,s.jsx)("span",{className:"".concat(null!=p?p:"text-greyscale-500"),children:"已复制"}):(0,s.jsx)("span",{className:"".concat(null!=p?p:"text-greyscale-500"),children:"后4位"})})})]})}},42083:function(e,n,t){"use strict";var r=t(85893),s=t(23432);n.Z=function(){return(0,r.jsx)(s.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},43032:function(e,n,t){"use strict";var r=t(67294),s=t(93778);n.Z=function(){var e=(0,r.useContext)(s.M);if(void 0===e)throw Error("useTokenContext must be used within a TokenProvider");return e}},92429:function(e,n,t){"use strict";t.d(n,{hq:function(){return p},Hw:function(){return v}});var r=t(48564),s=t(2267),a=t(75766),i=t(45775),o=t(60480),c=t(13550),l=t.n(c),d=function(e,n){for(var t=e;t.length<2*n;)t="0"+t;return t},u=function(e){return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map(function(e){var n=e.charCodeAt(0);return n>=65&&n<=90?(n-65+10).toString():e}).join("")},f=function(e){for(var n,t=e;t.length>2;)t=(parseInt(n=t.slice(0,9),10)%97).toString()+t.slice(n.length);return parseInt(t,10)%97},m=function(){function e(n){(0,r._)(this,e),(0,a._)(this,"_iban",void 0),this._iban=n}return(0,s._)(e,[{key:"isValid",value:function(){return/^TH[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===f(u(this._iban))}},{key:"isDirect",value:function(){return 34===this._iban.length||35===this._iban.length}},{key:"isIndirect",value:function(){return 20===this._iban.length}},{key:"checksum",value:function(){return this._iban.substr(2,2)}},{key:"toAddress",value:function(){if(this.isDirect()){var e=this._iban.substr(4),n=new(l())(e,36);return(0,i.K)("0x".concat(n.toString(16).padStart(40,"0")))}return""}},{key:"toString",value:function(){return this._iban}}],[{key:"fromAddress",value:function(n){if(!(0,o.U)(n))throw Error("Provided address is not a valid address: "+n);var t=n.replace("0x","").replace("0X",""),r=d(new(l())(t,16).toString(36),15);return e.fromBban(r.toUpperCase())}},{key:"fromBban",value:function(n){return new e("TH"+("0"+(98-f(u("TH00"+n)))).slice(-2)+n)}},{key:"toIban",value:function(n){return e.fromAddress(n).toString()}},{key:"toAddress",value:function(n){var t=new e(n);if(!t.isDirect())throw Error("IBAN is indirect and can't be converted");return t.toAddress()}},{key:"isValid",value:function(n){return new e(n).isValid()}}]),e}();function x(e){return/^0[Xx][A-Fa-f0-9]{40}$/.test(e)}function h(e){try{return m.isValid(e)}catch(e){return!1}}function p(e){if(!e||""===e)return"";var n=e.trim();return x(n)?n.toLowerCase():h(n)?function(e){if(!e||""===e)return"";if("TH48000000000000000000000000001EKI"===e)return"0x0000000000000000000000000000000000010002";try{return m.toAddress(e).toLowerCase()}catch(e){return""}}(n):""}function v(e){if(!e||""===e.trim())return"请输入收款地址";var n=e.trim();return x(n)||h(n)&&p(n)?null:"请输入有效的地址格式（支持 0x、XE 或 TH 格式）"}},13291:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var r=t(85893),s=t(67294),a=t(83494),i=t(11010),o=t(72253),c=t(14932),l=t(91309),d=t(97582),u=t(86501),f=t(63448),m=t(56312),x=t(62776),h=t(42130),p=t(87536),v=t(92429),N=t(3628),g=t(27245),y=t(21774),b=t(34680),_=t(88659),j=t(74193),w=t(91529),C=t(73591),k=t(85794),I=t(14744),T=t(35243),A=t(55612),Z=t(84689),S=t(48105),E=t(43032),B=t(64777),P=t(42083),D=t(44576),R=t(27460),V=function(e){var n=[],t=new Set,r=function(e){var r=e.address.toLowerCase();t.has(r)||(t.add(r),n.push(e))};r({symbol:"TKM",address:"NATIVE",decimals:18,isNative:!0,name:"原生代币 (".concat("TKM",")")});var s="TKM20",a="0xc3Da46ED14dBd79922027031BB5D688A81139e01";return s&&a&&r({symbol:s,address:a,decimals:18,isNative:!1,name:"包装代币 (".concat(s,")")}),e&&(e.symbol&&e.address&&r({symbol:e.symbol,address:e.address,decimals:18,isNative:!1,name:"当前代币 (".concat(e.symbol,")")}),e.parentTokenSymbol&&e.parentTokenAddress&&r({symbol:e.parentTokenSymbol,address:e.parentTokenAddress,decimals:18,isNative:!1,name:"父币 (".concat(e.parentTokenSymbol,")")}),e.slTokenAddress&&e.symbol&&r({symbol:"sl".concat(e.symbol),address:e.slTokenAddress,decimals:18,isNative:!1,name:"SL代币 (sl".concat(e.symbol,")")}),e.stTokenAddress&&e.symbol&&r({symbol:"st".concat(e.symbol),address:e.stTokenAddress,decimals:18,isNative:!1,name:"ST代币 (st".concat(e.symbol,")")})),n},z=function(e,n){var t=(0,x.K)({address:n,query:{enabled:!!n&&e.isNative}}),r=t.data,s=t.isLoading,a=(0,k.hS)(e.isNative?"0x0000000000000000000000000000000000000000":e.address,n,!e.isNative&&!!n),i=a.balance,o=a.isPending;return{balance:e.isNative?null==r?void 0:r.value:i,isPending:e.isNative?s:o}},F=function(){var e,n,t,a,x,F,H,M,L,W,K,X,G,J,q,O,Q,U,Y,$,ee,en,et=(0,h.m)().address,er=(0,E.Z)().token,es=(0,N.NL)(),ea=(0,s.useMemo)(function(){return V(er)},[er]),ei=(0,l._)((0,s.useState)(),2),eo=ei[0],ec=ei[1],el=(0,l._)((0,s.useState)(!1),2),ed=el[0],eu=el[1],ef=(0,l._)((0,s.useState)(null),2),em=ef[0],ex=ef[1],eh=(0,l._)((0,s.useState)(""),2),ep=eh[0],ev=eh[1],eN=(0,l._)((0,s.useState)(null),2),eg=eN[0],ey=eN[1];(0,s.useEffect)(function(){if(0!==ea.length){var e=er?ea.find(function(e){return e.address===er.address}):null;eo?e&&eo.address!==e.address&&!ed&&(eo.isNative||"0xc3Da46ED14dBd79922027031BB5D688A81139e01"===eo.address)&&ec(e):ec(e||ea[0])}},[ea,eo,er,ed]);var eb=z(eo||ea[0],et),e_=eb.balance,ej=eb.isPending,ew=(0,s.useCallback)(function(){eo&&et&&(eo.isNative?es.invalidateQueries({queryKey:["balance",{address:et}]}):es.invalidateQueries({queryKey:["readContract",{address:eo.address,functionName:"balanceOf",args:[et]}]}))},[eo,et,es]),eC=(0,p.cI)({resolver:(0,m.F)((e=e_||BigInt(0),f.Ry({to:f.Z_().nonempty("请输入目标地址").refine(function(e){return null===(0,v.Hw)(e)},{message:"请输入有效的地址格式（支持 0x、TH 格式）"}),amount:f.Z_().nonempty("请输入转账数量").refine(function(n){if(n.endsWith(".")||"0"===n)return!0;try{var t=(0,w.vz)(n);return t>BigInt(0)&&t<=e}catch(e){return!1}},{message:"转账数量必须大于0且不超过您的可用余额"}),tokenAddress:f.Z_().nonempty("请选择代币")}))),defaultValues:{to:"",amount:"",tokenAddress:""},mode:"onChange"});(0,s.useEffect)(function(){eo&&eC.setValue("tokenAddress",eo.address)},[eo,eC]);var ek=eC.watch("to");(0,s.useEffect)(function(){if(!ek||""===ek.trim()){ev(""),ey(null);return}var e=ek.trim(),n=(0,v.hq)(e);if(!n){ev(""),ey(null);return}e.startsWith("0x")?e.toLowerCase()!==n?(ev("地址已标准化"),ey(n)):(ev(""),ey(null)):(ev("将转换为:"),ey(n))},[ek]);var eI=eC.watch("amount"),eT=(0,l._)((0,s.useState)(BigInt(0)),2),eA=eT[0],eZ=eT[1];(0,s.useEffect)(function(){try{var e=(0,w.vz)(eI||"0");eZ(e)}catch(e){eZ(BigInt(0))}},[eI]);var eS=function(e){if(!(!e_||e_<=BigInt(0))){var n=e_*BigInt(e)/BigInt(100);eC.setValue("amount",(0,w.bM)(n))}},eE=function(){!e_||e_<=BigInt(0)||eC.setValue("amount",(0,w.bM)(e_))},eB=(0,k.DA)((null==eo?void 0:eo.address)||"0x0000000000000000000000000000000000000000"),eP=eB.transfer,eD=eB.isPending,eR=eB.isConfirming,eV=eB.isConfirmed,ez=eB.writeError,eF=eB.hash,eH=(n=(0,A.ON)(),a=(t=(0,I.p)()).sendTransaction,x=t.isPending,F=t.error,H=t.data,L=(M=(0,T.A)({hash:!n&&H?H:void 0})).isLoading,W=M.isSuccess,K=M.error,G=(X=(0,l._)(s.useState({isPending:!1,isConfirming:!1,isConfirmed:!1,error:null,hash:void 0}),2))[0],J=X[1],q=(0,i._)(function(e,t){var r,s,i;return(0,d.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,9,,10]),[4,(0,S.L)()];case 1:if(!l.sent().isValid)throw Error("网络不匹配！请切换到 ".concat("Thinkium Mainnet Chain 1"," 网络"));if(!n)return[3,7];J(function(e){return(0,c._)((0,o._)({},e),{isPending:!0,error:null,isConfirmed:!1})}),l.label=2;case 2:return l.trys.push([2,5,,6]),[4,window.ethereum.getProvider().getSigner().sendTransaction({to:e,value:t})];case 3:return r=l.sent().hash,J(function(e){return(0,c._)((0,o._)({},e),{isPending:!1,hash:r,isConfirming:!0})}),[4,(0,A.R)(r)];case 4:return l.sent(),J(function(e){return(0,c._)((0,o._)({},e),{isConfirming:!1,isConfirmed:!0})}),[2,r];case 5:throw s=l.sent(),J(function(e){return(0,c._)((0,o._)({},e),{isPending:!1,isConfirming:!1,error:s})}),s;case 6:return[3,8];case 7:return[2,a({to:e,value:t})];case 8:return[3,10];case 9:throw i=l.sent(),(0,Z.Vh)(i),(0,Z.H)(i),i;case 10:return[2]}})}),O=function(e,n){return q.apply(this,arguments)},Q=n?G.isPending:x,U=n?G.isConfirming:L,Y=n?G.isConfirmed:W,$=n?G.error:F||K,ee=n?G.hash:H,(0,s.useEffect)(function(){$&&((0,Z.Vh)($),(0,Z.H)($))},[ee,$]),{transfer:O,isPending:Q,isConfirming:U,isConfirmed:Y,writeError:$,hash:ee,isTukeMode:n}),eM=eH.transfer,eL=eH.isPending,eW=eH.isConfirming,eK=eH.isConfirmed,eX=eH.writeError,eG=eH.hash,eJ=eD||eR||eL||eW,eq=eV||eK;(0,s.useEffect)(function(){var e=eF||eG;eq&&e&&e!==em&&(u.Am.success("转账 ".concat(null==eo?void 0:eo.symbol," 成功")),eC.setValue("amount",""),ew(),ex(e))},[eq,eF,eG,em,null==eo?void 0:eo.symbol,eC,ew]);var eO=eC.handleSubmit((en=(0,i._)(function(e){var n,t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:if(!eo||!et)return[2];if(!(n=(0,v.hq)(e.to)))return u.Am.error("地址格式无效，请检查输入"),[2];r.label=1;case 1:if(r.trys.push([1,6,,7]),t=n,!eo.isNative)return[3,3];return[4,eM(t,eA)];case 2:return r.sent(),[3,5];case 3:return[4,eP(t,eA)];case 4:r.sent(),r.label=5;case 5:return[3,7];case 6:return r.sent(),[3,7];case 7:return[2]}})}),function(e){return en.apply(this,arguments)})),eQ=(0,C.S)().handleContractError;if((0,s.useEffect)(function(){[ez,eX].forEach(function(e){e&&eQ(e,"transfer")})},[ez,eX,eQ]),!er)return(0,r.jsx)(P.Z,{});if(0===ea.length)return(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)(B.Z,{title:"转账"}),(0,r.jsx)("div",{className:"text-center text-greyscale-500 mt-4",children:"正在加载代币信息..."})]});var eU=ej||!eo;return(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)(B.Z,{title:"转账"}),(0,r.jsx)("div",{className:"w-full max-w-md mt-4",children:(0,r.jsx)(j.l0,(0,c._)((0,o._)({},eC),{children:(0,r.jsxs)("form",{className:"space-y-4",children:[(0,r.jsx)(j.Wi,{control:eC.control,name:"to",render:function(e){var n=e.field;return(0,r.jsxs)(j.xJ,{children:[(0,r.jsx)(j.lX,{className:"text-sm font-medium text-gray-700",children:"目标地址"}),(0,r.jsx)(j.NI,{children:(0,r.jsx)(y.I,(0,c._)((0,o._)({placeholder:"请输入目标钱包地址（支持 0x、TH 格式）"},n),{disabled:eU,className:"font-mono text-sm"}))}),ep&&(0,r.jsxs)("div",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[(0,r.jsx)("span",{children:ep}),eg&&(0,r.jsx)(R.Z,{address:eg,showCopyButton:!0,showAddress:!0,colorClassName:"text-blue-600"})]}),(0,r.jsx)(j.zG,{})]})}}),(0,r.jsx)(j.Wi,{control:eC.control,name:"tokenAddress",render:function(e){var n=e.field;return(0,r.jsxs)(j.xJ,{children:[(0,r.jsx)(j.lX,{className:"text-sm font-medium text-gray-700",children:"选择代币"}),(0,r.jsx)(j.NI,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(_.Ph,{value:n.value,onValueChange:function(e){var t=ea.find(function(n){return n.address===e});t&&(eu(!0),ec(t),n.onChange(e),eC.setValue("amount",""))},disabled:eU,children:[(0,r.jsx)(_.i4,{className:"flex-1",children:(0,r.jsx)(_.ki,{placeholder:"请选择代币"})}),(0,r.jsx)(_.Bw,{children:ea.map(function(e){return(0,r.jsx)(_.Ql,{value:e.address,children:(0,r.jsx)("span",{className:"font-mono font-medium",children:e.symbol})},e.address)})})]}),eo&&"NATIVE"!==eo.address&&(0,r.jsx)(R.Z,{address:eo.address,showAddress:!1,showCopyButton:!0,colorClassName:"text-gray-600"})]})}),(0,r.jsx)(j.zG,{})]})}}),(0,r.jsx)(j.Wi,{control:eC.control,name:"amount",render:function(e){var n=e.field;return(0,r.jsxs)(j.xJ,{children:[(0,r.jsx)(j.lX,{className:"text-sm font-medium text-gray-700",children:"转账数量"}),(0,r.jsx)(b.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,r.jsxs)(b.aY,{className:"py-4 px-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)(j.NI,{children:(0,r.jsx)(y.I,(0,c._)((0,o._)({type:"number",placeholder:"0"},n),{disabled:eU||!e_||e_<=BigInt(0),className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"}))}),eo&&(0,r.jsx)("div",{className:"w-auto border-none bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors border border-gray-200 font-mono",children:(0,r.jsx)("span",{className:"font-medium text-gray-800 font-mono",children:eo.symbol})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex space-x-1",children:[[25,50,75].map(function(e){return(0,r.jsxs)(g.z,{variant:"outline",size:"sm",type:"button",onClick:function(){return eS(e)},disabled:eU||!e_||e_<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,r.jsx)(g.z,{variant:"outline",size:"sm",type:"button",onClick:eE,disabled:eU||!e_||e_<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),eo&&(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,w.LH)(e_||BigInt(0))," ",eo.symbol]})]})]})}),(0,r.jsx)(j.zG,{})]})}}),(0,r.jsx)("div",{className:"flex space-x-2 pt-4",children:(0,r.jsx)(g.z,{className:"w-full",onClick:eO,disabled:eJ||eU,size:"lg",children:eJ?"转账中...":"转账"})})]})}))}),(0,r.jsx)(D.Z,{isLoading:eJ,text:"转账中..."})]})},H=t(93778);function M(){return((0,s.useContext)(H.M)||{}).token,(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"转账"}),(0,r.jsx)("main",{className:"flex-grow",children:(0,r.jsx)(F,{})})]})}},14744:function(e,n,t){"use strict";t.d(n,{p:function(){return x}});var r=t(72253),s=t(14932),a=t(47702),i=t(96082),o=t(81841),c=t(96128),l=t(81946),d=t(52425),u=t(87831);async function f(e,n){let t;let{account:r,chainId:s,connector:a,gas:i,...f}=n;t="object"==typeof r&&"local"===r.type?e.getClient({chainId:s}):await (0,u.e)(e,{account:r,chainId:s,connector:a});let{connector:m}=(0,d.D)(e),x=await (async()=>{if(!(!("data"in n)||!n.data||(a??m)?.supportsSimulation)&&null!==i)return void 0===i?(0,l.s)(t,o.Q,"estimateGas")({...f,account:r,chain:s?{id:s}:null}):i})(),h=(0,l.s)(t,c.T,"sendTransaction");return await h({...f,...r?{account:r}:{},gas:x,chain:s?{id:s}:null})}var m=t(78942);function x(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.mutation,o=(e=(0,m.Z)(n),{mutationFn:n=>f(e,n),mutationKey:["sendTransaction"]}),c=(0,i.D)((0,r._)({},t,o)),l=c.mutate,d=c.mutateAsync,u=(0,a._)(c,["mutate","mutateAsync"]);return(0,s._)((0,r._)({},u),{sendTransaction:l,sendTransactionAsync:d})}}},function(e){e.O(0,[8239,367,1617,8736,3494,2252,6127,2888,9774,179],function(){return e(e.s=53364)}),_N_E=e.O()}]);