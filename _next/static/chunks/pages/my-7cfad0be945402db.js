(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{89245:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return t(72945)}])},34680:function(e,s,t){"use strict";t.d(s,{Ol:function(){return c},SZ:function(){return i},Zb:function(){return r},aY:function(){return x},eW:function(){return o},ll:function(){return d}});var a=t(85893),n=t(67294),l=t(40108);let r=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});r.displayName="Card";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...n})});c.displayName="CardHeader";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});d.displayName="CardTitle";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...n})});i.displayName="CardDescription";let x=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...n})});x.displayName="CardContent";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...n})});o.displayName="CardFooter"},4307:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(31134).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},72945:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Z}});var a=t(85893),n=t(67294),l=t(92321),r=t(41664),c=t.n(r),d=t(27245),i=t(93778),x=t(37436),o=t(64777),m=t(91529),h=t(19638),j=t(10403),f=t(42083),u=t(27460),N=t(34426),p=e=>{let{token:s}=e,{address:t}=(0,l.m)(),{balance:r,isPending:i,error:x}=(0,h.hS)(null==s?void 0:s.address,t),{balance:p,isPending:v,error:y}=(0,h.hS)(null==s?void 0:s.parentTokenAddress,t),{handleContractError:b}=(0,j.S)();return((0,n.useEffect)(()=>{x&&b(x,"token"),y&&b(y,"token")},[x,y]),s)?t?(0,a.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(o.Z,{title:"我的代币"}),(0,a.jsx)(d.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(c(),{href:"/dex/swap?symbol=".concat(s.symbol),children:"兑换代币"})})]}),(0,a.jsxs)("div",{className:"stats bg-gray-100 w-full grid grid-cols-2 divide-x-0",children:[(0,a.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,a.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["持有 ",null==s?void 0:s.symbol,(0,a.jsx)(u.Z,{address:s.address,showAddress:!1}),(0,a.jsx)(N.Z,{tokenAddress:s.address,tokenSymbol:s.symbol,tokenDecimals:s.decimals})]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:i?(0,a.jsx)(f.Z,{}):(0,m.LH)(r||BigInt(0),0)}),(0,a.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light",children:"不含质押、锁定"})]}),(0,a.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,a.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["持有 ",null==s?void 0:s.parentTokenSymbol,(0,a.jsx)(u.Z,{address:s.parentTokenAddress,showAddress:!1}),(0,a.jsx)(N.Z,{tokenAddress:s.parentTokenAddress,tokenSymbol:s.parentTokenSymbol,tokenDecimals:s.decimals})]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:v?(0,a.jsx)(f.Z,{}):(0,m.LH)(p||BigInt(0),0)}),(0,a.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light"})]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,a.jsx)(o.Z,{title:"我的代币"}),(0,a.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):(0,a.jsx)(f.Z,{})},v=t(40057),y=t(34680),b=t(4307),g=t(45551),w=e=>{let{token:s}=e,{address:t}=(0,l.m)(),{joinedActions:n,isPending:r,error:d}=(0,g.dB)((null==s?void 0:s.address)||"",t),{handleContractError:i}=(0,j.S)();return(d&&i(d,"dataViewer"),r)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pt-4 px-4",children:[(0,a.jsx)(o.Z,{title:"我参与的行动"}),(0,a.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:(0,a.jsx)(f.Z,{})})]})}):(0,a.jsxs)("div",{className:"pt-4 px-4",children:[(0,a.jsx)(o.Z,{title:"我参与的行动"}),(null==n?void 0:n.length)?(0,a.jsx)("div",{className:"mt-4 space-y-4",children:null==n?void 0:n.map((e,t)=>(0,a.jsx)(y.Zb,{className:"shadow-none",children:(0,a.jsxs)(c(),{href:"/my/actrewards?id=".concat(e.action.head.id,"&symbol=").concat(null==s?void 0:s.symbol),className:"relative block",children:[(0,a.jsxs)(y.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-between items-baseline",children:[(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsx)("span",{className:"text-greyscale-400 text-sm mr-1",children:"No.".concat(e.action.head.id)}),(0,a.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.action.body.action)})]}),e.votesNum>0?(0,a.jsx)("span",{className:"text-secondary text-xs",children:"进行中"}):(0,a.jsx)("span",{className:"text-error text-xs",children:"未投票"})]}),(0,a.jsxs)(y.aY,{className:"px-3 pt-1 pb-2",children:[(0,a.jsx)("div",{className:"text-greyscale-500",children:e.action.body.consensus}),(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"我参与代币"}),(0,a.jsx)("span",{className:"text-secondary",children:(0,m.LH)(e.stakedAmount)})]}),e.votesNum>0&&(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"投票占比"}),(0,a.jsx)("span",{className:"text-secondary",children:"".concat((Number(e.votePercent)/100).toFixed(1),"%")})]})]})]}),(0,a.jsx)(b.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]},e.action.head.id)},e.action.head.id))}):(0,a.jsx)("div",{className:"text-sm text-greyscale-500 text-center my-6",children:"没有参与行动，请先参与"})]})},k=t(4062),Z=()=>{let{token:e}=(0,n.useContext)(i.M)||{},{isConnected:s}=(0,l.m)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{title:"我的"}),(0,a.jsx)("main",{className:"flex-grow",children:s?e?e&&!e.hasEnded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-4 mt-4",children:[(0,a.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"公平发射未结束，还不能查看个人资产"}),(0,a.jsx)(d.z,{className:"w-1/2",asChild:!0,children:(0,a.jsx)(c(),{href:"/launch?symbol=".concat(e.symbol),children:"查看公平发射"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{token:e}),(0,a.jsxs)("div",{className:"flex-col items-center p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)(o.Z,{title:"我的治理资产"}),(0,a.jsx)(d.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(c(),{href:"/gov/unstake?symbol=".concat(null==e?void 0:e.symbol),children:"取消质押"})})]}),(0,a.jsx)(v.Z,{token:e})]}),(0,a.jsx)(w,{token:e})]}):(0,a.jsx)(f.Z,{}):(0,a.jsx)("div",{className:"flex flex-col items-center p-4 mt-4",children:(0,a.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"没有链接钱包，请先连接钱包"})})})]})}}},function(e){e.O(0,[2209,1335,2690,2083,7380,4323,8499,4062,416,57,2888,9774,179],function(){return e(e.s=89245)}),_N_E=e.O()}]);