try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d0070975-7411-40af-9be3-fb1764d0bb77",e._sentryDebugIdIdentifier="sentry-dbid-d0070975-7411-40af-9be3-fb1764d0bb77")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9082],{87869:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/acting",function(){return s(88206)}])},24920:function(e,n,s){"use strict";s.d(n,{Z:function(){return t}});var t=(0,s(31134).Z)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]])},53696:function(e,n,s){"use strict";s.d(n,{Z:function(){return h}});var t=s(11010),r=s(91309),a=s(97582),i=s(85893),c=s(67294),l=s(23432),o=(0,s(31134).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),d=s(42130),u=s(30246),x=s(86501),m=s(55612);function h(e){var n,s=e.tokenAddress,h=e.tokenSymbol,f=e.tokenDecimals,g=e.tokenImage,v=(0,r._)((0,c.useState)(!1),2),p=v[0],j=v[1],b=(0,d.m)().isConnected,N=(0,u.p)().data,y=(n=(0,t._)(function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:if(!b)return alert("请先连接你的钱包"),[2];j(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!N)return alert("无法获取钱包客户端"),[2];return[4,N.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:s,symbol:h,decimals:f,image:g}}})];case 2:return e.sent()?x.ZP.success("代币已成功添加到 MetaMask 钱包"):x.ZP.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),x.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return j(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return h.length>11||(0,m.ON)()?null:(0,i.jsx)("button",{onClick:y,disabled:p,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:p?(0,i.jsx)(l.Z,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(o,{className:"h-4 w-4 text-greyscale-500"})})}},42083:function(e,n,s){"use strict";var t=s(85893),r=s(23432);n.Z=function(){return(0,t.jsx)(r.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},21338:function(e,n,s){"use strict";var t=s(91309),r=s(85893),a=s(67294),i=s(88504),c=s(93778),l=s(74089),o=s(42083);n.Z=function(e){var n=e.currentRound,s=e.roundType,d=e.showCountdown,u=(0,i.O)().data,x=(0,a.useContext)(c.M),m=x?x.token:void 0,h=!u||!m||void 0===m.voteOriginBlocks,f=(0,t._)((0,a.useState)(BigInt(0)),2),g=f[0],v=f[1],p=Number("30126")||0,j=Number("2868")||0,b=m?Number(m.voteOriginBlocks):0,N=p-(Number(u)-b)%p,y=N>0?Math.ceil(N*j/1e3):0,B=(0,t._)((0,a.useState)(y),2),I=B[0],w=B[1];(0,a.useEffect)(function(){if(u){var e=p-(Number(u)-b)%p;w(e>0?Math.ceil(e*j/1e3):0)}},[u,p,j,b]),(0,a.useEffect)(function(){n>BigInt(0)&&v(n)},[n]);var k=null!=g?g.toString():"0";return g<=BigInt(0)?(0,r.jsx)(r.Fragment,{}):h||null==g||g<BigInt(0)?(null==g||BigInt(0),(0,r.jsx)(o.Z,{})):(0,r.jsx)("div",{className:"flex items-center mb-3",children:(0,r.jsxs)("span",{className:"text-sm text-greyscale-400",children:["(第",(0,r.jsx)("span",{className:"text-greyscale-400",children:k}),"轮","vote"===s?"投票":"verify"===s?"验证":"行动","阶段，",(0,r.jsx)("span",{className:"text-greyscale-400",children:"剩余"}),(0,r.jsx)("span",{className:"text-greyscale-400",children:Math.ceil(1e3*I/j)}),(0,r.jsx)("span",{className:"text-greyscale-400 mr-1",children:"块, 约"}),void 0===d||d?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{initialTimeLeft:y,onTick:w})}):(0,r.jsx)("span",{className:"text-greyscale-400",children:I<60?"".concat(I,"秒"):I<=300?"".concat(Math.floor(I/60),"分钟").concat(I%60,"秒"):I<3600?"".concat(Math.floor(I/60),"分钟"):"".concat(Math.floor(I/3600),"小时").concat(Math.floor(I%3600/60),"分钟")}),(0,r.jsx)("span",{className:"text-greyscale-400",children:")"})]})})}},66247:function(e,n,s){"use strict";s.d(n,{Z:function(){return N}});var t=s(91309),r=s(85893),a=s(27245),i=s(26986),c=s(35810),l=s(74598),o=s(79995),d=s(67294),u=s(26858),x=s(37413),m=s(93778),h=s(85794),f=s(73591),g=s(42083),v=s(12796),p=s(27460),j=s(53696),b=function(e){(0,v._)(e);var n=((0,d.useContext)(m.M)||{}).token;return n?(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"mr-2",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"font-bold text-2xl mr-2 font-mono",children:n.symbol}),(0,r.jsx)(p.Z,{address:n.address}),(0,r.jsx)(j.Z,{tokenAddress:n.address,tokenSymbol:n.symbol||"",tokenDecimals:n.decimals||0})]})})}):(0,r.jsx)(g.Z,{})};function N(){var e=((0,d.useContext)(m.M)||{}).token,n=(0,h.A5)((null==e?void 0:e.address)||""),s=n.totalSupply,v=n.isPending,p=n.error,j=(0,o.Z)("(min-width: 768px)"),N=(0,t._)((0,d.useState)(!1),2),y=N[0],B=N[1],I=(0,f.S)().handleContractError;return((0,d.useEffect)(function(){p&&I(p,"token")},[p]),null==e?void 0:e.address)?(0,r.jsxs)("div",{className:"px-4 pt-0 pb-3",children:[(0,r.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"mt-1 flex items-center",onClick:function(){return B(!0)},children:[(0,r.jsx)(l.Z,{className:"w-4 h-4 mr-1 text-greyscale-500 cursor-pointer"}),(0,r.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"已铸币量:"}),(0,r.jsx)("span",{className:"text-sm text-secondary font-mono",children:v?(0,r.jsx)(g.Z,{}):(0,u.LH)(s||BigInt(0))})]})]}),j&&(0,r.jsxs)(c.Vq,{open:y,onOpenChange:B,children:[(0,r.jsx)(c.hg,{children:" "}),(0,r.jsxs)(c.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsx)(c.$N,{children:"经济模型"}),(0,r.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800",children:[(0,r.jsxs)("p",{className:"font-bold text-large mb-2",children:["代币总量：",(0,r.jsx)("span",{children:(0,u.LH)(BigInt(x.v.totalSupply))})]}),(0,r.jsxs)("p",{children:["- 公平发射：",(0,r.jsx)("span",{className:"text-secondary",children:(0,u.LH)(BigInt(x.v.fairLaunch))})," (10%)"]}),(0,r.jsxs)("p",{children:["- 治理激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,u.LH)(BigInt(x.v.govRewards))})," (45%)"]}),(0,r.jsxs)("p",{children:["- 行动激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,u.LH)(BigInt(x.v.actionRewards))})," (45%)"]})]})]})]}),!j&&(0,r.jsx)(i.dy,{open:y,onOpenChange:B,children:(0,r.jsxs)(i.sc,{children:[(0,r.jsxs)(i.OX,{children:[(0,r.jsx)(i.iI,{children:"经济模型"}),(0,r.jsx)(i.uh,{})]}),(0,r.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800 text-lg",children:[(0,r.jsxs)("p",{className:"font-bold text-xl mb-2",children:["代币总量：",(0,r.jsx)("span",{children:(0,u.LH)(BigInt(x.v.totalSupply))})]}),(0,r.jsxs)("p",{children:["- 公平发射：",(0,r.jsx)("span",{className:"text-secondary",children:(0,u.LH)(BigInt(x.v.fairLaunch))})," (10%)"]}),(0,r.jsxs)("p",{children:["- 治理激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,u.LH)(BigInt(x.v.govRewards))})," (45%)"]}),(0,r.jsxs)("p",{children:["- 行动激励：",(0,r.jsx)("span",{className:"text-secondary",children:(0,u.LH)(BigInt(x.v.actionRewards))})," (45%)"]})]}),(0,r.jsx)(i.ze,{children:(0,r.jsx)(i.uh,{asChild:!0,children:(0,r.jsx)(a.z,{variant:"outline",className:"w-1/2 mx-auto text-secondary border-secondary",children:"关闭"})})})]})})]}):(0,r.jsx)(g.Z,{})}},37413:function(e,n,s){"use strict";s.d(n,{v:function(){return t}});var t={totalSupply:1e28,fairLaunch:1e27,govRewards:45e26,actionRewards:45e26}},87614:function(e,n,s){"use strict";s.d(n,{a:function(){return l}});var t=s(72253),r=s(14932),a=s(67294),i=s(26868),c=s(77580),l=function(e){var n=e.baseToken,s=e.targetToken,l=(0,i.N)(n.address,(null==s?void 0:s.address)||"0x0000000000000000000000000000000000000000",!!s),o=l.pairAddress,d=l.isLoading,u=(0,c.QX)(o),x=u.reserve0,m=u.reserve1,h=u.isLoading,f=(0,c.A5)(o),g=f.totalSupply,v=f.isLoading,p=(0,c.Oc)(o),j=p.token0,b=p.isLoading,N=(0,c.$C)(o),y=N.token1,B=N.isLoading,I=(0,a.useMemo)(function(){if(!o||!x||!m||!g||!j||!y||!s||!(x>BigInt(0)&&m>BigInt(0)))return{pairExists:!1,poolTotalSupply:BigInt(0),poolBaseReserve:BigInt(0),poolTargetReserve:BigInt(0),baseTokenIsToken0:!1,baseToTargetPrice:BigInt(0),targetToBasePrice:BigInt(0)};var e=n.address.toLowerCase()===j.toLowerCase(),t=e?x:m,r=e?m:x,a=t>BigInt(0)?r*BigInt(1e18)/t:BigInt(0),i=r>BigInt(0)?t*BigInt(1e18)/r:BigInt(0);return{pairExists:!0,poolTotalSupply:g,poolBaseReserve:t,poolTargetReserve:r,baseTokenIsToken0:e,baseToTargetPrice:a,targetToBasePrice:i}},[o,x,m,g,j,y,n.address,s]);return(0,r._)((0,t._)({pairAddress:o},I),{isLoading:d||h||v||b||B,hasValidTokens:!!s})}},26868:function(e,n,s){"use strict";s.d(n,{N:function(){return a}});var t=s(71104),r=s(86171),a=function(e,n){var s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=(0,t.u)({address:"0x0ce7Aa2069d92De630AFf1B6b512f5E47af6Ffc8",abi:r.K,functionName:"getPair",args:[e,n],query:{enabled:!!e&&!!n&&e!==n&&s}});return{pairAddress:a.data,isLoading:a.isLoading,error:a.error}}},77580:function(e,n,s){"use strict";s.d(n,{$C:function(){return o},A5:function(){return c},Oc:function(){return l},QX:function(){return i},bQ:function(){return a},vG:function(){return d}});var t=s(71104),r=s(18456),a=function(e,n,s){var a=(0,t.u)({address:e,abi:r.y,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3,refetchInterval:s||!1}});return{lpBalance:a.data,isLoading:a.isLoading,error:a.error,refetch:a.refetch}},i=function(e,n){var s=(0,t.u)({address:e,abi:r.y,functionName:"getReserves",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3,refetchInterval:n||!1}}),a=s.data,i=s.isLoading,c=s.error,l=s.refetch;return{reserve0:null==a?void 0:a[0],reserve1:null==a?void 0:a[1],blockTimestampLast:null==a?void 0:a[2],reserves:a,isLoading:i,error:c,refetch:l}},c=function(e){var n=(0,t.u)({address:e,abi:r.y,functionName:"totalSupply",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3}});return{totalSupply:n.data,isLoading:n.isLoading,error:n.error,refetch:n.refetch}},l=function(e){var n=(0,t.u)({address:e,abi:r.y,functionName:"token0",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{token0:n.data,isLoading:n.isLoading,error:n.error}},o=function(e){var n=(0,t.u)({address:e,abi:r.y,functionName:"token1",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{token1:n.data,isLoading:n.isLoading,error:n.error}},d=function(e){var n=(0,t.u)({address:e,abi:r.y,functionName:"symbol",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{lpSymbol:n.data,isLoading:n.isLoading,error:n.error}}},99958:function(e,n,s){"use strict";s.d(n,{Cn:function(){return c},IS:function(){return a},Tn:function(){return i},iF:function(){return l}});var t=s(26858),r=s(37742),a=function(e,n,s){if(!e||!n)return"0%";var a=31536e6/Number("2868"),i=(0,r.Zu)("30126");if(0===a||i===BigInt(0))return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME_MS 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var c=(n*BigInt(2)||BigInt(0))+(s||BigInt(0));if(c===BigInt(0))return"0%";var l=Number(e)/Number(c)/(Number(i)/a)*100;return(0,t.rl)(l)},i=function(e,n){if(!e||!n||n===BigInt(0))return"∞";var s=31536e6/Number("2868"),a=(0,r.Zu)("30126");if(0===s||a===BigInt(0))return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var i=Number(e)/Number(n)/(Number(a)/s)*100;return(0,t.rl)(i)},c=function(e){var n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Number("30126")||0,r=Number("2868")||0,a=e*t,i=Math.ceil(a*r/1e3);n=i>=86400?"".concat(Math.round(i/86400),"天"):i>=3600?"".concat(Math.ceil(i/3600),"小时"):"".concat(Math.ceil(i/60),"分钟");var c="".concat(a.toLocaleString(),"区块，约").concat(n);return s||(c="".concat(e,"个阶段（").concat(c,")")),c},l=function(e,n){if(!e)return BigInt(0);var s=BigInt(1e3)-(0,r.Zu)("1")-(0,r.Zu)("1");return BigInt(0),n<=BigInt(1)?e*(0,r.Zu)("1")/BigInt(1e3):e*s*(0,r.Zu)("1")/BigInt(1e6)}},88206:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return E}});var t=s(85893),r=s(67294),a=s(42130),i=s(27245),c=s(41664),l=s.n(c),o=s(42083),d=s(93778),u=s(73591),x=s(85794),m=s(7208),h=s(72253),f=s(14932),g=s(87614),v=function(e){var n=e.tokenAddress,s=e.enabled,t=void 0===s||s,a=(0,r.useMemo)(function(){var e="TUSDT",n="0x47Ba4471046fC0442078CF1519924cb205F02c7a";return e&&n?{symbol:e,address:n,decimals:18,isNative:!1}:null},[]),i=(0,r.useMemo)(function(){return n?{symbol:"LOVE20",address:n,decimals:18,isNative:!1}:null},[n]),c=(0,g.a)({baseToken:a||{symbol:"",address:"0x0000000000000000000000000000000000000000",decimals:18,isNative:!1},targetToken:i}),l=c.pairExists,o=c.poolBaseReserve,d=c.poolTargetReserve,u=c.baseToTargetPrice,x=c.isLoading,m=(0,r.useMemo)(function(){return t&&l&&o&&o!==BigInt(0)&&d&&d!==BigInt(0)&&a&&i?{totalPoolValue:d*BigInt(2),usdtAmount:o,love20Amount:d}:{totalPoolValue:BigInt(0),usdtAmount:BigInt(0),love20Amount:BigInt(0)}},[t,l,o,d,u,a,i]);return(0,f._)((0,h._)({pairExists:l,poolBaseReserve:o,poolTargetReserve:d,baseToTargetPrice:u},m),{isLoading:x,error:void 0,hasValidData:!!a&&!!i&&l})},p=s(26858),j=s(99958),b=function(e){e.currentRound;var n=((0,r.useContext)(d.M)||{}).token,s=(0,x.hS)((null==n?void 0:n.address)||"","0xACea4f086BE05BeA47f3A56788FA3919C7f40799"),a=s.balance,i=s.isPending,c=s.error,l=(0,m.XQ)((null==n?void 0:n.address)||""),h=l.reward,f=l.isPending,g=l.error,b=v({tokenAddress:null==n?void 0:n.address,enabled:!!(null==n?void 0:n.address)}),N=b.totalPoolValue,y=b.isLoading,B=b.error,I=(0,r.useMemo)(function(){return(null!=a?a:BigInt(0))+N},[a,N]),w=(0,u.S)().handleContractError;return(0,r.useEffect)(function(){c&&w(c,"join"),g&&w(g,"dataViewer"),B&&w(B,"join")},[c,g,B]),(0,t.jsx)("div",{className:"px-4",children:(0,t.jsxs)("div",{className:"w-full border rounded-lg p-0",children:[(0,t.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,t.jsxs)("div",{className:"stat place-items-center pb-2",children:[(0,t.jsx)("div",{className:"stat-title text-sm pb-1",children:"参与行动代币总数"}),(0,t.jsx)("div",{className:"stat-value text-xl text-secondary",children:i?(0,t.jsx)(o.Z,{}):(0,p.LH)(null!=a?a:BigInt(0))})]}),(0,t.jsxs)("div",{className:"stat place-items-center pb-2",children:[(0,t.jsx)("div",{className:"stat-title text-sm pb-1",children:"预计新增铸币"}),(0,t.jsx)("div",{className:"stat-value text-xl text-secondary",children:f?(0,t.jsx)(o.Z,{}):(0,p.LH)(null!=h?h:BigInt(0))})]})]}),(0,t.jsxs)("div",{className:"text-center text-xs mb-2 text-greyscale-500",children:["预估年化收益率（APY）：",i||f||y?(0,t.jsx)(o.Z,{}):(0,j.Tn)(h,I)]})]})})},N=s(83494),y=s(24920),B=s(4307),I=s(34680),w=s(93950),k=s(7399),L=s(21338),T=s(64777),Z=s(27460),C=function(e){var n=e.currentRound,s=((0,r.useContext)(d.M)||{}).token,i=(0,a.m)().address,c=(0,w.jA)((null==s?void 0:s.address)||"",n||BigInt(0),i),x=c.joinableActions,m=c.isPending,h=c.error,f=(0,k.CY)((null==s?void 0:s.address)||""),g=f.rewardAvailable,b=f.isPending,N=f.error,C=v({tokenAddress:null==s?void 0:s.address,enabled:!!(null==s?void 0:s.address)}),_=C.totalPoolValue,A=C.isLoading,E=C.error,M=(null==x?void 0:x.reduce(function(e,n){return e+n.votesNum},BigInt(0)))||BigInt(0),S=s?n-BigInt(s.initialStakeRound)+BigInt(1):BigInt(0),R=(0,j.iF)(g,S),P=(0,u.S)().handleContractError;return(0,r.useEffect)(function(){h&&P(h,"dataViewer"),N&&P(N,"mint"),E&&P(E,"join")},[h,N,E]),(0,t.jsxs)("div",{className:"px-4 py-6",children:[(0,t.jsx)(T.Z,{title:"本轮可参与的行动："}),(0,t.jsx)(L.Z,{currentRound:n,roundType:"act"}),!i&&(0,t.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"}),i&&m&&(0,t.jsx)("div",{className:"p-4 flex justify-center items-center",children:(0,t.jsx)(o.Z,{})}),i&&!m&&!(null==x?void 0:x.length)&&(0,t.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"本轮暂无行动"}),!m&&x&&x.length>0&&(0,t.jsx)("div",{className:"mt-2 space-y-4",children:null==x?void 0:x.sort(function(e,n){if(e.hasReward&&!n.hasReward)return -1;if(!e.hasReward&&n.hasReward)return 1;var s=Number(e.votesNum);return Number(n.votesNum)-s}).map(function(e,n){var r=Number(M)>0?Number(x[n].votesNum||BigInt(0))/Number(M):0,a="/action/info?id=".concat(e.action.head.id,"&symbol=").concat(null==s?void 0:s.symbol),i=e.hasReward?"shadow-none":"shadow-none bg-gray-50",c=e.action.head.id===BigInt(19)||e.action.head.id===BigInt(15),d=c?x[n].joinedAmount+_:x[n].joinedAmount;return(0,t.jsx)(I.Zb,{className:i,children:(0,t.jsxs)(l(),{href:a,className:"relative block",children:[(0,t.jsx)(I.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-between items-baseline",children:(0,t.jsxs)("div",{className:"flex items-baseline",children:[(0,t.jsx)("span",{className:"text-greyscale-400 text-sm",children:"No."}),(0,t.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.action.head.id)}),(0,t.jsx)("span",{className:"font-bold ".concat(e.hasReward?"text-greyscale-800":"text-greyscale-400"),children:"".concat(e.action.body.title)})]})}),(0,t.jsxs)(I.aY,{className:"px-3 pt-1 pb-2",children:[(0,t.jsx)("div",{className:"flex justify-between text-sm",children:(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"text-greyscale-400 mr-1 h-3 w-3"}),(0,t.jsx)("span",{className:"text-greyscale-400",children:(0,t.jsx)(Z.Z,{address:x[n].action.head.author,showCopyButton:!1})})]})}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 text-xs mr-1",children:"投票占"}),(0,t.jsx)("span",{className:"text-secondary text-xs",children:(0,p.rl)(100*r)})]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 text-xs mr-1",children:"参与代币"}),(0,t.jsx)("span",{className:"text-secondary text-xs",children:(0,p.LH)(e.joinedAmount)})]}),e.hasReward?(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 text-xs mr-1",children:"APY"}),(0,t.jsx)("span",{className:"text-secondary text-xs",children:b||c&&A?(0,t.jsx)(o.Z,{}):(0,j.Tn)(BigInt(Math.floor(Number(R||BigInt(0))*r)),d)})]}):(0,t.jsx)("span",{className:"flex justify-between text-error text-sm",children:"无铸币激励"})]})]}),(0,t.jsx)(B.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]})},e.action.head.id)})})]})},_=s(66247),A=s(20442),E=function(){var e=(0,a.m)().isConnected,n=((0,r.useContext)(d.M)||{}).token,s=e&&(null==n?void 0:n.hasEnded)===!0&&(null==n?void 0:n.hasEnded),c=(0,A.Bk)(s),x=c.currentRound,m=c.error,h=c.isPending,f=(0,u.S)().handleContractError;return((0,r.useEffect)(function(){m&&f(m,"join")},[m]),s&&h)?(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)(o.Z,{})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Z,{title:"社区首页"}),(0,t.jsx)("main",{className:"flex-grow",children:e?n?n&&!n.hasEnded?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Z,{}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-4 mt-4",children:[(0,t.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"公平发射未结束，还不能参与社区行动"}),(0,t.jsx)(i.z,{className:"w-1/2",asChild:!0,children:(0,t.jsx)(l(),{href:"/launch?symbol=".concat(n.symbol),children:"查看公平发射"})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{currentRound:x}),(0,t.jsx)(C,{currentRound:x})]}):(0,t.jsx)(o.Z,{}):(0,t.jsx)("div",{className:"flex flex-col items-center p-4 mt-4",children:(0,t.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"没有链接钱包，请先连接钱包"})})})]})}}},function(e){e.O(0,[8501,4463,246,1390,3494,3591,3950,6127,7399,7285,2467,2888,9774,179],function(){return e(e.s=87869)}),_N_E=e.O()}]);