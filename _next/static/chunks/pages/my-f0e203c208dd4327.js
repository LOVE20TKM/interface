try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="a20e5f09-08a9-475e-b0a4-66725654d516",e._sentryDebugIdIdentifier="sentry-dbid-a20e5f09-08a9-475e-b0a4-66725654d516")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{89245:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return t(76064)}])},34680:function(e,s,t){"use strict";t.d(s,{Ol:function(){return d},SZ:function(){return x},Zb:function(){return i},aY:function(){return m},eW:function(){return h},ll:function(){return o}});var n=t(72253),a=t(47702),r=t(85893),c=t(67294),l=t(40108),i=c.forwardRef(function(e,s){var t=e.className,c=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,n._)({ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},c))});i.displayName="Card";var d=c.forwardRef(function(e,s){var t=e.className,c=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,n._)({ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t)},c))});d.displayName="CardHeader";var o=c.forwardRef(function(e,s){var t=e.className,c=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,n._)({ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t)},c))});o.displayName="CardTitle";var x=c.forwardRef(function(e,s){var t=e.className,c=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,n._)({ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t)},c))});x.displayName="CardDescription";var m=c.forwardRef(function(e,s){var t=e.className,c=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,n._)({ref:s,className:(0,l.cn)("p-6 pt-0",t)},c))});m.displayName="CardContent";var h=c.forwardRef(function(e,s){var t=e.className,c=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,n._)({ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t)},c))});h.displayName="CardFooter"},24920:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var n=(0,t(31134).Z)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]])},21338:function(e,s,t){"use strict";var n=t(91309),a=t(85893),r=t(67294),c=t(88504),l=t(93778),i=t(74089),d=t(42083);s.Z=function(e){var s=e.currentRound,t=e.roundType,o=e.showCountdown,x=(0,c.O)().data,m=(0,r.useContext)(l.M),h=m?m.token:void 0,u=!x||!h||void 0===h.voteOriginBlocks,j=(0,n._)((0,r.useState)(BigInt(0)),2),f=j[0],N=j[1],p=Number("30126")||0,v=Number("2868")||0,y=h?Number(h.voteOriginBlocks):0,g=p-(Number(x)-y)%p,b=g>0?Math.ceil(g*v/1e3):0,k=(0,n._)((0,r.useState)(b),2),w=k[0],Z=k[1];(0,r.useEffect)(function(){if(x){var e=p-(Number(x)-y)%p;Z(e>0?Math.ceil(e*v/1e3):0)}},[x,p,v,y]),(0,r.useEffect)(function(){s>BigInt(0)&&N(s)},[s]);var _=null!=f?f.toString():"0";return f<=BigInt(0)?(0,a.jsx)(a.Fragment,{}):u||null==f||f<BigInt(0)?((null==f||f<BigInt(0))&&(console.log("currentTokenRound",f),console.log("currentRound",s)),(0,a.jsx)(d.Z,{})):(0,a.jsx)("div",{className:"flex items-center mb-3",children:(0,a.jsxs)("span",{className:"text-sm text-greyscale-400",children:["(第",(0,a.jsx)("span",{className:"text-greyscale-400",children:_}),"轮","vote"===t?"投票":"verify"===t?"验证":"行动","阶段，",(0,a.jsx)("span",{className:"text-greyscale-400",children:"剩余"}),(0,a.jsx)("span",{className:"text-greyscale-400",children:Math.ceil(1e3*w/v)}),(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"块, 约"}),void 0===o||o?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.Z,{initialTimeLeft:b,onTick:Z})}):(0,a.jsx)("span",{className:"text-greyscale-400",children:w<60?"".concat(w,"秒"):w<=300?"".concat(Math.floor(w/60),"分钟").concat(w%60,"秒"):w<3600?"".concat(Math.floor(w/60),"分钟"):"".concat(Math.floor(w/3600),"小时").concat(Math.floor(w%3600/60),"分钟")}),(0,a.jsx)("span",{className:"text-greyscale-400",children:")"})]})})}},66247:function(e,s,t){"use strict";t.d(s,{Z:function(){return g}});var n=t(91309),a=t(85893),r=t(27245),c=t(26986),l=t(35810),i=t(74598),d=t(79995),o=t(67294),x=t(26858),m=t(37413),h=t(93778),u=t(85794),j=t(73591),f=t(42083),N=t(12796),p=t(27460),v=t(53696),y=function(e){(0,N._)(e);var s=((0,o.useContext)(h.M)||{}).token;return s?(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"mr-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"font-bold text-2xl mr-2 font-mono",children:s.symbol}),(0,a.jsx)(p.Z,{address:s.address}),(0,a.jsx)(v.Z,{tokenAddress:s.address,tokenSymbol:s.symbol||"",tokenDecimals:s.decimals||0})]})})}):(0,a.jsx)(f.Z,{})};function g(){var e=((0,o.useContext)(h.M)||{}).token,s=(0,u.A5)((null==e?void 0:e.address)||""),t=s.totalSupply,N=s.isPending,p=s.error,v=(0,d.Z)("(min-width: 768px)"),g=(0,n._)((0,o.useState)(!1),2),b=g[0],k=g[1],w=(0,j.S)().handleContractError;return((0,o.useEffect)(function(){p&&w(p,"token")},[p]),null==e?void 0:e.address)?(0,a.jsxs)("div",{className:"px-4 pt-0 pb-3",children:[(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:"mt-1 flex items-center",onClick:function(){return k(!0)},children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-1 text-greyscale-500 cursor-pointer"}),(0,a.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"已铸币量:"}),(0,a.jsx)("span",{className:"text-sm text-secondary font-mono",children:N?(0,a.jsx)(f.Z,{}):(0,x.LH)(t||BigInt(0))})]})]}),v&&(0,a.jsxs)(l.Vq,{open:b,onOpenChange:k,children:[(0,a.jsx)(l.hg,{children:" "}),(0,a.jsxs)(l.cZ,{className:"sm:max-w-[425px]",children:[(0,a.jsx)(l.$N,{children:"经济模型"}),(0,a.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800",children:[(0,a.jsxs)("p",{className:"font-bold text-large mb-2",children:["代币总量：",(0,a.jsx)("span",{children:(0,x.LH)(BigInt(m.v.totalSupply))})]}),(0,a.jsxs)("p",{children:["- 公平发射：",(0,a.jsx)("span",{className:"text-secondary",children:(0,x.LH)(BigInt(m.v.fairLaunch))})," (10%)"]}),(0,a.jsxs)("p",{children:["- 治理激励：",(0,a.jsx)("span",{className:"text-secondary",children:(0,x.LH)(BigInt(m.v.govRewards))})," (45%)"]}),(0,a.jsxs)("p",{children:["- 行动激励：",(0,a.jsx)("span",{className:"text-secondary",children:(0,x.LH)(BigInt(m.v.actionRewards))})," (45%)"]})]})]})]}),!v&&(0,a.jsx)(c.dy,{open:b,onOpenChange:k,children:(0,a.jsxs)(c.sc,{children:[(0,a.jsxs)(c.OX,{children:[(0,a.jsx)(c.iI,{children:"经济模型"}),(0,a.jsx)(c.uh,{})]}),(0,a.jsxs)("div",{className:"px-12 pt-2 pb-4 text-gray-800 text-lg",children:[(0,a.jsxs)("p",{className:"font-bold text-xl mb-2",children:["代币总量：",(0,a.jsx)("span",{children:(0,x.LH)(BigInt(m.v.totalSupply))})]}),(0,a.jsxs)("p",{children:["- 公平发射：",(0,a.jsx)("span",{className:"text-secondary",children:(0,x.LH)(BigInt(m.v.fairLaunch))})," (10%)"]}),(0,a.jsxs)("p",{children:["- 治理激励：",(0,a.jsx)("span",{className:"text-secondary",children:(0,x.LH)(BigInt(m.v.govRewards))})," (45%)"]}),(0,a.jsxs)("p",{children:["- 行动激励：",(0,a.jsx)("span",{className:"text-secondary",children:(0,x.LH)(BigInt(m.v.actionRewards))})," (45%)"]})]}),(0,a.jsx)(c.ze,{children:(0,a.jsx)(c.uh,{asChild:!0,children:(0,a.jsx)(r.z,{variant:"outline",className:"w-1/2 mx-auto text-secondary border-secondary",children:"关闭"})})})]})})]}):(0,a.jsx)(f.Z,{})}},37413:function(e,s,t){"use strict";t.d(s,{v:function(){return n}});var n={totalSupply:1e28,fairLaunch:1e27,govRewards:45e26,actionRewards:45e26}},76064:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return B}});var n=t(91309),a=t(85893),r=t(67294),c=t(42130),l=t(41664),i=t.n(l),d=t(27245),o=t(93778),x=t(83494),m=t(64777),h=t(26858),u=t(85794),j=t(73591),f=t(42083),N=t(27460),p=t(53696),v=function(e){var s=e.token,t=(0,c.m)().address,n=(0,u.hS)(null==s?void 0:s.address,t),l=n.balance,o=n.isPending,x=n.error,v=(0,u.hS)(null==s?void 0:s.parentTokenAddress,t),y=v.balance,g=v.isPending,b=v.error,k=(0,j.S)().handleContractError;return((0,r.useEffect)(function(){x&&k(x,"token"),b&&k(b,"token")},[x,b]),s)?t?(0,a.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(m.Z,{title:"我的代币"}),(0,a.jsx)(d.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(i(),{href:"/token/transfer?symbol=".concat(s.symbol),children:"转账"})})]}),(0,a.jsxs)("div",{className:"stats bg-gray-100 w-full grid grid-cols-2 divide-x-0",children:[(0,a.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,a.jsxs)("div",{className:"stat-title text-sm flex items-center font-mono",children:["持有 ",null==s?void 0:s.symbol,(0,a.jsx)(N.Z,{address:s.address,showAddress:!1}),(0,a.jsx)(p.Z,{tokenAddress:s.address,tokenSymbol:s.symbol,tokenDecimals:s.decimals})]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:o?(0,a.jsx)(f.Z,{}):(0,h.LH)(l||BigInt(0))}),(0,a.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light",children:"不包含治理质押和行动参与"})]}),(0,a.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,a.jsxs)("div",{className:"stat-title text-sm flex items-center font-mono",children:["持有 ",null==s?void 0:s.parentTokenSymbol,(0,a.jsx)(N.Z,{address:s.parentTokenAddress,showAddress:!1}),(0,a.jsx)(p.Z,{tokenAddress:s.parentTokenAddress,tokenSymbol:s.parentTokenSymbol,tokenDecimals:s.decimals})]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:g?(0,a.jsx)(f.Z,{}):(0,h.LH)(y||BigInt(0))}),(0,a.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light"})]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,a.jsx)(m.Z,{title:"我的代币"}),(0,a.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):(0,a.jsx)(f.Z,{})},y=t(40057),g=t(4586),b=t(34680),k=t(24920),w=t(4307),Z=t(93950),_=t(20442),C=t(21338),S=function(e){var s=e.token,t=e.onActionStatusChange,n=(0,c.m)().address,l=(0,_.Bk)().currentRound,o=(0,Z.dB)((null==s?void 0:s.address)||"",n),x=o.joinedActions,u=o.isPending,p=o.error;(0,r.useEffect)(function(){t&&!u&&t(!!(x&&x.length>0))},[x,u,t]);var v=(0,j.S)().handleContractError;return(p&&v(p,"dataViewer"),u)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pt-4 px-4",children:[(0,a.jsx)(m.Z,{title:"我参与的行动"}),(0,a.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:(0,a.jsx)(f.Z,{})})]})}):(0,a.jsxs)("div",{className:"pt-4 px-4",children:[(0,a.jsx)(m.Z,{title:"我参与的行动"}),(0,a.jsx)(C.Z,{currentRound:l,roundType:"act"}),(null==x?void 0:x.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-4 space-y-4",children:(0,g._)(x).sort(function(e,s){var t=e.hasReward&&e.votesNum>0,n=s.hasReward&&s.votesNum>0;return t&&!n?-1:!t&&n?1:Number(s.joinedAmountOfAccount)-Number(e.joinedAmountOfAccount)}).map(function(e,t){var n=e.hasReward&&e.votesNum>0;return(0,a.jsx)(b.Zb,{className:n?"shadow-none":"shadow-none bg-gray-50",children:(0,a.jsxs)(i(),{href:"/my/myaction?id=".concat(e.action.head.id,"&symbol=").concat(null==s?void 0:s.symbol),className:"relative block",children:[(0,a.jsxs)(b.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-between items-baseline",children:[(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsx)("span",{className:"text-greyscale-400 text-sm",children:"No."}),(0,a.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.action.head.id)}),(0,a.jsx)("span",{className:"font-bold ".concat(n?"text-greyscale-800":"text-greyscale-400"),children:"".concat(e.action.body.title)})]}),e.votesNum>0?e.hasReward?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("span",{className:"text-error text-xs",children:"无铸币激励"}):(0,a.jsx)("span",{className:"text-error text-xs",children:"未投票"})]}),(0,a.jsx)(b.aY,{className:"px-3 pt-1 pb-2",children:(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(k.Z,{className:"text-greyscale-400 mr-1 h-3 w-3 -translate-y-0.5"}),(0,a.jsx)("span",{className:"text-greyscale-400",children:(0,a.jsx)(N.Z,{address:e.action.head.author,showCopyButton:!1,colorClassName2:"text-secondary"})})]}),e.votesNum>0&&(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"投票"}),(0,a.jsx)("span",{className:"text-secondary",children:(0,h.rl)(Number(e.votePercentPerTenThousand)/100)})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"我参与代币"}),(0,a.jsx)("span",{className:"text-secondary",children:(0,h.LH)(e.joinedAmountOfAccount)})]})]})}),(0,a.jsx)(w.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]},e.action.head.id)},e.action.head.id)})}),(0,a.jsx)("div",{className:"flex justify-center space-x-4 mt-4",children:(0,a.jsx)(d.z,{variant:"outline",className:"w-1/2 text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(i(),{href:"/my/actionrewards?symbol=".concat(null==s?void 0:s.symbol),children:"铸造 行动激励 >>"})})})]}):(0,a.jsx)("div",{className:"text-sm text-greyscale-500 text-center my-6",children:"没有参与行动，请先参与"})]})},I=t(66247),B=function(){var e=((0,r.useContext)(o.M)||{}).token,s=(0,c.m)().isConnected,t=(0,n._)((0,r.useState)(!1),2),l=t[0],h=t[1],u=(0,n._)((0,r.useState)(!1),2),j=u[0],N=u[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{title:"我的"}),(0,a.jsx)("main",{className:"flex-grow",children:s?e?e&&!e.hasEnded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.Z,{}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-4 mt-4",children:[(0,a.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"公平发射未结束，还不能查看个人资产"}),(0,a.jsx)(d.z,{className:"w-1/2",asChild:!0,children:(0,a.jsx)(i(),{href:"/launch?symbol=".concat(e.symbol),children:"查看公平发射"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{token:e}),!l&&j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{token:e,onActionStatusChange:N}),(0,a.jsxs)("div",{className:"flex-col items-center p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)(m.Z,{title:"我的治理资产"}),l&&(0,a.jsx)(d.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(i(),{href:"/stake/unstake?symbol=".concat(null==e?void 0:e.symbol),children:"取消质押"})})]}),(0,a.jsx)(y.Z,{token:e,onStakeStatusChange:h})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex-col items-center p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)(m.Z,{title:"我的治理资产"}),l&&(0,a.jsx)(d.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(i(),{href:"/stake/unstake?symbol=".concat(null==e?void 0:e.symbol),children:"取消质押"})})]}),(0,a.jsx)(y.Z,{token:e,onStakeStatusChange:h})]}),(0,a.jsx)(S,{token:e,onActionStatusChange:N})]})]}):(0,a.jsx)(f.Z,{}):(0,a.jsx)("div",{className:"flex flex-col items-center p-4 mt-4",children:(0,a.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"没有链接钱包，请先连接钱包"})})})]})}}},function(e){e.O(0,[8501,4463,246,1390,3494,3591,3950,6127,2180,7285,8499,225,57,2888,9774,179],function(){return e(e.s=89245)}),_N_E=e.O()}]);