try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="4bf1187d-1212-4db8-822b-945891cbde9a",e._sentryDebugIdIdentifier="sentry-dbid-4bf1187d-1212-4db8-822b-945891cbde9a")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3594],{84455:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/action/new",function(){return n(5854)}])},34680:function(e,r,n){"use strict";n.d(r,{Ol:function(){return d},SZ:function(){return l},Zb:function(){return c},aY:function(){return f},eW:function(){return m},ll:function(){return u}});var t=n(72253),s=n(47702),i=n(85893),a=n(67294),o=n(40108),c=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n)},a))});c.displayName="Card";var d=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n)},a))});d.displayName="CardHeader";var u=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",n)},a))});u.displayName="CardTitle";var l=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("text-sm text-muted-foreground",n)},a))});l.displayName="CardDescription";var f=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("p-6 pt-0",n)},a))});f.displayName="CardContent";var m=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",n)},a))});m.displayName="CardFooter"},74193:function(e,r,n){"use strict";n.d(r,{NI:function(){return y},Wi:function(){return v},l0:function(){return g},lX:function(){return N},pf:function(){return j},xJ:function(){return b},zG:function(){return w}});var t=n(34788),s=n(12796),i=n(72253),a=n(14932),o=n(47702),c=n(85893),d=n(67294),u=n(88426),l=n(87536),f=n(40108),m=n(94193),g=l.RV,x=d.createContext({}),v=function(e){var r=(0,t._)({},(0,s._)(e));return(0,c.jsx)(x.Provider,{value:{name:r.name},children:(0,c.jsx)(l.Qr,(0,i._)({},r))})},h=function(){var e=d.useContext(x),r=d.useContext(p),n=(0,l.Gc)(),t=n.getFieldState,s=n.formState,a=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");var o=r.id;return(0,i._)({id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},a)},p=d.createContext({}),b=d.forwardRef(function(e,r){var n=e.className,t=(0,o._)(e,["className"]),s=d.useId();return(0,c.jsx)(p.Provider,{value:{id:s},children:(0,c.jsx)("div",(0,i._)({ref:r,className:(0,f.cn)("space-y-2",n)},t))})});b.displayName="FormItem";var N=d.forwardRef(function(e,r){var n=e.className,t=(0,o._)(e,["className"]),s=h(),a=s.error,d=s.formItemId;return(0,c.jsx)(m._,(0,i._)({ref:r,className:(0,f.cn)(a&&"text-destructive",n),htmlFor:d},t))});N.displayName="FormLabel";var y=d.forwardRef(function(e,r){var n=(0,t._)({},(0,s._)(e)),a=h(),o=a.error,d=a.formItemId,l=a.formDescriptionId,f=a.formMessageId;return(0,c.jsx)(u.g7,(0,i._)({ref:r,id:d,"aria-describedby":o?"".concat(l," ").concat(f):"".concat(l),"aria-invalid":!!o},n))});y.displayName="FormControl";var j=d.forwardRef(function(e,r){var n=e.className,t=(0,o._)(e,["className"]),s=h().formDescriptionId;return(0,c.jsx)("p",(0,i._)({ref:r,id:s,className:(0,f.cn)("text-sm text-muted-foreground",n)},t))});j.displayName="FormDescription";var w=d.forwardRef(function(e,r){var n=e.className,t=e.children,s=(0,o._)(e,["className","children"]),d=h(),u=d.error,l=d.formMessageId,m=u?String(null==u?void 0:u.message):t;return m?(0,c.jsx)("p",(0,a._)((0,i._)({ref:r,id:l,className:(0,f.cn)("text-sm font-medium text-destructive",n)},s),{children:m})):null});w.displayName="FormMessage"},94193:function(e,r,n){"use strict";n.d(r,{_:function(){return l}});var t=n(72253),s=n(47702),i=n(85893),a=n(67294),o=n(49102),c=n(12003),d=n(40108),u=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)(o.f,(0,t._)({ref:r,className:(0,d.cn)(u(),n)},a))});l.displayName=o.f.displayName},76453:function(e,r,n){"use strict";n.d(r,{g:function(){return c}});var t=n(72253),s=n(47702),i=n(85893),a=n(67294),o=n(40108),c=a.forwardRef(function(e,r){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("textarea",(0,t._)({className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r},a))});c.displayName="Textarea"},4270:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});var t=(0,n(31134).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},37864:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});var t=(0,n(31134).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},64777:function(e,r,n){"use strict";var t=n(85893);r.Z=function(e){var r=e.title;return(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)("h1",{className:"text-lg font-bold",children:r})})}},60624:function(e,r,n){"use strict";n.d(r,{C:function(){return f}});var t=n(91309),s=n(67294),i=n(67516),a=n(42130),o=n(93778),c=n(66889),d=n(32848),u=n(37742),l=Number("3")/1e3,f=function(){var e=((0,s.useContext)(o.M)||{}).token,r=(0,a.m)().address,n=(0,s.useMemo)(function(){return(null==e?void 0:e.address)&&r?[{address:"0xb0d291C3B036860c8D5E2C681bFa391F787b26Cb",abi:c.B,functionName:"validGovVotes",args:[e.address,r]},{address:"0xa42CAcd51b0F27c863b0De3e7961590e00E3fc4a",abi:d.C,functionName:"govData",args:[e.address]}]:[]},[null==e?void 0:e.address,r]),f=(0,i.N)({contracts:n,query:{enabled:!!(null==e?void 0:e.address)&&!!r&&n.length>0}}),m=f.data,g=f.isPending,x=f.error;return(0,s.useMemo)(function(){if(!m||!(null==e?void 0:e.address)||!r)return{hasEnoughVotes:!1,percentage:0,validGovVotes:void 0,govData:void 0,SUBMIT_MIN_PERCENTAGE:l,isPending:g,error:x};var n=(0,t._)(m,2),s=n[0],i=n[1],a=(null==s?void 0:s.result)?(0,u.Z)(s.result):void 0,o=null==i?void 0:i.result,c=a&&(null==o?void 0:o.govVotes)&&o.govVotes!==BigInt(0)?Number(a)/Number(o.govVotes):0;return{hasEnoughVotes:c>=l,percentage:c,validGovVotes:a,govData:o,SUBMIT_MIN_PERCENTAGE:l,isPending:g,error:x}},[m,null==e?void 0:e.address,r,g,x])}},93566:function(e,r,n){"use strict";n.d(r,{$A:function(){return x},Bk:function(){return g},Xo:function(){return p},dI:function(){return f},qd:function(){return h},r7:function(){return m},sK:function(){return v}});var t=n(11010),s=n(97582),i=n(67294),a=n(71104),o=n(7724),c=n(37742),d=n(84689),u=n(37474),l="0xeBB295af1D4ee9ed92e55EFF4ca5Eb8D4AB81aCE",f=function(e,r){var n=(0,a.u)({address:l,abi:o.d,functionName:"actionInfo",args:[e,r||BigInt(0)],query:{enabled:!!e&&void 0!==r}});return{actionInfo:n.data,isPending:n.isPending,error:n.error}},m=function(e){var r=(0,a.u)({address:l,abi:o.d,functionName:"actionsCount",args:[e]}),n=r.data,t=r.isPending,s=r.error;return{actionNum:n?(0,c.Z)(n):void 0,isPending:t,error:s}},g=function(){var e=(0,a.u)({address:l,abi:o.d,functionName:"currentRound",args:[]}),r=e.data,n=e.isPending,t=e.error;return{currentRound:(0,c.Z)(r),isPending:n,error:t}},x=function(e,r,n){var t=(0,a.u)({address:l,abi:o.d,functionName:"isSubmitted",args:[e,r,n]});return{isSubmitted:t.data,isPending:t.isPending,error:t.error}},v=function(e,r,n){var t=(0,a.u)({address:l,abi:o.d,functionName:"submitInfo",args:[e,r,n],query:{enabled:!!e&&!!r}});return{submitInfo:t.data,isPending:t.isPending,error:t.error}};function h(){var e,r=(0,u.e9)(o.d,l,"submit"),n=r.execute,a=r.isPending,c=r.isConfirming,f=r.isConfirmed,m=r.error,g=r.hash,x=r.isTukeMode,v=(e=(0,t._)(function(e,r){return(0,s.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交submit交易:",{tokenAddress:e,actionId:r,isTukeMode:x}),[4,n([e,r])];case 1:return[2,t.sent()]}})}),function(r,n){return e.apply(this,arguments)});return(0,i.useEffect)(function(){g&&console.log("submit tx hash:",g),m&&(console.log("提交submit交易错误:"),(0,d.Vh)(m),(0,d.H)(m)),f&&console.log("submit tx confirmed")},[g,m,f]),{submit:v,isPending:a,isConfirming:c,writeError:m,isConfirmed:f,hash:g,isTukeMode:x}}function p(){var e,r=(0,u.e9)(o.d,l,"submitNewAction"),n=r.execute,a=r.isPending,c=r.isConfirming,f=r.isConfirmed,m=r.error,g=r.hash,x=r.isTukeMode,v=(e=(0,t._)(function(e,r){return(0,s.Jh)(this,function(t){switch(t.label){case 0:return console.log("提交submitNewAction交易:",{tokenAddress:e,actionBody:r,isTukeMode:x}),[4,n([e,r])];case 1:return[2,t.sent()]}})}),function(r,n){return e.apply(this,arguments)});return(0,i.useEffect)(function(){g&&console.log("submitNewAction tx hash:",g),m&&(console.log("提交submitNewAction交易错误:"),(0,d.Vh)(m),(0,d.H)(m)),f&&console.log("submitNewAction tx confirmed")},[g,m,f]),{submitNewAction:v,isPending:a,isConfirming:c,writeError:m,isConfirmed:f,hash:g,isTukeMode:x}}},45655:function(e,r,n){"use strict";n.d(r,{Hg:function(){return c},KL:function(){return a},lt:function(){return o},rJ:function(){return d}});var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};function s(e){return e?e.replace(/[&<>"'/]/g,function(e){return t[e]||e}):""}function i(e){if(!e)return"";var r=e.replace(/<[^>]*>/g,"");return s(r=(r=(r=r.replace(/javascript:/gi,"")).replace(/on\w+\s*=/gi,"")).replace(/data:[^;]*;base64,/gi,""))}function a(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";var n=/(https?:\/\/[^\s]+)/g;if(0===(e.match(n)||[]).length){var t=s(e);return r?t.replace(/\n/g,"<br>"):t}var i=e;return i=(i=(i=(i=i.replace(/<script[^>]*>.*?<\/script>/gi,"")).replace(/<[^>]*on\w+\s*=\s*[^>]*>/gi,"")).replace(/javascript:/gi,"")).split(n).map(function(e,r){return r%2==0?function(e){if(!e)return"";var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return e.replace(/[&<>"']/g,function(e){return r[e]||e})}(e):o(e)?e:s(e)}).join(""),r&&(i=i.replace(/\n/g,"<br>")),i}function o(e){if(!e)return!1;try{var r=new URL(e);if(!["https:","http:"].includes(r.protocol))return!1;var n=r.hostname.toLowerCase(),t=e.toLowerCase();if(t.includes("javascript:")||t.includes("data:")||t.includes("vbscript:")||t.includes("file:")||["phishing-site.com","fake-bank.com","malware-host.net"].some(function(e){return n===e||n.endsWith("."+e)})||["phishing","malware","trojan","keylogger","ransomware","exploit-kit"].some(function(e){return n.includes(e)})||/[\u0000-\u001f\u007f-\u009f]/.test(n)||!/^[a-zA-Z0-9.-]+$/.test(n))return!1;return/^\d+\.\d+\.\d+\.\d+$/.test(n),!0}catch(e){return!1}}function c(e){var r=[],n=e;if(!e||""===e.trim())return{isValid:!1,errors:["验证规则不能为空"],sanitizedRule:""};e.length>1e4&&r.push("验证规则不能超过10000字"),/<(?:script|iframe|object|embed|form|input|meta|link|style)[^>]*>/gi.test(e)&&(r.push("验证规则不能包含危险的HTML标签"),n=i(e)),RegExp("(?<!https?:\\/\\/[^\\s]*)(javascript:|onclick\\s*=|onerror\\s*=|onload\\s*=|<script)","gi").test(e)&&(r.push("验证规则不能包含可执行脚本代码"),n=i(e));var t=e.match(/(https?:\/\/[^\s]+)/g)||[];if(t.length>0){var s=t.filter(function(e){return!o(e)});s.length>0&&r.push("包含危险的链接，已被安全过滤器拦截: ".concat(s.join(", ")))}return{isValid:0===r.length,errors:r,sanitizedRule:n}}function d(e){var r=[];if(!e||""===e.trim())return{isValid:!1,errors:["验证名称不能为空"],sanitizedKey:""};var n=i(e);return n!==e&&r.push("验证名称包含不安全的内容"),{isValid:0===r.length,errors:r,sanitizedKey:n}}},5854:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return F}});var t=n(11010),s=n(72253),i=n(14932),a=n(97582),o=n(85893),c=n(39360),d=n(67294),u=n(11163),l=n(87536),f=n(37864),m=n(4270),g=n(45901),x=n(56312),v=n(45655),h=n(27245),p=n(21774),b=n(76453),N=n(34680),y=n(74193),j=n(93566),w=n(73591),_=n(60624),C=n(93778),I=n(83494),k=n(17301),E=n(64777),A=n(44576),P=n(91529),R=Number("64"),M=Math.floor(R/3),V=function(e){return Array.from(e).length},Z=g.Ry({actionName:g.Z_().min(1,{message:"行动名称不能为空"}).refine(function(e){return 20>=V(e)},{message:"行动名称不能超过20个字"}),verificationRule:g.Z_().min(1,{message:"验证规则不能为空"}).refine(function(e){return 1e4>=V(e)},{message:"验证规则不能超过10000字"}).refine(function(e){return(0,v.Hg)(e).isValid},{message:"验证规则包含不安全的内容，请检查是否包含HTML标签、脚本代码或不安全的链接"}),verificationPairs:g.IX(g.Ry({key:g.Z_().min(1,{message:"验证名称不能为空"}).refine(function(e){return!!(!R||Number.isNaN(R))||new TextEncoder().encode(e).length<=R},{message:"关键词最多".concat(M,"个汉字或").concat(R,"个英文数字")}).refine(function(e){return(0,v.rJ)(e).isValid},{message:"验证名称包含不安全的内容"}),value:g.Z_().min(1,{message:"验证信息提示不能为空"}).refine(function(e){return 1e3>=V(e)},{message:"验证信息内容（value）不能超过1000字"}).refine(function(e){return(0,v.Hg)(e).isValid},{message:"验证信息内容包含不安全的内容"})})),rewardAddressCount:g.Z_().min(1,{message:"验证地址数不能为空"}).refine(function(e){return Number(e)>0},{message:"验证地址数必须大于0"}),minStake:g.Z_().min(1,{message:"最小参与代币数不能为空"}).refine(function(e){return Number(e)>0},{message:"最小参与代币数必须大于0"}),whiteListAddress:g.Z_().optional().refine(function(e){return!e||""===e.trim()||/^0x[a-fA-F0-9]{40}$/.test(e.trim())},{message:"白名单地址必须是有效的 0x 地址格式"})});function F(){(0,c.x)();var e,r=((0,d.useContext)(C.M)||{}).token,n=(0,u.useRouter)(),g=n.query.extension,v=!!(g&&"string"==typeof g&&/^0x[a-fA-F0-9]{40}$/.test(g)&&"0x0000000000000000000000000000000000000000"!==g.toLowerCase()),R=(0,l.cI)({resolver:(0,x.F)(Z),defaultValues:{actionName:"",verificationRule:"",verificationPairs:[{key:"",value:""}],rewardAddressCount:"",minStake:"",whiteListAddress:""},mode:"onChange"}),M=(0,l.Dq)({control:R.control,name:"verificationPairs"}),V=M.fields,F=M.append,T=M.remove;(0,d.useEffect)(function(){v&&(R.setValue("rewardAddressCount","1"),R.setValue("minStake","1"),R.setValue("whiteListAddress",g))},[v,g,R]);var L=(0,_.C)(),S=L.hasEnoughVotes,z=L.percentage,D=L.validGovVotes,B=L.govData,G=L.SUBMIT_MIN_PERCENTAGE,J=L.isPending,X=L.error,W=(0,j.Xo)(),H=W.submitNewAction,q=W.isPending,K=W.isConfirming,$=W.isConfirmed,U=W.writeError,O=(e=(0,t._)(function(e){var n,t,s,i;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(!S)return n=(100*G).toFixed(2),R.setError("actionName",{type:"manual",message:"有效治理票，须达到总治理票的".concat(n,"%，才能新建、推举行动（您当前有效治理票占比").concat((100*z).toFixed(2),"%）")}),[2];return t=e.verificationPairs.map(function(e){return e.key}),s=e.verificationPairs.map(function(e){return e.value}),i={minStake:e.minStake?(0,P.vz)(e.minStake):BigInt(0),maxRandomAccounts:e.rewardAddressCount?BigInt(e.rewardAddressCount):BigInt(0),whiteListAddress:e.whiteListAddress&&""!==e.whiteListAddress.trim()?e.whiteListAddress.trim():"0x0000000000000000000000000000000000000000",title:e.actionName,verificationRule:e.verificationRule,verificationKeys:t,verificationInfoGuides:s},[4,H(null==r?void 0:r.address,i)];case 1:return a.sent(),[2]}})}),function(r){return e.apply(this,arguments)});(0,d.useEffect)(function(){$&&n.push("/vote/batch?symbol=".concat(null==r?void 0:r.symbol))},[$,n,null==r?void 0:r.symbol]);var Y=(0,w.S)().handleContractError;return(0,d.useEffect)(function(){X&&Y(X,"submit"),U&&Y(U,"submit")},[X,U,Y]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{title:"创建新行动",showBackButton:!0}),(0,o.jsxs)("div",{className:"max-w-xl p-4",children:[!S&&void 0!==D&&B&&(0,o.jsx)(k.Z,{type:"error",message:"有效治理票，须达到总治理票的".concat((0,P.rl)(100*G,1),"，才能新建、推举行动（您当前有效治理票占比").concat((0,P.rl)(100*z,3),"）"),className:"mb-4"}),(0,o.jsx)(E.Z,{title:"创建新行动"}),(0,o.jsx)(y.l0,(0,i._)((0,s._)({},R),{children:(0,o.jsxs)("form",{onSubmit:R.handleSubmit(O),className:"mt-4 space-y-4",children:[(0,o.jsx)(y.Wi,{control:R.control,name:"actionName",render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{children:[(0,o.jsx)(y.lX,{children:"行动名称"}),(0,o.jsx)(y.NI,{children:(0,o.jsx)(p.I,(0,s._)({type:"text",placeholder:"一句话说明行动",className:"!ring-secondary-foreground",maxLength:32},r))}),(0,o.jsx)(y.zG,{})]})}}),(0,o.jsx)(y.Wi,{control:R.control,name:"verificationRule",render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{children:[(0,o.jsx)(y.lX,{children:"验证规则"}),(0,o.jsx)(y.NI,{children:(0,o.jsx)(b.g,(0,s._)({placeholder:"验证者，会根据这个规则来打分",rows:6,className:"!ring-secondary-foreground",maxLength:10010},r))}),(0,o.jsx)(y.zG,{})]})}}),(0,o.jsxs)("div",{children:[(0,o.jsx)(y.lX,{children:"报名参加行动时，行动者要提供的信息："}),(0,o.jsx)("div",{className:"space-y-4 mt-2",children:V.map(function(e,r){return(0,o.jsx)(N.Zb,{className:"overflow-hidden",children:(0,o.jsx)(N.aY,{className:"p-4",children:(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(y.Wi,{control:R.control,name:"verificationPairs.".concat(r,".key"),render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{className:"flex-grow",children:[(0,o.jsx)(y.NI,{children:(0,o.jsx)(p.I,(0,s._)({type:"text",placeholder:"名称，比如 '微信昵称'",className:"!ring-secondary-foreground"},r))}),(0,o.jsx)(y.zG,{})]})}}),(0,o.jsx)(h.z,{variant:"ghost",size:"icon",onClick:function(){return T(r)},className:"flex-shrink-0",type:"button",children:(0,o.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,o.jsx)(y.Wi,{control:R.control,name:"verificationPairs.".concat(r,".value"),render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{children:[(0,o.jsx)(y.NI,{children:(0,o.jsx)(p.I,(0,s._)({type:"text",placeholder:"提示信息，比如 '张三-8b6c'",className:"!ring-secondary-foreground",maxLength:1010},r))}),(0,o.jsx)(y.zG,{})]})}})]})})},e.id)})}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)(h.z,{type:"button",variant:"outline",onClick:function(){return F({key:"",value:""})},className:"w-1/2 mt-2 border-secondary text-secondary",children:[(0,o.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"添加验证信息"]})})]}),(0,o.jsx)(y.Wi,{control:R.control,name:"rewardAddressCount",render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{children:[(0,o.jsx)(y.lX,{children:"最大激励地址数"}),(0,o.jsx)(y.NI,{children:(0,o.jsx)(p.I,(0,s._)({type:"number",placeholder:"地址数必须大于0",className:"!ring-secondary-foreground disabled:bg-gray-200 disabled:text-gray-500 disabled:opacity-70",autoComplete:"off",disabled:v},r))}),(0,o.jsx)(y.pf,{}),(0,o.jsx)(y.zG,{})]})}}),(0,o.jsx)(y.Wi,{control:R.control,name:"minStake",render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{children:[(0,o.jsx)(y.lX,{children:"最小参与代币数"}),(0,o.jsx)(y.NI,{children:(0,o.jsx)(p.I,(0,s._)({type:"number",placeholder:"最小参与代币数必须大于0",className:"!ring-secondary-foreground disabled:bg-gray-200 disabled:text-gray-500 disabled:opacity-70",autoComplete:"off",disabled:v},r))}),(0,o.jsx)(y.pf,{}),(0,o.jsx)(y.zG,{})]})}}),(0,o.jsx)(y.Wi,{control:R.control,name:"whiteListAddress",render:function(e){var r=e.field;return(0,o.jsxs)(y.xJ,{children:[(0,o.jsx)(y.lX,{children:"白名单"}),(0,o.jsx)(y.NI,{children:(0,o.jsx)(p.I,(0,s._)({type:"text",placeholder:"不填为不限",className:"!ring-secondary-foreground disabled:bg-gray-200 disabled:text-gray-500 disabled:opacity-70",disabled:v},r))}),(0,o.jsx)(y.pf,{}),(0,o.jsx)(y.zG,{})]})}}),(0,o.jsx)(h.z,{type:"submit",disabled:q||K||$||!S||J,className:"mt-4 w-full",children:q?"提交中...":K?"确认中...":$?"已提交":"提交"})]})})),(0,o.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-4",children:[(0,o.jsx)("p",{className:"mb-1",children:"说明："}),(0,o.jsx)("p",{children:"1. 每个轮次，1个地址最多可以 创建/推举 1 个行动；"}),(0,o.jsx)("p",{children:"2. 创建后，会自动推举该行动；"})]})]}),(0,o.jsx)(A.Z,{isLoading:q||K,text:q?"提交交易...":"确认交易..."})]})}}},function(e){e.O(0,[8501,4463,721,3494,3591,2888,9774,179],function(){return e(e.s=84455)}),_N_E=e.O()}]);