try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="9b4885a9-be63-45b8-98a3-47a8fd3019da",e._sentryDebugIdIdentifier="sentry-dbid-9b4885a9-be63-45b8-98a3-47a8fd3019da")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2156],{55778:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/action/detail",function(){return t(48827)}])},35810:function(e,s,t){"use strict";t.d(s,{$N:function(){return N},Be:function(){return p},Vq:function(){return u},cN:function(){return g},cZ:function(){return v},fK:function(){return h},hg:function(){return x}});var n=t(72253),a=t(14932),r=t(47702),i=t(85893),o=t(67294),l=t(12854),c=t(62190),d=t(40108),u=l.fC,x=l.xz,m=l.h_;l.x8;var f=o.forwardRef(function(e,s){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.aV,(0,n._)({ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},a))});f.displayName=l.aV.displayName;var v=o.forwardRef(function(e,s){var t=e.className,o=e.children,u=(0,r._)(e,["className","children"]);return(0,i.jsxs)(m,{children:[(0,i.jsx)(f,{}),(0,i.jsxs)(l.VY,(0,a._)((0,n._)({ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},u),{children:[o,(0,i.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(c.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});v.displayName=l.VY.displayName;var h=function(e){var s=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},t))};h.displayName="DialogHeader";var g=function(e){var s=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},t))};g.displayName="DialogFooter";var N=o.forwardRef(function(e,s){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.Dx,(0,n._)({ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t)},a))});N.displayName=l.Dx.displayName;var p=o.forwardRef(function(e,s){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.dk,(0,n._)({ref:s,className:(0,d.cn)("text-sm text-muted-foreground",t)},a))});p.displayName=l.dk.displayName},26986:function(e,s,t){"use strict";t.d(s,{OX:function(){return h},Qz:function(){return u},dy:function(){return d},iI:function(){return N},sc:function(){return v},u6:function(){return p},uh:function(){return m},ze:function(){return g}});var n=t(72253),a=t(14932),r=t(47702),i=t(85893),o=t(67294),l=t(53798),c=t(40108),d=function(e){var s=e.shouldScaleBackground,t=(0,r._)(e,["shouldScaleBackground"]);return(0,i.jsx)(l.dy.Root,(0,n._)({shouldScaleBackground:void 0===s||s},t))};d.displayName="Drawer";var u=l.dy.Trigger,x=l.dy.Portal,m=l.dy.Close,f=o.forwardRef(function(e,s){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.dy.Overlay,(0,n._)({ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80",t)},a))});f.displayName=l.dy.Overlay.displayName;var v=o.forwardRef(function(e,s){var t=e.className,o=e.children,d=(0,r._)(e,["className","children"]);return(0,i.jsxs)(x,{children:[(0,i.jsx)(f,{}),(0,i.jsxs)(l.dy.Content,(0,a._)((0,n._)({ref:s,className:(0,c.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t)},d),{children:[(0,i.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),o]}))]})});v.displayName="DrawerContent";var h=function(e){var s=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,c.cn)("grid gap-1.5 p-4 text-center sm:text-left",s)},t))};h.displayName="DrawerHeader";var g=function(e){var s=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,c.cn)("mt-auto flex flex-col gap-2 p-4",s)},t))};g.displayName="DrawerFooter";var N=o.forwardRef(function(e,s){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.dy.Title,(0,n._)({ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t)},a))});N.displayName=l.dy.Title.displayName;var p=o.forwardRef(function(e,s){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.dy.Description,(0,n._)({ref:s,className:(0,c.cn)("text-sm text-muted-foreground",t)},a))});p.displayName=l.dy.Description.displayName},20725:function(e,s,t){"use strict";var n=t(85893),a=t(67294),r=t(93566),i=t(73591),o=t(93778),l=t(91529),c=t(72107),d=t(31084),u=t(44746),x=t(27460),m=t(42083);s.Z=function(e){var s=e.actionId,t=e.round,f=e.showSubmitter,v=(e.showVerifyHistory,e.onActionInfo),h=((0,a.useContext)(o.M)||{}).token,g=(0,r.dI)(null==h?void 0:h.address,s),N=g.actionInfo,p=g.isPending,j=g.error;(0,a.useEffect)(function(){v&&N&&v(N)},[N]);var b=(0,r.sK)(null==h?void 0:h.address,f?t:BigInt(0),s),y=b.submitInfo,w=b.isPending,_=b.error,C=(null==y?void 0:y.submitter)||"N/A",k=(0,i.S)().handleContractError;return((0,a.useEffect)(function(){j&&k(j,"submit"),_&&k(_,"submit")},[j,_]),p)?(0,n.jsx)(m.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mx-auto p-4 pb-2 ",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("span",{className:"text-sm text-greyscale-500",children:["No.",null==N?void 0:N.head.id.toString()]}),(0,n.jsx)("span",{className:"text-xl font-bold text-black",children:null==N?void 0:N.body.title})]}),(0,n.jsxs)("div",{className:"mt-0 text-xs text-greyscale-500 flex justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:["创建人 ",(0,n.jsx)(x.Z,{address:null==N?void 0:N.head.author})]}),f&&(0,n.jsxs)("div",{className:"flex items-center",children:["推举人"," ",w?(0,n.jsx)(m.Z,{}):(0,n.jsx)(x.Z,{address:C})]})]})]}),(0,n.jsx)("div",{className:"mx-auto p-4 pb-2",children:(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-sm font-bold",children:"最小参与代币数"}),(0,n.jsx)("p",{className:"text-greyscale-500",children:(0,l.LH)((null==N?void 0:N.body.minStake)||BigInt(0))})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,n.jsx)("h3",{className:"text-sm font-bold",children:"最大激励地址数"}),(0,n.jsx)(u.Z,{title:"最大激励地址数说明",content:(0,n.jsxs)("p",{className:"leading-relaxed text-base",children:["每轮从所有参与行动的代币中，随机抽取",(0,n.jsx)("span",{className:"font-mono font-bold text-blue-600 mx-1 text-base",children:null==N?void 0:N.body.maxRandomAccounts.toString()}),"份代币，返回对应地址。若多份代币对应相同地址，则会合并为一个地址。"]})})]}),(0,n.jsx)("p",{className:"text-greyscale-500",children:(null==N?void 0:N.body.maxRandomAccounts.toString())||"-"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-sm font-bold mb-2",children:"验证规则"}),(0,n.jsx)("div",{className:"text-greyscale-500",children:(0,n.jsx)(c.L,{text:null==N?void 0:N.body.verificationRule,preserveLineBreaks:!0})})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-sm font-bold mb-2",children:"报名参加行动时，行动者要提供的信息"}),(null==N?void 0:N.body.verificationKeys)&&(null==N?void 0:N.body.verificationKeys.length)>0?(0,n.jsx)("ul",{className:"list-disc pl-5",children:N.body.verificationKeys.map(function(e,s){return(0,n.jsxs)("li",{className:"text-greyscale-500",children:[(0,n.jsxs)("div",{className:"text-sm font-bold text-greyscale-900 mb-1",children:[(0,n.jsx)(d.Z,{text:e,showWarning:!0})," :"]}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{text:N.body.verificationInfoGuides[s],showWarning:!0,preserveLineBreaks:!0})})]},s)})}):(0,n.jsx)("span",{className:"text-greyscale-500",children:"无"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-sm font-bold",children:"白名单"}),(0,n.jsx)("p",{className:"text-greyscale-500 flex flex-wrap items-center",children:(null==N?void 0:N.body.whiteListAddress)&&"0x0000000000000000000000000000000000000000"!==N.body.whiteListAddress?(0,n.jsx)("span",{className:"flex items-center mr-2",children:(0,n.jsx)(x.Z,{address:N.body.whiteListAddress})}):"无限制"})]})]})})]})}},27460:function(e,s,t){"use strict";var n=t(91309),a=t(85893),r=t(67294),i=t(74855),o=t(78865),l=t(18289),c=t(86501),d=t(91529);s.Z=function(e){var s=e.address,t=e.word,u=e.showCopyButton,x=e.showCopyLast4Button,m=e.showAddress,f=void 0===m||m,v=e.colorClassName,h=void 0===v?"":v,g=e.colorClassName2,N=void 0===g?"":g,p=(0,n._)((0,r.useState)(!1),2),j=p[0],b=p[1],y=(0,n._)((0,r.useState)(!1),2),w=y[0],_=y[1];(0,r.useEffect)(function(){b(!1),_(!1)},[s]);var C=function(e){e.preventDefault(),e.stopPropagation()};return(0,a.jsxs)("span",{className:"inline-flex items-center space-x-1",children:[t&&(0,a.jsx)("span",{className:"text-xs",children:t}),f&&!N&&(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:(0,d.Vu)(s)}),f&&N&&(0,a.jsxs)("span",{className:"text-[0px]",children:[(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:"".concat(s.substring(0,6),"...")}),(0,a.jsx)("span",{className:"font-mono text-xs ".concat(N),children:"".concat(s.substring(s.length-4))})]}),(void 0===u||u)&&(0,a.jsx)(i.CopyToClipboard,{text:s,onCopy:function(e,s){s?(b(!0),setTimeout(function(){return b(!1)},2e3)):c.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:C,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:j?(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")}):(0,a.jsx)(l.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")})})}),void 0!==x&&x&&(0,a.jsx)(i.CopyToClipboard,{text:s.substring(s.length-4),onCopy:function(e,s){s?(_(!0),c.ZP.success("已复制后4位"),setTimeout(function(){return _(!1)},2e3)):c.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:C,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:w?(0,a.jsx)("span",{className:"".concat(null!=h?h:"text-greyscale-500"),children:"已复制"}):(0,a.jsx)("span",{className:"".concat(null!=h?h:"text-greyscale-500"),children:"后4位"})})})]})}},44746:function(e,s,t){"use strict";t.d(s,{Z:function(){return x}});var n=t(72253),a=t(14932),r=t(91309),i=t(85893),o=t(67294),l=t(74598),c=t(35810),d=t(26986),u=t(79995);function x(e){var s=e.title,t=e.content,x=e.className,m=void 0===x?"":x,f=(0,r._)((0,o.useState)(!1),2),v=f[0],h=f[1],g=(0,u.Z)("(min-width: 768px)"),N=o.forwardRef(function(e,t){return(0,i.jsx)("button",(0,a._)((0,n._)({ref:t,type:"button",className:"inline-flex items-center p-1 rounded hover:bg-gray-100 transition-colors ".concat(m),"aria-label":"查看".concat(s)},e),{children:(0,i.jsx)(l.Z,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"})}))});N.displayName="TriggerButton";var p=function(){return(0,i.jsx)("div",{className:"text-gray-700",children:"string"==typeof t?(0,i.jsx)("p",{className:"leading-relaxed text-sm",children:t}):t})};return(0,i.jsxs)(i.Fragment,{children:[g&&(0,i.jsxs)(c.Vq,{open:v,onOpenChange:h,children:[(0,i.jsx)(c.hg,{asChild:!0,children:(0,i.jsx)(N,{})}),(0,i.jsxs)(c.cZ,{className:"sm:max-w-[425px]",children:[(0,i.jsx)(c.$N,{className:"text-lg font-semibold",children:s}),(0,i.jsx)("div",{className:"pt-2 pb-4",children:(0,i.jsx)(p,{})})]})]}),!g&&(0,i.jsxs)(d.dy,{open:v,onOpenChange:h,children:[(0,i.jsx)(d.Qz,{asChild:!0,children:(0,i.jsx)(N,{})}),(0,i.jsxs)(d.sc,{className:"pb-safe",children:[(0,i.jsx)(d.OX,{children:(0,i.jsx)(d.iI,{className:"text-lg font-semibold",children:s})}),(0,i.jsx)("div",{className:"px-4 pb-8 mb-10",children:(0,i.jsx)(p,{})})]})]})]})}},31084:function(e,s,t){"use strict";var n=t(85893);t(67294);var a=t(45655);s.Z=function(e){var s=e.text,t=e.className,r=e.maxLength,i=e.showWarning,o=e.preserveLineBreaks;if(!s)return null;var l=s;r&&s.length>r&&(l=s.substring(0,r)+"...");var c=(0,a.KL)(l,void 0!==o&&o),d=s!==l||/<[^>]*>/g.test(s)||/script|javascript|onclick|onerror|onload/gi.test(s);return(0,n.jsxs)("span",{className:void 0===t?"":t,children:[(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:c}}),void 0!==i&&i&&d&&(0,n.jsx)("span",{className:"text-yellow-500 text-xs ml-1",children:"⚠️ 内容已被安全过滤"})]})}},35312:function(e,s,t){"use strict";t.d(s,{C:function(){return c}});var n=t(67294),a=t(92180),r=t(93950),i=t(93778),o=t(42130),l=Number("3")/1e3,c=function(){var e=((0,n.useContext)(i.M)||{}).token,s=(0,o.m)().address,t=(0,a.Ty)((null==e?void 0:e.address)||"",s||""),c=t.validGovVotes,d=t.isPending,u=t.error,x=(0,r._H)(null==e?void 0:e.address),m=x.govData,f=x.isPending,v=x.error,h=(0,n.useMemo)(function(){return c&&(null==m?void 0:m.govVotes)&&m.govVotes!==BigInt(0)?Number(c)/Number(m.govVotes):0},[c,null==m?void 0:m.govVotes]);return{hasEnoughVotes:(0,n.useMemo)(function(){return h>=l},[h]),percentage:h,validGovVotes:c,govData:m,SUBMIT_MIN_PERCENTAGE:l,isPending:d||f,error:null!=u?u:v}}},48827:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return C}});var n=t(91309),a=t(85893),r=t(67294),i=t(11163),o=t(83494),l=t(20725),c=t(27245),d=t(86501),u=t(39360),x=t(93566),m=t(73591),f=t(35312),v=t(93778),h=t(17301),g=t(42083),N=t(44576),p=t(91529),j=function(e){var s=e.actionId,t=e.submitted,n=e.onRoundChange,o=((0,r.useContext)(v.M)||{}).token;(0,u.x)();var l=(0,i.useRouter)(),j=(0,x.Bk)(),b=j.currentRound,y=j.isPending,w=j.error;(0,r.useEffect)(function(){n&&"function"==typeof n&&n(b)},[b,n]);var _=(0,f.C)(),C=_.hasEnoughVotes,k=_.percentage,I=_.validGovVotes,Z=_.govData,B=_.SUBMIT_MIN_PERCENTAGE,E=_.isPending,R=_.error,P=(0,x.qd)(),T=P.submit,S=P.isPending,V=P.isConfirming,D=P.isConfirmed,L=P.writeError;(0,r.useEffect)(function(){D&&!L&&(d.Am.success("推举成功",{duration:2e3}),setTimeout(function(){l.push("/vote/?symbol=".concat(null==o?void 0:o.symbol))},2e3))},[D,L]);var A=(0,m.S)().handleContractError;return((0,r.useEffect)(function(){w&&A(w,"submit"),R&&A(R,"submit"),L&&A(L,"submit")},[w,R,L]),E||y)?(0,a.jsx)(g.Z,{}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col m-4",children:[!C&&void 0!==I&&(null==Z?void 0:Z.govVotes)&&(0,a.jsx)(h.Z,{type:"error",message:"有效治理票，须达到总治理票的".concat((100*B).toFixed(1),"%，才能新建、推举行动（您当前有效治理票为").concat((0,p.LH)(I),"，占比").concat((100*k).toFixed(2),"%）"),className:"mb-4"}),(0,a.jsx)("div",{className:"flex justify-center",children:t||D?(0,a.jsxs)("div",{className:"flex space-x-4 justify-center w-full",children:[(0,a.jsx)(c.z,{disabled:!0,className:"w-1/2",children:"已推举"}),t&&!D&&(0,a.jsx)(c.z,{onClick:function(){return l.push("/vote/?symbol=".concat(null==o?void 0:o.symbol))},className:"w-1/2",children:"去投票"})]}):(0,a.jsxs)(c.z,{onClick:function(){S||V||!C||T(null==o?void 0:o.address,s)},className:"submit-action-button w-1/2",disabled:S||V||!C,children:[S&&"提交中...",V&&"确认中...",!S&&!V&&"推举本行动"]})}),(0,a.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-4 w-full",children:[(0,a.jsx)("p",{className:"mb-1",children:"说明："}),(0,a.jsxs)("p",{children:["1. 有效治理票数 ≥ 总治理票的",Number("3")/10,"%，才能推举；"]}),(0,a.jsx)("p",{children:"2. 每轮次，1个地址最多可 创建/推举 1 个行动；"})]})]}),(0,a.jsx)(N.Z,{isLoading:S||V,text:S?"提交交易...":"确认交易..."})]})},b=t(42130),y=t(92180),w=t(7080),_=function(e){var s=e.actionId,t=e.onRoundChange,n=(0,b.m)().address,o=((0,r.useContext)(v.M)||{}).token,l=(0,i.useRouter)(),u=(0,w.Bk)(),x=u.currentRound,f=(u.isPending,u.error);(0,r.useEffect)(function(){t&&"function"==typeof t&&t(x)},[x,t]);var h=(0,y.Ty)(null==o?void 0:o.address,n),j=h.validGovVotes,_=h.isPending,C=h.error,k=(0,w.Ol)(null==o?void 0:o.address,x,n,s),I=k.votesNumByAccountByActionId,Z=k.isPending,B=k.error,E=(0,w.VI)((null==o?void 0:o.address)||"",x,n||""),R=E.votesNumByAccount,P=E.isPending,T=E.error,S=_||P||Z,V=S?BigInt(0):j-R,D=(0,w.rv)(),L=D.vote,A=D.isPending,z=D.isConfirming,H=D.isConfirmed,M=D.writeError,O=(0,m.S)().handleContractError;return(0,r.useEffect)(function(){M&&O(M,"vote"),f&&O(f,"vote"),B&&O(B,"vote"),C&&O(C,"stake"),T&&O(T,"vote")},[M,f,B,C,T]),(0,r.useEffect)(function(){H&&!M&&(d.ZP.success("提交成功",{duration:2e3}),setTimeout(function(){l.push("/vote/actions/?symbol=".concat(null==o?void 0:o.symbol))},2e3))},[H,M]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-3 p-4 mb-2",children:[(0,a.jsxs)("div",{className:"stats w-full border grid grid-cols-2 divide-x-0 mb-2",children:[(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsx)("div",{className:"stat-title",children:"我已投本行动票数"}),(0,a.jsx)("div",{className:"stat-value text-2xl",children:Z?(0,a.jsx)(g.Z,{}):(0,p.LH)(I)})]}),(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsx)("div",{className:"stat-title",children:"我的剩余票数"}),(0,a.jsx)("div",{className:"stat-value text-2xl",children:S?(0,a.jsx)(g.Z,{}):(0,p.LH)(V)})]})]}),!Z&&V>BigInt(10)?(0,a.jsx)(c.z,{className:"w-1/2",onClick:function(){A||z||L(null==o?void 0:o.address,[s],[V])},disabled:A||z,children:A||z?(0,a.jsx)(g.Z,{}):"将100%票投给此行动"}):(0,a.jsx)(c.z,{className:"w-1/2",disabled:!0,children:S?(0,a.jsx)(g.Z,{}):"没有剩余票数"}),!_&&(0,a.jsxs)("div",{className:"text-sm text-greyscale-500 text-center",children:["提示: 每轮最大可投票数，等于您的治理票数 (",(0,p.LH)(j),")"]})]}),(0,a.jsx)(N.Z,{isLoading:A||z,text:A?"提交交易...":"确认交易..."})]})},C=function(){var e=(0,i.useRouter)().query,s=e.id,t=e.type,c=e.submitted,d=(0,n._)((0,r.useState)(null),2),u=d[0],x=d[1],m=function(e){x(e)},f=(0,n._)((0,r.useState)(void 0),2),v=(f[0],f[1]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{title:"行动详情",showBackButton:!0}),(0,a.jsxs)("main",{className:"flex-grow",children:["submit"===t&&(0,a.jsx)(j,{actionId:BigInt(s||0),submitted:"true"===c,onRoundChange:m}),"vote"===t&&(0,a.jsx)(_,{actionId:BigInt(s||0),onRoundChange:m}),(0,a.jsx)(l.Z,{actionId:BigInt(s||0),round:BigInt(u||0),showSubmitter:"submit"!==t,onActionInfo:v})]})]})}}},function(e){e.O(0,[8239,5115,1390,3494,3591,3950,2180,7724,1489,2888,9774,179],function(){return e(e.s=55778)}),_N_E=e.O()}]);