try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="98418bba-2372-43a2-b8bd-0aaa516f6651",e._sentryDebugIdIdentifier="sentry-dbid-98418bba-2372-43a2-b8bd-0aaa516f6651")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7649],{54462:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dex/deposit",function(){return t(3173)}])},53696:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var a=t(11010),s=t(91309),r=t(97582),i=t(85893),o=t(67294),u=t(23432),d=(0,t(31134).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),l=t(42130),c=t(30246),p=t(86501),y=t(55612);function m(e){var n,t=e.tokenAddress,m=e.tokenSymbol,f=e.tokenDecimals,b=e.tokenImage,x=(0,s._)((0,o.useState)(!1),2),h=x[0],g=x[1],w=(0,l.m)().isConnected,T=(0,c.p)().data,v=(n=(0,a._)(function(){return(0,r.Jh)(this,function(e){switch(e.label){case 0:if(!w)return alert("请先连接你的钱包"),[2];g(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!T)return alert("无法获取钱包客户端"),[2];return[4,T.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:m,decimals:f,image:b}}})];case 2:return e.sent()?p.ZP.success("代币已成功添加到 MetaMask 钱包"):p.ZP.error("用户拒绝添加代币"),[3,5];case 3:return e.sent(),p.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return g(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return m.length>11||(0,y.ON)()?null:(0,i.jsx)("button",{onClick:v,disabled:h,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:h?(0,i.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(d,{className:"h-4 w-4 text-greyscale-500"})})}},27460:function(e,n,t){"use strict";var a=t(91309),s=t(85893),r=t(67294),i=t(74855),o=t(78865),u=t(18289),d=t(86501),l=t(26858);n.Z=function(e){var n=e.address,t=e.word,c=e.showCopyButton,p=e.showCopyLast4Button,y=e.showAddress,m=void 0===y||y,f=e.colorClassName,b=void 0===f?"":f,x=e.colorClassName2,h=void 0===x?"":x,g=(0,a._)((0,r.useState)(!1),2),w=g[0],T=g[1],v=(0,a._)((0,r.useState)(!1),2),j=v[0],k=v[1];(0,r.useEffect)(function(){T(!1),k(!1)},[n]);var N=function(e){e.preventDefault(),e.stopPropagation()};return(0,s.jsxs)("span",{className:"inline-flex items-center space-x-1",children:[t&&(0,s.jsx)("span",{className:"text-xs",children:t}),m&&!h&&(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=b?b:"text-greyscale-500"),children:(0,l.Vu)(n)}),m&&h&&(0,s.jsxs)("span",{className:"text-[0px]",children:[(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=b?b:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,s.jsx)("span",{className:"font-mono text-xs ".concat(h),children:"".concat(n.substring(n.length-4))})]}),(void 0===c||c)&&(0,s.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?(T(!0),setTimeout(function(){return T(!1)},2e3)):d.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:N,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:w?(0,s.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=b?b:"text-greyscale-500")}):(0,s.jsx)(u.Z,{className:"h-4 w-4 ".concat(null!=b?b:"text-greyscale-500")})})}),void 0!==p&&p&&(0,s.jsx)(i.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(k(!0),d.ZP.success("已复制后4位"),setTimeout(function(){return k(!1)},2e3)):d.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:N,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:j?(0,s.jsx)("span",{className:"".concat(null!=b?b:"text-greyscale-500"),children:"已复制"}):(0,s.jsx)("span",{className:"".concat(null!=b?b:"text-greyscale-500"),children:"后4位"})})})]})}},42083:function(e,n,t){"use strict";var a=t(85893),s=t(23432);n.Z=function(){return(0,a.jsx)(s.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},33838:function(e,n,t){"use strict";t.d(n,{hS:function(){return p},Qo:function(){return y},Qc:function(){return m}});var a=t(11010),s=t(97582),r=t(67294),i=t(71104),o=[{type:"fallback",stateMutability:"payable"},{type:"function",name:"allowance",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"guy",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"deposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"src",type:"address",internalType:"address"},{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"guy",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],u=t(37742),d=t(37474),l=t(84689),c="0xc3Da46ED14dBd79922027031BB5D688A81139e01",p=function(e,n){var t=(0,i.u)({address:e,abi:o,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n}}),a=t.data,s=t.isPending,r=t.error;return{balance:a?(0,u.Zu)(a):void 0,isPending:s,error:r}},y=function(){var e,n=(0,d.e9)(o,c,"deposit"),t=n.execute,i=n.isPending,u=n.isConfirming,p=n.isConfirmed,y=n.error,m=n.hash,f=n.isTukeMode,b=(e=(0,a._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,t([],e)];case 1:return[2,n.sent()]}})}),function(n){return e.apply(this,arguments)});return(0,r.useEffect)(function(){y&&((0,l.Vh)(y),(0,l.H)(y))},[m,y]),{deposit:b,isPending:i,isConfirming:u,writeError:y,isConfirmed:p,hash:m,isTukeMode:f}},m=function(){var e,n=(0,d.e9)(o,c,"withdraw"),t=n.execute,i=n.isPending,u=n.isConfirming,p=n.isConfirmed,y=n.error,m=n.hash,f=n.isTukeMode,b=(e=(0,a._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,t([e])];case 1:return[2,n.sent()]}})}),function(n){return e.apply(this,arguments)});return(0,r.useEffect)(function(){y&&((0,l.Vh)(y),(0,l.H)(y))},[m,y]),{withdraw:b,isPending:i,isConfirming:u,writeError:y,isConfirmed:p,hash:m,isTukeMode:f}}},3173:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var a=t(85893),s=t(5152),r=t.n(s),i=t(83494),o=t(67294),u=t(42130),d=t(26858),l=t(33838),c=t(73591),p=t(27460),y=t(53696),m=t(42083);function f(){var e=(0,u.m)().address,n=(0,l.hS)("0xc3Da46ED14dBd79922027031BB5D688A81139e01",e||"0x0000000000000000000000000000000000000000"),t=n.balance,s=n.isPending,r=n.error,i=(0,c.S)().handleContractError;return(0,o.useEffect)(function(){r&&i(r,"token")},[r]),(0,a.jsx)("div",{className:"px-4 pt-0 pb-6",children:(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"mr-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"font-bold text-2xl mr-2",children:"TKM20"}),(0,a.jsx)(p.Z,{address:"0xc3Da46ED14dBd79922027031BB5D688A81139e01"}),(0,a.jsx)(y.Z,{tokenAddress:"0xc3Da46ED14dBd79922027031BB5D688A81139e01",tokenSymbol:"TKM20",tokenDecimals:Number("18")||0})]})})}),(0,a.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,a.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"我持有:"}),(0,a.jsx)("span",{className:"text-sm text-secondary",children:s?(0,a.jsx)(m.Z,{}):(0,d.LH)(t||BigInt(0))})]})]})})}var b=r()(function(){return Promise.all([t.e(1617),t.e(6127),t.e(5763)]).then(t.bind(t,15763))},{loadableGenerated:{webpack:function(){return[15763]}},ssr:!1});function x(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:"存入"}),(0,a.jsxs)("main",{className:"flex-grow",children:[(0,a.jsx)(f,{}),(0,a.jsx)(b,{})]})]})}}},function(e){e.O(0,[8501,4463,246,3494,3591,2888,9774,179],function(){return e(e.s=54462)}),_N_E=e.O()}]);