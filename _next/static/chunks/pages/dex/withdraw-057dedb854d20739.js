try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="40fec659-a195-4dcb-9364-b232c43e4c27",e._sentryDebugIdIdentifier="sentry-dbid-40fec659-a195-4dcb-9364-b232c43e4c27")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6637],{34166:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dex/withdraw",function(){return a(5725)}])},35810:function(e,s,a){"use strict";a.d(s,{$N:function(){return v},Be:function(){return b},Vq:function(){return u},cN:function(){return p},cZ:function(){return g},fK:function(){return h},hg:function(){return m}});var n=a(72253),t=a(14932),r=a(47702),i=a(85893),l=a(67294),c=a(12854),o=a(62190),d=a(40108),u=c.fC,m=c.xz,f=c.h_;c.x8;var x=l.forwardRef(function(e,s){var a=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)(c.aV,(0,n._)({ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},t))});x.displayName=c.aV.displayName;var g=l.forwardRef(function(e,s){var a=e.className,l=e.children,u=(0,r._)(e,["className","children"]);return(0,i.jsxs)(f,{children:[(0,i.jsx)(x,{}),(0,i.jsxs)(c.VY,(0,t._)((0,n._)({ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},u),{children:[l,(0,i.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(o.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});g.displayName=c.VY.displayName;var h=function(e){var s=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},a))};h.displayName="DialogHeader";var p=function(e){var s=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},a))};p.displayName="DialogFooter";var v=l.forwardRef(function(e,s){var a=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)(c.Dx,(0,n._)({ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a)},t))});v.displayName=c.Dx.displayName;var b=l.forwardRef(function(e,s){var a=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)(c.dk,(0,n._)({ref:s,className:(0,d.cn)("text-sm text-muted-foreground",a)},t))});b.displayName=c.dk.displayName},55264:function(e,s,a){"use strict";a.d(s,{Z:function(){return n}});var n=(0,a(31134).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},46611:function(e,s,a){"use strict";a.d(s,{Z:function(){return n}});var n=(0,a(31134).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},26735:function(e,s,a){"use strict";a.d(s,{z:function(){return m}});var n=a(11010),t=a(72253),r=a(14932),i=a(97582),l=a(67294),c=a(62776),o=a(85794),d=a(26868),u=a(77580),m=function(e){var s=e.baseToken,a=e.targetToken,m=e.account,f="0xBE7A91095198ddc6356CD7751c3dECa98321FE37",x=(0,d.N)(s.address,(null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",!!a),g=x.pairAddress,h=x.isLoading,p=(0,c.K)({address:m,query:{enabled:!!m&&s.isNative}}),v=p.data,b=p.isLoading,y=p.refetch,N=(0,o.hS)(s.isNative?"0x0000000000000000000000000000000000000000":s.address,m),j=N.balance,k=N.isPending,w=N.refetch,B=(0,o.hS)((null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",m),T=B.balance,A=B.isPending,_=B.refetch,L=(0,o.yG)(s.isNative?"0x0000000000000000000000000000000000000000":s.address,m,f),I=L.allowance,C=L.isPending,E=(0,o.yG)((null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",m,f),z=E.allowance,S=E.isPending,D=(0,u.bQ)(g,m),Z=D.lpBalance,q=D.isLoading,P=D.refetch,R=(0,u.QX)(g),M=R.reserve0,V=R.reserve1,F=R.isLoading,Y=R.refetch,G=(0,u.Oc)(g),J=G.token0,K=G.isLoading,O=(0,u.$C)(g),X=O.token1,H=O.isLoading,Q=(0,u.A5)(g),W=Q.totalSupply,$=Q.isLoading,U=Q.refetch,ee=(0,l.useMemo)(function(){if(!g||!M||!V||!J||!X||!a)return{pairExists:!1,baseReserve:BigInt(0),targetReserve:BigInt(0),baseTokenIsToken0:!1};var e=s.address.toLowerCase()===J.toLowerCase(),n=e?M:V,t=e?V:M;return{pairExists:M>BigInt(0)&&V>BigInt(0),baseReserve:n,targetReserve:t,baseTokenIsToken0:e}},[g,M,V,J,X,s.address,a]),es=(0,l.useCallback)((0,n._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,Promise.all([P(),Y(),U(),_()])];case 1:return e.sent(),[4,s.isNative?y():w()];case 2:return e.sent(),[3,4];case 3:return console.error("刷新流动性数据失败:",e.sent()),[3,4];case 4:return[2]}})}),[P,Y,U,_,y,w,s.isNative]);return(0,r._)((0,t._)({pairAddress:g,baseBalance:s.isNative?null==v?void 0:v.value:j,targetBalance:T,baseAllowance:s.isNative?void 0:I,targetAllowance:z,lpBalance:Z,lpTotalSupply:W,reserve0:M,reserve1:V,token0:J,token1:X},ee),{isLoading:h||b||k||A||C||S||q||F||K||H||$,refreshLiquidityData:es})}},26868:function(e,s,a){"use strict";a.d(s,{N:function(){return r}});var n=a(71104),t=a(86171),r=function(e,s){var a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=(0,n.u)({address:"0x0ce7Aa2069d92De630AFf1B6b512f5E47af6Ffc8",abi:t.K,functionName:"getPair",args:[e,s],query:{enabled:!!e&&!!s&&e!==s&&a}});return{pairAddress:r.data,isLoading:r.isLoading,error:r.error}}},77580:function(e,s,a){"use strict";a.d(s,{$C:function(){return o},A5:function(){return l},Oc:function(){return c},QX:function(){return i},bQ:function(){return r},vG:function(){return d}});var n=a(71104),t=a(18456),r=function(e,s,a){var r=(0,n.u)({address:e,abi:t.y,functionName:"balanceOf",args:[s],query:{enabled:!!e&&!!s&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3,refetchInterval:a||!1}});return{lpBalance:r.data,isLoading:r.isLoading,error:r.error,refetch:r.refetch}},i=function(e,s){var a=(0,n.u)({address:e,abi:t.y,functionName:"getReserves",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3,refetchInterval:s||!1}}),r=a.data,i=a.isLoading,l=a.error,c=a.refetch;return{reserve0:null==r?void 0:r[0],reserve1:null==r?void 0:r[1],blockTimestampLast:null==r?void 0:r[2],reserves:r,isLoading:i,error:l,refetch:c}},l=function(e){var s=(0,n.u)({address:e,abi:t.y,functionName:"totalSupply",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3}});return{totalSupply:s.data,isLoading:s.isLoading,error:s.error,refetch:s.refetch}},c=function(e){var s=(0,n.u)({address:e,abi:t.y,functionName:"token0",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{token0:s.data,isLoading:s.isLoading,error:s.error}},o=function(e){var s=(0,n.u)({address:e,abi:t.y,functionName:"token1",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{token1:s.data,isLoading:s.isLoading,error:s.error}},d=function(e){var s=(0,n.u)({address:e,abi:t.y,functionName:"symbol",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{lpSymbol:s.data,isLoading:s.isLoading,error:s.error}}},5725:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return Z}});var n=a(91309),t=a(85893),r=a(67294),i=a(42130),l=a(11163),c=a(34680),o=a(26735),d=a(43032),u=a(83494),m=a(64777),f=a(42083),x=a(11010),g=a(72253),h=a(14932),p=a(97582),v=a(86501),b=a(63448),y=a(56312),N=a(87536),j=a(46611),k=a(55264),w=a(27245),B=a(21774),T=a(88659),A=a(74193),_=a(35810),L=a(26858),I=a(73591),C=a(85794),E=a(301),z=a(44576),S=function(e){var s=e.baseToken,a=e.targetToken,l=e.baseTokens,o=e.lpBalance,d=e.pairAddress,u=e.baseReserve,m=e.targetReserve,f=e.lpTotalSupply,S=e.onBaseTokenChange,D=e.onRefreshData,Z=(0,i.m)().address,q="0xBE7A91095198ddc6356CD7751c3dECa98321FE37",P=(0,C.yG)(d,Z,q).allowance,R=(0,N.cI)({resolver:(0,y.F)(b.Ry({lpAmount:b.Z_().nonempty("请输入LP数量").refine(function(e){if(e.endsWith(".")||"0"===e)return!0;try{var s=(0,L.vz)(e);return s>BigInt(0)&&s<=o}catch(e){return!1}},{message:"输入数量必须大于0且不超过您的LP余额"}),baseTokenAddress:b.Z_()})),defaultValues:{lpAmount:"",baseTokenAddress:s.address},mode:"onChange"});(0,r.useEffect)(function(){R.setValue("baseTokenAddress",s.address)},[s.address,R]);var M=R.watch("lpAmount"),V=(0,L.vz)(M),F=(0,r.useMemo)(function(){return V&&f&&u&&m&&f!==BigInt(0)?{baseTokenAmount:V*u/f,targetTokenAmount:V*m/f}:{baseTokenAmount:BigInt(0),targetTokenAmount:BigInt(0)}},[V,f,u,m]),Y=F.baseTokenAmount,G=F.targetTokenAmount,J=(0,n._)((0,r.useState)(!1),2),K=J[0],O=J[1];(0,r.useEffect)(function(){V&&void 0!==P?O(P>=V):O(!1)},[V,P]);var X=(0,C.yA)(d),H=X.approve,Q=X.isPending,W=X.isConfirming,$=X.isConfirmed,U=X.writeError,ee=R.handleSubmit((0,x._)(function(){return(0,p.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,H(q,(0,L.vz)(M||"0"))];case 1:return e.sent(),[3,3];case 2:return console.error(e.sent()),[3,3];case 3:return[2]}})}));(0,r.useEffect)(function(){$&&(O(!0),v.Am.success("LP代币授权成功"))},[$]);var es=(0,E.ZS)(),ea=es.removeLiquidity,en=es.isWriting,et=es.isConfirming,er=es.isConfirmed,ei=es.writeError,el=(0,E.Sk)(),ec=el.removeLiquidityETH,eo=el.isWriting,ed=el.isConfirming,eu=el.isConfirmed,em=el.writeError,ef=(0,n._)((0,r.useState)(2.5),2),ex=ef[0],eg=ef[1],eh=(0,n._)((0,r.useState)(!1),2),ep=eh[0],ev=eh[1],eb=(0,n._)((0,r.useState)(""),2),ey=eb[0],eN=eb[1],ej=R.handleSubmit((0,x._)(function(){var e,n,t,r,i,l;return(0,p.Jh)(this,function(c){switch(c.label){case 0:if(!K)return v.Am.error("请先完成LP代币授权"),[2];if(!(e=(0,L.vz)(M||"0"))||e<=BigInt(0))return v.Am.error("请输入有效的LP数量"),[2];c.label=1;case 1:if(c.trys.push([1,6,,7]),n=BigInt(Math.floor(Date.now()/1e3)+1200),t=BigInt(Math.round(10*ex)),r=Y*(BigInt(1e3)-t)/BigInt(1e3),i=G*(BigInt(1e3)-t)/BigInt(1e3),console.log("撤销流动性参数:",{baseToken:s.symbol,targetToken:a.symbol,lpAmount:e.toString(),baseAmountMin:r.toString(),targetAmountMin:i.toString(),slippage:ex,deadline:n.toString()}),!s.isNative)return[3,3];return[4,ec(a.address,e,i,r,Z,n)];case 2:return c.sent(),[3,5];case 3:return[4,ea(s.address,a.address,e,r,i,Z,n)];case 4:c.sent(),c.label=5;case 5:return v.Am.success("撤销流动性交易已提交"),[3,7];case 6:return console.error("撤销流动性失败",l=c.sent()),ek(l,"liquidity"),[3,7];case 7:return[2]}})}));(0,r.useEffect)(function(){if(er||eu){v.Am.success("撤销流动性成功！"),R.reset({lpAmount:"",baseTokenAddress:s.address}),O(!1),setTimeout(function(){D()},2e3);var e=setInterval(function(){D()},3e3);setTimeout(function(){clearInterval(e)},1e4)}},[er,eu,R,s.address,D]);var ek=(0,I.S)().handleContractError;(0,r.useEffect)(function(){U&&ek(U,"liquidity"),ei&&ek(ei,"liquidity"),em&&ek(em,"liquidity")},[U,ei,em,ek]);var ew=en||eo,eB=et||ed,eT=er||eu;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.l0,(0,h._)((0,g._)({},R),{children:(0,t.jsxs)("form",{children:[(0,t.jsx)(c.Zb,{className:"mb-4",children:(0,t.jsx)(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"选择交易对"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(A.Wi,{control:R.control,name:"baseTokenAddress",render:function(e){var s=e.field;return(0,t.jsxs)(A.xJ,{children:[(0,t.jsx)(A.lX,{className:"text-xs text-gray-500",children:"基础代币"}),(0,t.jsx)(A.NI,{children:(0,t.jsxs)(T.Ph,{onValueChange:function(e){var a=l.find(function(s){return s.address===e});a&&(s.onChange(e),S(a))},value:s.value,children:[(0,t.jsx)(T.i4,{className:"w-full",children:(0,t.jsx)(T.ki,{placeholder:"选择代币"})}),(0,t.jsx)(T.Bw,{children:l.map(function(e){return(0,t.jsx)(T.Ql,{value:e.address,children:e.symbol},e.address)})})]})}),(0,t.jsx)(A.zG,{})]})}}),(0,t.jsxs)(A.xJ,{children:[(0,t.jsx)(A.lX,{className:"text-xs text-gray-500",children:"目标代币"}),(0,t.jsx)("div",{className:"h-10 px-3 py-2 border border-gray-200 rounded-md bg-gray-50 flex items-center text-sm text-gray-700",children:a.symbol})]})]})]})})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(A.Wi,{control:R.control,name:"lpAmount",render:function(e){var s=e.field;return(0,t.jsxs)(A.xJ,{children:[(0,t.jsx)(c.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,t.jsxs)(c.aY,{className:"py-4 px-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(B.I,(0,h._)((0,g._)({type:"number",placeholder:"0"},s),{className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,t.jsx)("div",{className:"bg-white px-3 py-1.5 rounded-full border border-gray-200",children:(0,t.jsx)("span",{className:"font-medium text-gray-800 font-mono",children:"LP"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[[25,50,75].map(function(e){return(0,t.jsxs)(w.z,{variant:"outline",size:"sm",type:"button",onClick:function(){var s=o*BigInt(e)/BigInt(100);R.setValue("lpAmount",(0,L.bM)(s))},disabled:o<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,t.jsx)(w.z,{variant:"outline",size:"sm",type:"button",onClick:function(){R.setValue("lpAmount",(0,L.bM)(o))},disabled:o<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["余额：",(0,L.LH)(o)," LP"]})]})]})}),(0,t.jsx)(A.zG,{})]})}})}),V>BigInt(0)&&(0,t.jsx)(c.Zb,{className:"mb-4",children:(0,t.jsxs)(c.aY,{className:"p-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"预计获得"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:s.symbol}),(0,t.jsx)("span",{className:"font-medium",children:(0,L.LH)(Y)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:a.symbol}),(0,t.jsx)("span",{className:"font-medium",children:(0,L.LH)(G)})]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center text-sm mb-4",children:[(0,t.jsxs)("div",{className:"text-gray-600 flex items-center gap-1 mr-2",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4"}),"滑点上限：",ex,"%"]}),(0,t.jsxs)(_.Vq,{open:ep,onOpenChange:ev,children:[(0,t.jsx)(_.hg,{asChild:!0,children:(0,t.jsxs)(w.z,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-gray-100 transition-colors",title:"设置滑点",children:[(0,t.jsx)(k.Z,{className:"h-3 w-3"}),"设置"]})}),(0,t.jsxs)(_.cZ,{className:"sm:max-w-md",children:[(0,t.jsx)(_.fK,{children:(0,t.jsx)(_.$N,{children:"滑点设置"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"选择滑点"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[.5,1,2.5].map(function(e){return(0,t.jsxs)(w.z,{type:"button",variant:ex===e?"default":"outline",size:"sm",onClick:function(){eg(e),eN(""),ev(!1)},className:"text-xs",children:[e,"%"]},e)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"自定义滑点"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(B.I,{type:"number",placeholder:"输入滑点百分比",value:ey,onChange:function(e){return eN(e.target.value)},className:"flex-1",min:"0",max:"50",step:"0.1"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),ey&&(0,t.jsx)(w.z,{type:"button",size:"sm",onClick:function(){var e=parseFloat(ey);e>=0&&e<=50?(eg(e),ev(!1)):v.Am.error("滑点应在 0-50% 之间")},className:"w-full",children:"应用自定义滑点"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-center lg:justify-start space-x-2",children:[(0,t.jsx)(w.z,{type:"button",className:"flex-1 lg:w-auto lg:px-4",disabled:Q||W||K,onClick:ee,children:Q?"授权中...":W?"确认中...":K?"LP已授权":"授权LP代币"}),(0,t.jsx)(w.z,{className:"flex-1 lg:w-auto lg:px-4",onClick:ej,disabled:!K||ew||eB||eT||V<=BigInt(0),children:ew?"提交中...":eB?"确认中...":eT?"已撤销":"撤销流动性"})]})]})})),(0,t.jsx)(z.Z,{isLoading:Q||W||ew||eB,text:Q||ew?"提交交易...":W?"确认授权...":"确认撤销流动性..."})]})},D=function(){var e=[],s="TUSDT",a="0x47Ba4471046fC0442078CF1519924cb205F02c7a";s&&a&&e.push({symbol:s,address:a,decimals:18,isNative:!1});var n="TKM20",t="0xc3Da46ED14dBd79922027031BB5D688A81139e01";return n&&t&&e.push({symbol:n,address:t,decimals:18,isNative:!1}),e},Z=function(){var e=(0,i.m)().address,s=(0,d.Z)().token,a=(0,l.useRouter)(),x=(0,r.useMemo)(function(){return D()},[]),g=(0,n._)((0,r.useState)(function(){return x.find(function(e){return"TUSDT"===e.symbol})||{symbol:"TKM20",address:"0xc3Da46ED14dBd79922027031BB5D688A81139e01",decimals:18,isNative:!1}}),2),h=g[0],p=g[1];(0,r.useEffect)(function(){var e=a.query.baseToken;if(e&&"string"==typeof e&&x.length>0){var s=x.find(function(s){return s.symbol===e});s&&p(s)}},[a.query,x]);var v=(0,r.useMemo)(function(){return s?{symbol:s.symbol,address:s.address,decimals:18,isNative:!1}:null},[s]),b=(0,o.z)({baseToken:h,targetToken:v,account:e}),y=b.lpBalance,N=b.pairAddress,j=b.pairExists,k=b.baseReserve,w=b.targetReserve,B=b.lpTotalSupply,T=b.isLoading,A=b.refreshLiquidityData;if(!s||!v||T)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{title:"流动性撤出"}),(0,t.jsx)("main",{className:"flex-grow px-3 sm:px-0",children:(0,t.jsx)(f.Z,{})})]});var _=j&&(y||BigInt(0))>BigInt(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{title:"流动性撤出",showBackButton:!0}),(0,t.jsx)("main",{className:"flex-grow sm:px-0",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,t.jsx)(m.Z,{title:"流动性撤出"})}),(0,t.jsx)("div",{className:"w-full max-w-md",children:j?_?(0,t.jsx)(S,{baseToken:h,targetToken:v,baseTokens:x,lpBalance:y||BigInt(0),pairAddress:N,baseReserve:k||BigInt(0),targetReserve:w||BigInt(0),lpTotalSupply:B||BigInt(0),onBaseTokenChange:p,onRefreshData:A}):(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"p-6 text-center",children:(0,t.jsxs)("div",{className:"text-gray-500",children:[(0,t.jsx)("p",{className:"font-medium",children:"您在此交易对中没有LP代币"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"请先添加流动性"})]})})}):(0,t.jsx)(c.Zb,{children:(0,t.jsx)(c.aY,{className:"p-6 text-center",children:(0,t.jsxs)("div",{className:"text-gray-500",children:[(0,t.jsx)("p",{className:"font-medium",children:"未找到流动性池"}),(0,t.jsxs)("p",{className:"text-sm mt-1",children:[h.symbol,"-",v.symbol," 交易对不存在"]})]})})})})]})})]})}}},function(e){e.O(0,[8501,4463,1617,5771,3494,3591,6127,2467,172,2888,9774,179],function(){return e(e.s=34166)}),_N_E=e.O()}]);