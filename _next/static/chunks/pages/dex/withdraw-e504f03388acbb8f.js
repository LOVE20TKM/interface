try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="1f89042d-75d7-480f-88ff-fdd9866f79c8",e._sentryDebugIdIdentifier="sentry-dbid-1f89042d-75d7-480f-88ff-fdd9866f79c8")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6637],{34166:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dex/withdraw",function(){return a(5725)}])},35810:function(e,s,a){"use strict";a.d(s,{$N:function(){return h},Be:function(){return v},Vq:function(){return u},cN:function(){return g},cZ:function(){return p},fK:function(){return y},hg:function(){return m}});var t=a(72253),n=a(14932),r=a(47702),i=a(85893),d=a(67294),l=a(12854),o=a(62190),c=a(40108),u=l.fC,m=l.xz,f=l.h_;l.x8;var x=d.forwardRef(function(e,s){var a=e.className,n=(0,r._)(e,["className"]);return(0,i.jsx)(l.aV,(0,t._)({ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},n))});x.displayName=l.aV.displayName;var p=d.forwardRef(function(e,s){var a=e.className,d=e.children,u=(0,r._)(e,["className","children"]);return(0,i.jsxs)(f,{children:[(0,i.jsx)(x,{}),(0,i.jsxs)(l.VY,(0,n._)((0,t._)({ref:s,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},u),{children:[d,(0,i.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(o.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});p.displayName=l.VY.displayName;var y=function(e){var s=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},a))};y.displayName="DialogHeader";var g=function(e){var s=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,t._)({className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},a))};g.displayName="DialogFooter";var h=d.forwardRef(function(e,s){var a=e.className,n=(0,r._)(e,["className"]);return(0,i.jsx)(l.Dx,(0,t._)({ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",a)},n))});h.displayName=l.Dx.displayName;var v=d.forwardRef(function(e,s){var a=e.className,n=(0,r._)(e,["className"]);return(0,i.jsx)(l.dk,(0,t._)({ref:s,className:(0,c.cn)("text-sm text-muted-foreground",a)},n))});v.displayName=l.dk.displayName},55264:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var t=(0,a(31134).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},46611:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var t=(0,a(31134).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},86171:function(e,s,a){"use strict";a.d(s,{K:function(){return t}});var t=[{type:"constructor",inputs:[{name:"_feeToSetter",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"allPairs",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"allPairsLength",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"createPair",inputs:[{name:"tokenA",type:"address",internalType:"address"},{name:"tokenB",type:"address",internalType:"address"}],outputs:[{name:"pair",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"feeTo",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"feeToSetter",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPair",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"setFeeTo",inputs:[{name:"_feeTo",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setFeeToSetter",inputs:[{name:"_feeToSetter",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"PairCreated",inputs:[{name:"token0",type:"address",indexed:!0,internalType:"address"},{name:"token1",type:"address",indexed:!0,internalType:"address"},{name:"pair",type:"address",indexed:!1,internalType:"address"},{name:"",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}]},26735:function(e,s,a){"use strict";a.d(s,{z:function(){return m}});var t=a(11010),n=a(72253),r=a(14932),i=a(97582),d=a(67294),l=a(62776),o=a(85794),c=a(26868),u=a(77580),m=function(e){var s=e.baseToken,a=e.targetToken,m=e.account,f="0xBE7A91095198ddc6356CD7751c3dECa98321FE37",x=(0,c.N)(s.address,(null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",!!a),p=x.pairAddress,y=x.isLoading,g=(0,l.K)({address:m,query:{enabled:!!m&&s.isNative}}),h=g.data,v=g.isLoading,b=g.refetch,N=(0,o.hS)(s.isNative?"0x0000000000000000000000000000000000000000":s.address,m),j=N.balance,T=N.isPending,k=N.refetch,w=(0,o.hS)((null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",m),B=w.balance,_=w.isPending,A=w.refetch,L=(0,o.yG)(s.isNative?"0x0000000000000000000000000000000000000000":s.address,m,f),I=L.allowance,C=L.isPending,S=(0,o.yG)((null==a?void 0:a.address)||"0x0000000000000000000000000000000000000000",m,f),E=S.allowance,z=S.isPending,P=(0,u.bQ)(p,m),D=P.lpBalance,Z=P.isLoading,M=P.refetch,q=(0,u.QX)(p),R=q.reserve0,F=q.reserve1,V=q.isLoading,K=q.refetch,Y=(0,u.Oc)(p),G=Y.token0,J=Y.isLoading,O=(0,u.$C)(p),X=O.token1,H=O.isLoading,Q=(0,u.A5)(p),W=Q.totalSupply,$=Q.isLoading,U=Q.refetch,ee=(0,d.useMemo)(function(){if(!p||!R||!F||!G||!X||!a)return{pairExists:!1,baseReserve:BigInt(0),targetReserve:BigInt(0),baseTokenIsToken0:!1};var e=s.address.toLowerCase()===G.toLowerCase(),t=e?R:F,n=e?F:R;return{pairExists:R>BigInt(0)&&F>BigInt(0),baseReserve:t,targetReserve:n,baseTokenIsToken0:e}},[p,R,F,G,X,s.address,a]),es=(0,d.useCallback)((0,t._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,Promise.all([M(),K(),U(),A()])];case 1:return e.sent(),[4,s.isNative?b():k()];case 2:return e.sent(),[3,4];case 3:return console.error("刷新流动性数据失败:",e.sent()),[3,4];case 4:return[2]}})}),[M,K,U,A,b,k,s.isNative]);return(0,r._)((0,n._)({pairAddress:p,baseBalance:s.isNative?null==h?void 0:h.value:j,targetBalance:B,baseAllowance:s.isNative?void 0:I,targetAllowance:E,lpBalance:D,lpTotalSupply:W,reserve0:R,reserve1:F,token0:G,token1:X},ee),{isLoading:y||v||T||_||C||z||Z||V||J||H||$,refreshLiquidityData:es})}},26868:function(e,s,a){"use strict";a.d(s,{N:function(){return r}});var t=a(71104),n=a(86171),r=function(e,s){var a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=(0,t.u)({address:"0x0ce7Aa2069d92De630AFf1B6b512f5E47af6Ffc8",abi:n.K,functionName:"getPair",args:[e,s],query:{enabled:!!e&&!!s&&e!==s&&a}});return{pairAddress:r.data,isLoading:r.isLoading,error:r.error}}},77580:function(e,s,a){"use strict";a.d(s,{$C:function(){return o},A5:function(){return d},Oc:function(){return l},QX:function(){return i},bQ:function(){return r},vG:function(){return c}});var t=a(71104),n=a(18456),r=function(e,s,a){var r=(0,t.u)({address:e,abi:n.y,functionName:"balanceOf",args:[s],query:{enabled:!!e&&!!s&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3,refetchInterval:a||!1}});return{lpBalance:r.data,isLoading:r.isLoading,error:r.error,refetch:r.refetch}},i=function(e,s){var a=(0,t.u)({address:e,abi:n.y,functionName:"getReserves",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3,refetchInterval:s||!1}}),r=a.data,i=a.isLoading,d=a.error,l=a.refetch;return{reserve0:null==r?void 0:r[0],reserve1:null==r?void 0:r[1],blockTimestampLast:null==r?void 0:r[2],reserves:r,isLoading:i,error:d,refetch:l}},d=function(e){var s=(0,t.u)({address:e,abi:n.y,functionName:"totalSupply",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e,staleTime:3e3}});return{totalSupply:s.data,isLoading:s.isLoading,error:s.error,refetch:s.refetch}},l=function(e){var s=(0,t.u)({address:e,abi:n.y,functionName:"token0",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{token0:s.data,isLoading:s.isLoading,error:s.error}},o=function(e){var s=(0,t.u)({address:e,abi:n.y,functionName:"token1",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{token1:s.data,isLoading:s.isLoading,error:s.error}},c=function(e){var s=(0,t.u)({address:e,abi:n.y,functionName:"symbol",query:{enabled:!!e&&"0x0000000000000000000000000000000000000000"!==e}});return{lpSymbol:s.data,isLoading:s.isLoading,error:s.error}}},5725:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return D}});var t=a(91309),n=a(85893),r=a(67294),i=a(42130),d=a(11163),l=a(34680),o=a(26735),c=a(43032),u=a(83494),m=a(64777),f=a(42083),x=a(11010),p=a(72253),y=a(14932),g=a(97582),h=a(86501),v=a(45901),b=a(56312),N=a(87536),j=a(46611),T=a(55264),k=a(27245),w=a(21774),B=a(88659),_=a(74193),A=a(35810),L=a(91529),I=a(73591),C=a(85794),S=a(301),E=a(44576),z=function(e){var s=e.baseToken,a=e.targetToken,d=e.baseTokens,o=e.lpBalance,c=e.pairAddress,u=e.baseReserve,m=e.targetReserve,f=e.lpTotalSupply,z=e.onBaseTokenChange,P=e.onRefreshData,D=(0,i.m)().address,Z="0xBE7A91095198ddc6356CD7751c3dECa98321FE37",M=(0,C.yG)(c,D,Z),q=M.allowance,R=M.refetch,F=(0,N.cI)({resolver:(0,b.F)(v.Ry({lpAmount:v.Z_().nonempty("请输入LP数量").refine(function(e){if(e.endsWith(".")||"0"===e)return!0;try{var s=(0,L.vz)(e);return s>BigInt(0)&&s<=o}catch(e){return!1}},{message:"输入数量必须大于0且不超过您的LP余额"}),baseTokenAddress:v.Z_()})),defaultValues:{lpAmount:"",baseTokenAddress:s.address},mode:"onChange"});(0,r.useEffect)(function(){F.setValue("baseTokenAddress",s.address)},[s.address,F]);var V=F.watch("lpAmount"),K=(0,L.vz)(V),Y=(0,r.useMemo)(function(){return K&&f&&u&&m&&f!==BigInt(0)?{baseTokenAmount:K*u/f,targetTokenAmount:K*m/f}:{baseTokenAmount:BigInt(0),targetTokenAmount:BigInt(0)}},[K,f,u,m]),G=Y.baseTokenAmount,J=Y.targetTokenAmount,O=(0,t._)((0,r.useState)(!1),2),X=O[0],H=O[1];(0,r.useEffect)(function(){K&&void 0!==q?H(q>=K):H(!1)},[K,q]);var Q=(0,C.yA)(c),W=Q.approve,$=Q.isPending,U=Q.isConfirming,ee=Q.isConfirmed,es=Q.writeError,ea=F.handleSubmit((0,x._)(function(){return(0,g.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,W(Z,(0,L.vz)(V||"0"))];case 1:return e.sent(),[3,3];case 2:return console.error(e.sent()),[3,3];case 3:return[2]}})}));(0,r.useEffect)(function(){ee&&(H(!0),h.Am.success("LP代币授权成功"),R())},[ee,R]);var et=(0,S.ZS)(),en=et.removeLiquidity,er=et.isWriting,ei=et.isConfirming,ed=et.isConfirmed,el=et.writeError,eo=(0,S.Sk)(),ec=eo.removeLiquidityETH,eu=eo.isWriting,em=eo.isConfirming,ef=eo.isConfirmed,ex=eo.writeError,ep=(0,t._)((0,r.useState)(2.5),2),ey=ep[0],eg=ep[1],eh=(0,t._)((0,r.useState)(!1),2),ev=eh[0],eb=eh[1],eN=(0,t._)((0,r.useState)(""),2),ej=eN[0],eT=eN[1],ek=F.handleSubmit((0,x._)(function(){var e,t,n,r,i,d;return(0,g.Jh)(this,function(l){switch(l.label){case 0:if(!X)return h.Am.error("请先完成LP代币授权"),[2];if(!(e=(0,L.vz)(V||"0"))||e<=BigInt(0))return h.Am.error("请输入有效的LP数量"),[2];l.label=1;case 1:if(l.trys.push([1,6,,7]),t=BigInt(Math.floor(Date.now()/1e3)+1200),n=BigInt(Math.round(10*ey)),r=G*(BigInt(1e3)-n)/BigInt(1e3),i=J*(BigInt(1e3)-n)/BigInt(1e3),console.log("撤销流动性参数:",{baseToken:s.symbol,targetToken:a.symbol,lpAmount:e.toString(),baseAmountMin:r.toString(),targetAmountMin:i.toString(),slippage:ey,deadline:t.toString()}),!s.isNative)return[3,3];return[4,ec(a.address,e,i,r,D,t)];case 2:return l.sent(),[3,5];case 3:return[4,en(s.address,a.address,e,r,i,D,t)];case 4:l.sent(),l.label=5;case 5:return h.Am.success("撤销流动性交易已提交"),[3,7];case 6:return console.error("撤销流动性失败",d=l.sent()),ew(d,"liquidity"),[3,7];case 7:return[2]}})}));(0,r.useEffect)(function(){if(ed||ef){h.Am.success("撤销流动性成功！"),F.reset({lpAmount:"",baseTokenAddress:s.address}),H(!1),setTimeout(function(){P()},2e3);var e=setInterval(function(){P()},3e3);setTimeout(function(){clearInterval(e)},1e4)}},[ed,ef,F,s.address,P]);var ew=(0,I.S)().handleContractError;(0,r.useEffect)(function(){es&&ew(es,"liquidity"),el&&ew(el,"liquidity"),ex&&ew(ex,"liquidity")},[es,el,ex,ew]);var eB=er||eu,e_=ei||em,eA=ed||ef;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.l0,(0,y._)((0,p._)({},F),{children:(0,n.jsxs)("form",{children:[(0,n.jsx)(l.Zb,{className:"mb-4",children:(0,n.jsx)(l.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"选择交易对"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsx)(_.Wi,{control:F.control,name:"baseTokenAddress",render:function(e){var s=e.field;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{className:"text-xs text-gray-500",children:"基础代币"}),(0,n.jsx)(_.NI,{children:(0,n.jsxs)(B.Ph,{onValueChange:function(e){var a=d.find(function(s){return s.address===e});a&&(s.onChange(e),z(a))},value:s.value,children:[(0,n.jsx)(B.i4,{className:"w-full",children:(0,n.jsx)(B.ki,{placeholder:"选择代币"})}),(0,n.jsx)(B.Bw,{children:d.map(function(e){return(0,n.jsx)(B.Ql,{value:e.address,children:e.symbol},e.address)})})]})}),(0,n.jsx)(_.zG,{})]})}}),(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{className:"text-xs text-gray-500",children:"目标代币"}),(0,n.jsx)("div",{className:"h-10 px-3 py-2 border border-gray-200 rounded-md bg-gray-50 flex items-center text-sm text-gray-700",children:a.symbol})]})]})]})})}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(_.Wi,{control:F.control,name:"lpAmount",render:function(e){var s=e.field;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(l.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,n.jsxs)(l.aY,{className:"py-4 px-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)(w.I,(0,y._)((0,p._)({type:"number",placeholder:"0"},s),{className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,n.jsx)("div",{className:"bg-white px-3 py-1.5 rounded-full border border-gray-200",children:(0,n.jsx)("span",{className:"font-medium text-gray-800 font-mono",children:"LP"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex space-x-1",children:[[25,50,75].map(function(e){return(0,n.jsxs)(k.z,{variant:"outline",size:"sm",type:"button",onClick:function(){var s=o*BigInt(e)/BigInt(100);F.setValue("lpAmount",(0,L.bM)(s))},disabled:o<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,n.jsx)(k.z,{variant:"outline",size:"sm",type:"button",onClick:function(){F.setValue("lpAmount",(0,L.bM)(o))},disabled:o<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["余额：",(0,L.LH)(o)," LP"]})]})]})}),(0,n.jsx)(_.zG,{})]})}})}),K>BigInt(0)&&(0,n.jsx)(l.Zb,{className:"mb-4",children:(0,n.jsxs)(l.aY,{className:"p-4",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"预计获得"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:s.symbol}),(0,n.jsx)("span",{className:"font-medium",children:(0,L.LH)(G)})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:a.symbol}),(0,n.jsx)("span",{className:"font-medium",children:(0,L.LH)(J)})]})]})]})}),(0,n.jsxs)("div",{className:"flex items-center text-sm mb-4",children:[(0,n.jsxs)("div",{className:"text-gray-600 flex items-center gap-1 mr-2",children:[(0,n.jsx)(j.Z,{className:"w-4 h-4"}),"滑点上限：",ey,"%"]}),(0,n.jsxs)(A.Vq,{open:ev,onOpenChange:eb,children:[(0,n.jsx)(A.hg,{asChild:!0,children:(0,n.jsxs)(k.z,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-gray-100 transition-colors",title:"设置滑点",children:[(0,n.jsx)(T.Z,{className:"h-3 w-3"}),"设置"]})}),(0,n.jsxs)(A.cZ,{className:"sm:max-w-md",children:[(0,n.jsx)(A.fK,{children:(0,n.jsx)(A.$N,{children:"滑点设置"})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"选择滑点"}),(0,n.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[.5,1,2.5].map(function(e){return(0,n.jsxs)(k.z,{type:"button",variant:ey===e?"default":"outline",size:"sm",onClick:function(){eg(e),eT(""),eb(!1)},className:"text-xs",children:[e,"%"]},e)})})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"自定义滑点"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(w.I,{type:"number",placeholder:"输入滑点百分比",value:ej,onChange:function(e){return eT(e.target.value)},className:"flex-1",min:"0",max:"50",step:"0.1"}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),ej&&(0,n.jsx)(k.z,{type:"button",size:"sm",onClick:function(){var e=parseFloat(ej);e>=0&&e<=50?(eg(e),eb(!1)):h.Am.error("滑点应在 0-50% 之间")},className:"w-full",children:"应用自定义滑点"})]})]})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-center lg:justify-start space-x-2",children:[(0,n.jsx)(k.z,{type:"button",className:"flex-1 lg:w-auto lg:px-4",disabled:$||U||X,onClick:ea,children:$?"授权中...":U?"确认中...":X?"LP已授权":"授权LP代币"}),(0,n.jsx)(k.z,{className:"flex-1 lg:w-auto lg:px-4",onClick:ek,disabled:!X||eB||e_||eA||K<=BigInt(0),children:eB?"提交中...":e_?"确认中...":eA?"已撤销":"撤销流动性"})]})]})})),(0,n.jsx)(E.Z,{isLoading:$||U||eB||e_,text:$||eB?"提交交易...":U?"确认授权...":"确认撤销流动性..."})]})},P=function(){var e=[],s="TUSDT",a="0x47Ba4471046fC0442078CF1519924cb205F02c7a";s&&a&&e.push({symbol:s,address:a,decimals:18,isNative:!1});var t="TKM20",n="0xc3Da46ED14dBd79922027031BB5D688A81139e01";return t&&n&&e.push({symbol:t,address:n,decimals:18,isNative:!1}),e},D=function(){var e=(0,i.m)().address,s=(0,c.Z)().token,a=(0,d.useRouter)(),x=(0,r.useMemo)(function(){return P()},[]),p=(0,t._)((0,r.useState)(function(){return x.find(function(e){return"TUSDT"===e.symbol})||{symbol:"TKM20",address:"0xc3Da46ED14dBd79922027031BB5D688A81139e01",decimals:18,isNative:!1}}),2),y=p[0],g=p[1];(0,r.useEffect)(function(){var e=a.query.baseToken;if(e&&"string"==typeof e&&x.length>0){var s=x.find(function(s){return s.symbol===e});s&&g(s)}},[a.query,x]);var h=(0,r.useMemo)(function(){return s?{symbol:s.symbol,address:s.address,decimals:18,isNative:!1}:null},[s]),v=(0,o.z)({baseToken:y,targetToken:h,account:e}),b=v.lpBalance,N=v.pairAddress,j=v.pairExists,T=v.baseReserve,k=v.targetReserve,w=v.lpTotalSupply,B=v.isLoading,_=v.refreshLiquidityData;if(!s||!h||B)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{title:"流动性撤出"}),(0,n.jsx)("main",{className:"flex-grow px-3 sm:px-0",children:(0,n.jsx)(f.Z,{})})]});var A=j&&(b||BigInt(0))>BigInt(0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{title:"流动性撤出",showBackButton:!0}),(0,n.jsx)("main",{className:"flex-grow sm:px-0",children:(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,n.jsx)(m.Z,{title:"流动性撤出"})}),(0,n.jsx)("div",{className:"w-full max-w-md",children:j?A?(0,n.jsx)(z,{baseToken:y,targetToken:h,baseTokens:x,lpBalance:b||BigInt(0),pairAddress:N,baseReserve:T||BigInt(0),targetReserve:k||BigInt(0),lpTotalSupply:w||BigInt(0),onBaseTokenChange:g,onRefreshData:_}):(0,n.jsx)(l.Zb,{children:(0,n.jsx)(l.aY,{className:"p-6 text-center",children:(0,n.jsxs)("div",{className:"text-gray-500",children:[(0,n.jsx)("p",{className:"font-medium",children:"您在此交易对中没有LP代币"}),(0,n.jsx)("p",{className:"text-sm mt-1",children:"请先添加流动性"})]})})}):(0,n.jsx)(l.Zb,{children:(0,n.jsx)(l.aY,{className:"p-6 text-center",children:(0,n.jsxs)("div",{className:"text-gray-500",children:[(0,n.jsx)("p",{className:"font-medium",children:"未找到流动性池"}),(0,n.jsxs)("p",{className:"text-sm mt-1",children:[y.symbol,"-",h.symbol," 交易对不存在"]})]})})})})]})})]})}}},function(e){e.O(0,[8501,4463,721,5771,3494,3591,7013,2888,9774,179],function(){return e(e.s=34166)}),_N_E=e.O()}]);