(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6862],{28638:(e,s,a)=>{"use strict";a.d(s,{BT:()=>m,Wu:()=>o,ZB:()=>x,Zp:()=>d,aR:()=>i,wL:()=>h});var t=a(3576),r=a(65699),l=a(37876),n=a(14232),c=a(30684),d=n.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a)},n))});d.displayName="Card";var i=n.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",a)},n))});i.displayName="CardHeader";var x=n.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",a)},n))});x.displayName="CardTitle";var m=n.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("text-sm text-muted-foreground",a)},n))});m.displayName="CardDescription";var o=n.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("p-6 pt-0",a)},n))});o.displayName="CardContent";var h=n.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("flex items-center p-6 pt-0",a)},n))});h.displayName="CardFooter"},57863:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return a(70281)}])},70281:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(37876),r=a(14232),l=a(8047),n=a(48230),c=a.n(n),d=a(6960),i=a(83416),x=a(66663),m=a(1709),o=a(20442),h=a(9215),j=a(20451),N=a(12293),v=a(87577),p=a(75695);let f=e=>{var s=e.token,a=(0,l.F)().address,n=(0,h.lW)(null==s?void 0:s.address,a),i=n.balance,x=n.isPending,f=n.error,y=(0,h.lW)(null==s?void 0:s.parentTokenAddress,a),u=y.balance,b=y.isPending,g=y.error,w=(0,j.g)().handleContractError;return((0,r.useEffect)(()=>{f&&w(f,"token"),g&&w(g,"token")},[f,g]),s)?a?(0,t.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(m.A,{title:"我的代币"}),(0,t.jsx)(d.$,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,t.jsx)(c(),{href:"/dex/swap?symbol=".concat(s.symbol),children:"兑换代币"})})]}),(0,t.jsxs)("div",{className:"stats bg-gray-100 w-full grid grid-cols-2 divide-x-0",children:[(0,t.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,t.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["持有 ",null==s?void 0:s.symbol,(0,t.jsx)(v.A,{address:s.address,showAddress:!1}),(0,t.jsx)(p.A,{tokenAddress:s.address,tokenSymbol:s.symbol,tokenDecimals:s.decimals})]}),(0,t.jsx)("div",{className:"stat-value text-xl",children:x?(0,t.jsx)(N.A,{}):(0,o.NJ)(i||BigInt(0),0)}),(0,t.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light",children:"不含质押、锁定"})]}),(0,t.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,t.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["持有 ",null==s?void 0:s.parentTokenSymbol,(0,t.jsx)(v.A,{address:s.parentTokenAddress,showAddress:!1}),(0,t.jsx)(p.A,{tokenAddress:s.parentTokenAddress,tokenSymbol:s.parentTokenSymbol,tokenDecimals:s.decimals})]}),(0,t.jsx)("div",{className:"stat-value text-xl",children:b?(0,t.jsx)(N.A,{}):(0,o.NJ)(u||BigInt(0),0)}),(0,t.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light"})]})]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,t.jsx)(m.A,{title:"我的代币"}),(0,t.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):(0,t.jsx)(N.A,{})};var y=a(92474),u=a(28638),b=a(96108),g=a(52372);let w=e=>{var s=e.token,a=(0,l.F)().address,r=(0,g.wz)((null==s?void 0:s.address)||"",a),n=r.joinedActions,d=r.isPending,i=r.error,x=(0,j.g)().handleContractError;return(i&&x(i,"dataViewer"),d)?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"pt-4 px-4",children:[(0,t.jsx)(m.A,{title:"我参与的行动"}),(0,t.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:(0,t.jsx)(N.A,{})})]})}):(0,t.jsxs)("div",{className:"pt-4 px-4",children:[(0,t.jsx)(m.A,{title:"我参与的行动"}),(null==n?void 0:n.length)?(0,t.jsx)("div",{className:"mt-4 space-y-4",children:null==n?void 0:n.map((e,a)=>(0,t.jsx)(u.Zp,{className:"shadow-none",children:(0,t.jsxs)(c(),{href:"/my/actrewards?id=".concat(e.action.head.id,"&symbol=").concat(null==s?void 0:s.symbol),className:"relative block",children:[(0,t.jsxs)(u.aR,{className:"px-3 pt-2 pb-1 flex-row justify-between items-baseline",children:[(0,t.jsxs)("div",{className:"flex items-baseline",children:[(0,t.jsx)("span",{className:"text-greyscale-400 text-sm mr-1",children:"No.".concat(e.action.head.id)}),(0,t.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.action.body.action)})]}),e.votesNum>0?(0,t.jsx)("span",{className:"text-secondary text-xs",children:"进行中"}):(0,t.jsx)("span",{className:"text-error text-xs",children:"未投票"})]}),(0,t.jsxs)(u.Wu,{className:"px-3 pt-1 pb-2",children:[(0,t.jsx)("div",{className:"text-greyscale-500",children:e.action.body.consensus}),(0,t.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 mr-1",children:"我参与代币"}),(0,t.jsx)("span",{className:"text-secondary",children:(0,o.NJ)(e.stakedAmount)})]}),e.votesNum>0&&(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 mr-1",children:"投票占比"}),(0,t.jsx)("span",{className:"text-secondary",children:"".concat((Number(e.votePercent)/100).toFixed(1),"%")})]})]})]}),(0,t.jsx)(b.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]},e.action.head.id)},e.action.head.id))}):(0,t.jsx)("div",{className:"text-sm text-greyscale-500 text-center my-6",children:"没有参与行动，请先参与"})]})};var k=a(19593);let A=()=>{var e=((0,r.useContext)(i.N)||{}).token,s=(0,l.F)().isConnected;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{title:"我的"}),(0,t.jsx)("main",{className:"flex-grow",children:s?e?e&&!e.hasEnded?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-4 mt-4",children:[(0,t.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"公平发射未结束，还不能查看个人资产"}),(0,t.jsx)(d.$,{className:"w-1/2",asChild:!0,children:(0,t.jsx)(c(),{href:"/launch?symbol=".concat(e.symbol),children:"查看公平发射"})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{token:e}),(0,t.jsxs)("div",{className:"flex-col items-center p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)(m.A,{title:"我的治理资产"}),(0,t.jsx)(d.$,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,t.jsx)(c(),{href:"/gov/unstake?symbol=".concat(null==e?void 0:e.symbol),children:"取消质押"})})]}),(0,t.jsx)(y.A,{token:e})]}),(0,t.jsx)(w,{token:e})]}):(0,t.jsx)(N.A,{}):(0,t.jsx)("div",{className:"flex flex-col items-center p-4 mt-4",children:(0,t.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"没有链接钱包，请先连接钱包"})})})]})}},96108:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var t=(0,a(11713).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[4571,4112,5752,2569,5139,5284,2781,9593,3297,2474,636,6593,8792],()=>s(57863)),_N_E=e.O()}]);