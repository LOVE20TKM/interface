try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1831931b-83a3-46d1-a20e-41c691f77ed4",e._sentryDebugIdIdentifier="sentry-dbid-1831931b-83a3-46d1-a20e-41c691f77ed4")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{53696:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(11010),s=t(91309),r=t(97582),i=t(85893),o=t(67294),u=t(23432),l=(0,t(31134).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),d=t(42130),c=t(30246),p=t(86501),y=t(55612);function m(e){var n,t=e.tokenAddress,m=e.tokenSymbol,f=e.tokenDecimals,h=e.tokenImage,b=(0,s._)((0,o.useState)(!1),2),x=b[0],g=b[1],v=(0,d.m)().isConnected,w=(0,c.p)().data,T=(n=(0,a._)(function(){return(0,r.Jh)(this,function(e){switch(e.label){case 0:if(!v)return alert("请先连接你的钱包"),[2];g(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!w)return alert("无法获取钱包客户端"),[2];return[4,w.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:m,decimals:f,image:h}}})];case 2:return e.sent()?p.ZP.success("代币已成功添加到 MetaMask 钱包"):p.ZP.error("用户拒绝添加代币"),[3,5];case 3:return e.sent(),p.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return g(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return m.length>11||(0,y.ON)()?null:(0,i.jsx)("button",{onClick:T,disabled:x,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:x?(0,i.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(l,{className:"h-4 w-4 text-greyscale-500"})})}},27460:function(e,n,t){var a=t(91309),s=t(85893),r=t(67294),i=t(74855),o=t(78865),u=t(18289),l=t(86501),d=t(91529);n.Z=function(e){var n=e.address,t=e.word,c=e.showCopyButton,p=e.showCopyLast4Button,y=e.showAddress,m=void 0===y||y,f=e.colorClassName,h=void 0===f?"":f,b=e.colorClassName2,x=void 0===b?"":b,g=(0,a._)((0,r.useState)(!1),2),v=g[0],w=g[1],T=(0,a._)((0,r.useState)(!1),2),k=T[0],N=T[1];(0,r.useEffect)(function(){w(!1),N(!1)},[n]);var j=function(e){e.preventDefault(),e.stopPropagation()};return(0,s.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,s.jsx)("span",{className:"text-xs",children:t}),m&&!x&&(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:(0,d.Vu)(n)}),m&&x&&(0,s.jsxs)("span",{className:"text-[0px]",children:[(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,s.jsx)("span",{className:"font-mono text-xs ".concat(x),children:"".concat(n.substring(n.length-4))})]}),(void 0===c||c)&&(0,s.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?(w(!0),setTimeout(function(){return w(!1)},2e3)):l.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:j,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:v?(0,s.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")}):(0,s.jsx)(u.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")})})}),void 0!==p&&p&&(0,s.jsx)(i.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(N(!0),l.ZP.success("已复制后4位"),setTimeout(function(){return N(!1)},2e3)):l.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:j,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:k?(0,s.jsx)("span",{className:"".concat(null!=h?h:"text-greyscale-500"),children:"已复制"}):(0,s.jsx)("span",{className:"".concat(null!=h?h:"text-greyscale-500"),children:"后4位"})})})]})}},42083:function(e,n,t){var a=t(85893),s=t(23432);n.Z=function(){return(0,a.jsx)(s.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},84333:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(85893),s=t(67294),r=t(42130),i=t(91529),o=t(33838),u=t(73591),l=t(27460),d=t(53696),c=t(42083);function p(){var e=(0,r.m)().address,n=(0,o.hS)("0xc3Da46ED14dBd79922027031BB5D688A81139e01",e||"0x0000000000000000000000000000000000000000"),t=n.balance,p=n.isPending,y=n.error,m=(0,u.S)().handleContractError;return(0,s.useEffect)(function(){y&&m(y,"token")},[y]),(0,a.jsx)("div",{className:"px-4 pt-0 pb-6",children:(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"mr-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"font-bold text-2xl mr-2",children:"TKM20"}),(0,a.jsx)(l.Z,{address:"0xc3Da46ED14dBd79922027031BB5D688A81139e01"}),(0,a.jsx)(d.Z,{tokenAddress:"0xc3Da46ED14dBd79922027031BB5D688A81139e01",tokenSymbol:"TKM20",tokenDecimals:Number("18")||0})]})})}),(0,a.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,a.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"我持有:"}),(0,a.jsx)("span",{className:"text-sm text-secondary",children:p?(0,a.jsx)(c.Z,{}):(0,i.LH)(t||BigInt(0))})]})]})})}},33838:function(e,n,t){t.d(n,{hS:function(){return p},Qo:function(){return y},Qc:function(){return m}});var a=t(11010),s=t(97582),r=t(67294),i=t(71104),o=[{type:"fallback",stateMutability:"payable"},{type:"function",name:"allowance",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"guy",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"deposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"src",type:"address",internalType:"address"},{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"guy",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],u=t(37742),l=t(37474),d=t(84689),c="0xc3Da46ED14dBd79922027031BB5D688A81139e01",p=function(e,n){var t=(0,i.u)({address:e,abi:o,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n}}),a=t.data,s=t.isPending,r=t.error;return{balance:a?(0,u.Zu)(a):void 0,isPending:s,error:r}},y=function(){var e,n=(0,l.e9)(o,c,"deposit"),t=n.execute,i=n.isPending,u=n.isConfirming,p=n.isConfirmed,y=n.error,m=n.hash,f=n.isTukeMode,h=(e=(0,a._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,t([],e)];case 1:return[2,n.sent()]}})}),function(n){return e.apply(this,arguments)});return(0,r.useEffect)(function(){y&&((0,d.Vh)(y),(0,d.H)(y))},[m,y]),{deposit:h,isPending:i,isConfirming:u,writeError:y,isConfirmed:p,hash:m,isTukeMode:f}},m=function(){var e,n=(0,l.e9)(o,c,"withdraw"),t=n.execute,i=n.isPending,u=n.isConfirming,p=n.isConfirmed,y=n.error,m=n.hash,f=n.isTukeMode,h=(e=(0,a._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,t([e])];case 1:return[2,n.sent()]}})}),function(n){return e.apply(this,arguments)});return(0,r.useEffect)(function(){y&&((0,d.Vh)(y),(0,d.H)(y))},[m,y]),{withdraw:h,isPending:i,isConfirming:u,writeError:y,isConfirmed:p,hash:m,isTukeMode:f}}},21803:function(e,n,t){t.d(n,{v:function(){return a}});function a(e,n){let[t,a="0"]=e.split("."),s=t.startsWith("-");if(s&&(t=t.slice(1)),a=a.replace(/(0+)$/,""),0===n)1===Math.round(Number(`.${a}`))&&(t=`${BigInt(t)+1n}`),a="";else if(a.length>n){let[e,s,r]=[a.slice(0,n-1),a.slice(n-1,n),a.slice(n)],i=Math.round(Number(`${s}.${r}`));(a=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>n&&(a=a.slice(1),t=`${BigInt(t)+1n}`),a=a.slice(0,n)}else a=a.padEnd(n,"0");return BigInt(`${s?"-":""}${t}${a}`)}}}]);