try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ce67cc86-bfa9-435d-a8fc-e4e3d13404fc",e._sentryDebugIdIdentifier="sentry-dbid-ce67cc86-bfa9-435d-a8fc-e4e3d13404fc")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6097],{27460:function(e,n,t){var r=t(91309),i=t(85893),s=t(67294),o=t(74855),a=t(78865),c=t(18289),u=t(86501),l=t(91529);n.Z=function(e){var n=e.address,t=e.word,d=e.showCopyButton,f=e.showCopyLast4Button,g=e.showAddress,p=void 0===g||g,h=e.colorClassName,m=void 0===h?"":h,b=e.colorClassName2,x=void 0===b?"":b,v=(0,r._)((0,s.useState)(!1),2),y=v[0],w=v[1],k=(0,r._)((0,s.useState)(!1),2),N=k[0],C=k[1];(0,s.useEffect)(function(){w(!1),C(!1)},[n]);var j=function(e){e.preventDefault(),e.stopPropagation()};return(0,i.jsxs)("span",{className:"inline-flex items-center space-x-1",children:[t&&(0,i.jsx)("span",{className:"text-xs",children:t}),p&&!x&&(0,i.jsx)("span",{className:"font-mono text-xs ".concat(null!=m?m:"text-greyscale-500"),children:(0,l.Vu)(n)}),p&&x&&(0,i.jsxs)("span",{className:"text-[0px]",children:[(0,i.jsx)("span",{className:"font-mono text-xs ".concat(null!=m?m:"text-greyscale-500"),children:"".concat(n.substring(0,4),"...")}),(0,i.jsx)("span",{className:"font-mono text-xs ".concat(x),children:"".concat(n.substring(n.length-6))})]}),(void 0===d||d)&&(0,i.jsx)(o.CopyToClipboard,{text:n,onCopy:function(e,n){n?(w(!0),setTimeout(function(){return w(!1)},2e3)):u.ZP.error("复制失败")},children:(0,i.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:j,"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:y?(0,i.jsx)(a.Z,{className:"h-4 w-4 ".concat(null!=m?m:"text-greyscale-500")}):(0,i.jsx)(c.Z,{className:"h-4 w-4 ".concat(null!=m?m:"text-greyscale-500")})})}),void 0!==f&&f&&(0,i.jsx)(o.CopyToClipboard,{text:n.substring(n.length-4),onCopy:function(e,n){n?(C(!0),u.ZP.success("已复制后4位"),setTimeout(function(){return C(!1)},2e3)):u.ZP.error("复制失败")},children:(0,i.jsx)("button",{className:"text-xs px-2 py-1 rounded border border-gray-300 focus:outline-none active:bg-gray-200 md:hover:bg-gray-100 transition-colors",onClick:j,"aria-label":"复制地址后4位",style:{WebkitTapHighlightColor:"transparent"},children:N?(0,i.jsx)("span",{className:"".concat(null!=m?m:"text-greyscale-500"),children:"已复制"}):(0,i.jsx)("span",{className:"".concat(null!=m?m:"text-greyscale-500"),children:"后4位"})})})]})}},93566:function(e,n,t){t.d(n,{$A:function(){return h},Bk:function(){return p},Xo:function(){return x},dI:function(){return f},qd:function(){return b},r7:function(){return g},sK:function(){return m}});var r=t(11010),i=t(97582),s=t(67294),o=t(71104),a=t(7724),c=t(37742),u=t(84689),l=t(37474),d="0xeBB295af1D4ee9ed92e55EFF4ca5Eb8D4AB81aCE",f=function(e,n){var t=(0,o.u)({address:d,abi:a.d,functionName:"actionInfo",args:[e,n||BigInt(0)],query:{enabled:!!e&&void 0!==n}});return{actionInfo:t.data,isPending:t.isPending,error:t.error}},g=function(e){var n=(0,o.u)({address:d,abi:a.d,functionName:"actionsCount",args:[e]}),t=n.data,r=n.isPending,i=n.error;return{actionNum:t?(0,c.Z)(t):void 0,isPending:r,error:i}},p=function(){var e=(0,o.u)({address:d,abi:a.d,functionName:"currentRound",args:[]}),n=e.data,t=e.isPending,r=e.error;return{currentRound:(0,c.Z)(n),isPending:t,error:r}},h=function(e,n,t){var r=(0,o.u)({address:d,abi:a.d,functionName:"isSubmitted",args:[e,n,t]});return{isSubmitted:r.data,isPending:r.isPending,error:r.error}},m=function(e,n,t){var r=(0,o.u)({address:d,abi:a.d,functionName:"submitInfo",args:[e,n,t],query:{enabled:!!e&&!!n}});return{submitInfo:r.data,isPending:r.isPending,error:r.error}};function b(){var e,n=(0,l.e9)(a.d,d,"submit"),t=n.execute,o=n.isPending,c=n.isConfirming,f=n.isConfirmed,g=n.error,p=n.hash,h=n.isTukeMode,m=(e=(0,r._)(function(e,n){return(0,i.Jh)(this,function(r){switch(r.label){case 0:return console.log("提交submit交易:",{tokenAddress:e,actionId:n,isTukeMode:h}),[4,t([e,n])];case 1:return[2,r.sent()]}})}),function(n,t){return e.apply(this,arguments)});return(0,s.useEffect)(function(){p&&console.log("submit tx hash:",p),g&&(console.log("提交submit交易错误:"),(0,u.Vh)(g),(0,u.H)(g)),f&&console.log("submit tx confirmed")},[p,g,f]),{submit:m,isPending:o,isConfirming:c,writeError:g,isConfirmed:f,hash:p,isTukeMode:h}}function x(){var e,n=(0,l.e9)(a.d,d,"submitNewAction"),t=n.execute,o=n.isPending,c=n.isConfirming,f=n.isConfirmed,g=n.error,p=n.hash,h=n.isTukeMode,m=(e=(0,r._)(function(e,n){return(0,i.Jh)(this,function(r){switch(r.label){case 0:return console.log("提交submitNewAction交易:",{tokenAddress:e,actionBody:n,isTukeMode:h}),[4,t([e,n])];case 1:return[2,r.sent()]}})}),function(n,t){return e.apply(this,arguments)});return(0,s.useEffect)(function(){p&&console.log("submitNewAction tx hash:",p),g&&(console.log("提交submitNewAction交易错误:"),(0,u.Vh)(g),(0,u.H)(g)),f&&console.log("submitNewAction tx confirmed")},[p,g,f]),{submitNewAction:m,isPending:o,isConfirming:c,writeError:g,isConfirmed:f,hash:p,isTukeMode:h}}},45655:function(e,n,t){t.d(n,{Hg:function(){return c},KL:function(){return o},lt:function(){return a},rJ:function(){return u}});var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};function i(e){return e?e.replace(/[&<>"'/]/g,function(e){return r[e]||e}):""}function s(e){if(!e)return"";var n=e.replace(/<[^>]*>/g,"");return i(n=(n=(n=n.replace(/javascript:/gi,"")).replace(/on\w+\s*=/gi,"")).replace(/data:[^;]*;base64,/gi,""))}function o(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";var t=/(https?:\/\/[^\s]+)/g;if(0===(e.match(t)||[]).length){var r=i(e);return n?r.replace(/\n/g,"<br>"):r}var s=e;return s=(s=(s=(s=s.replace(/<script[^>]*>.*?<\/script>/gi,"")).replace(/<[^>]*on\w+\s*=\s*[^>]*>/gi,"")).replace(/javascript:/gi,"")).split(t).map(function(e,n){return n%2==0?function(e){if(!e)return"";var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return e.replace(/[&<>"']/g,function(e){return n[e]||e})}(e):a(e)?e:i(e)}).join(""),n&&(s=s.replace(/\n/g,"<br>")),s}function a(e){if(!e)return!1;try{var n=new URL(e);if(!["https:","http:"].includes(n.protocol))return!1;var t=n.hostname.toLowerCase(),r=e.toLowerCase();if(r.includes("javascript:")||r.includes("data:")||r.includes("vbscript:")||r.includes("file:")||["phishing-site.com","fake-bank.com","malware-host.net"].some(function(e){return t===e||t.endsWith("."+e)})||["phishing","malware","trojan","keylogger","ransomware","exploit-kit"].some(function(e){return t.includes(e)})||/[\u0000-\u001f\u007f-\u009f]/.test(t)||!/^[a-zA-Z0-9.-]+$/.test(t))return!1;return/^\d+\.\d+\.\d+\.\d+$/.test(t),!0}catch(e){return!1}}function c(e){var n=[],t=e;if(!e||""===e.trim())return{isValid:!1,errors:["验证规则不能为空"],sanitizedRule:""};e.length>1e4&&n.push("验证规则不能超过10000字"),/<(?:script|iframe|object|embed|form|input|meta|link|style)[^>]*>/gi.test(e)&&(n.push("验证规则不能包含危险的HTML标签"),t=s(e)),RegExp("(?<!https?:\\/\\/[^\\s]*)(javascript:|onclick\\s*=|onerror\\s*=|onload\\s*=|<script)","gi").test(e)&&(n.push("验证规则不能包含可执行脚本代码"),t=s(e));var r=e.match(/(https?:\/\/[^\s]+)/g)||[];if(r.length>0){var i=r.filter(function(e){return!a(e)});i.length>0&&n.push("包含危险的链接，已被安全过滤器拦截: ".concat(i.join(", ")))}return{isValid:0===n.length,errors:n,sanitizedRule:t}}function u(e){var n=[];if(!e||""===e.trim())return{isValid:!1,errors:["验证名称不能为空"],sanitizedKey:""};var t=s(e);return t!==e&&n.push("验证名称包含不安全的内容"),{isValid:0===n.length,errors:n,sanitizedKey:t}}},72107:function(e,n,t){t.d(n,{L:function(){return a}});var r=t(85893);t(67294);var i=t(11066),s=t(45655),o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;var t=/(https?:\/\/[^\s]+)/g;if(!t.test(e)){var o=(0,s.KL)(e,n);return(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:o}})}var a=e.split(t),c=e.match(t)||[];return(0,r.jsx)(r.Fragment,{children:a.map(function(e,t){if(t%2==0){var o=(0,s.KL)(e,n);return(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:o}},t)}var a=c[(t-1)/2];return(0,s.lt)(a)?(0,r.jsx)("a",{href:a,onClick:function(e){return(e.preventDefault(),e.stopPropagation(),(0,s.lt)(a))?i.N.handleExternalLink(a):alert("链接安全检查失败: ".concat(a.substring(0,50),"...")),!1},className:"text-blue-500 underline hover:text-blue-700 break-words break-all whitespace-normal",title:"外部链接: ".concat(a),rel:"noopener noreferrer",target:"_self",children:a.length>32?"".concat(a.substring(0,29),"..."):a},t):(0,r.jsx)("span",{className:"text-red-500 font-semibold",children:"[危险链接已被拦截]"},t)})})},a=function(e){var n=e.text,t=e.preserveLineBreaks;return(0,r.jsx)(r.Fragment,{children:o(n,void 0!==t&&t)})}}}]);